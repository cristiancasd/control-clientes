.push([[179],{2011:(ut,Ie,F)=>{"use strict";F.d(Ie,{hO:()=>$e,xv:()=>ce,Dh:()=>ae,GT:()=>fe,cc:()=>le,on:()=>$,pX:()=>te});var I=F(5e3),h=F(127),V=F(5813);ut=F.hmd(ut);const oe=["ngOnDestroy"],te=(ne,he,be,_e={})=>new Proxy(ne,{get:(ze,Oe)=>be.runOutsideAngular(()=>{var lt;if(ne[Oe])return(null===(lt=null==_e?void 0:_e.spy)||void 0===lt?void 0:lt.get)&&_e.spy.get(Oe,ne[Oe]),ne[Oe];if(oe.indexOf(Oe)>-1)return()=>{};const nt=he.toPromise().then(wt=>{const re=wt&&wt[Oe];return"function"==typeof re?re.bind(wt):re&&re.then?re.then(Ee=>be.run(()=>Ee)):be.run(()=>re)});return new Proxy(()=>{},{get:(wt,re)=>nt[re],apply:(wt,re,Ee)=>nt.then(De=>{var Re;const Be=De&&De(...Ee);return(null===(Re=null==_e?void 0:_e.spy)||void 0===Re?void 0:Re.apply)&&_e.spy.apply(Oe,Ee,Be),Be})})})}),fe=(ne,he)=>{he.forEach(be=>{Object.getOwnPropertyNames(be.prototype||be).forEach(_e=>{Object.defineProperty(ne.prototype,_e,Object.getOwnPropertyDescriptor(be.prototype||be,_e))})})};class ue{constructor(he){return he}}const ae=new I.InjectionToken("angularfire2.app.options"),ce=new I.InjectionToken("angularfire2.app.name");function $(ne,he,be){const ze="object"==typeof be&&be||{};ze.name=ze.name||"string"==typeof be&&be||"[DEFAULT]";const lt=h.Z.apps.filter(nt=>nt&&nt.name===ze.name)[0]||he.runOutsideAngular(()=>h.Z.initializeApp(ne,ze));try{JSON.stringify(ne)!==JSON.stringify(lt.options)&&H("error",`${lt.name} Firebase App already initialized with different options${ut.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(nt){}return new ue(lt)}const H=(ne,...he)=>{(0,I.isDevMode)()&&"undefined"!=typeof console&&console[ne](...he)},X={provide:ue,useFactory:$,deps:[ae,I.NgZone,[new I.Optional,ce]]};let $e=(()=>{class ne{constructor(be){h.Z.registerVersion("angularfire",V.q4.full,"core"),h.Z.registerVersion("angularfire",V.q4.full,"app-compat"),h.Z.registerVersion("angular",I.VERSION.full,be.toString())}static initializeApp(be,_e){return{ngModule:ne,providers:[{provide:ae,useValue:be},{provide:ce,useValue:_e}]}}}return ne.\u0275fac=function(be){return new(be||ne)(I.\u0275\u0275inject(I.PLATFORM_ID))},ne.\u0275mod=I.\u0275\u0275defineNgModule({type:ne}),ne.\u0275inj=I.\u0275\u0275defineInjector({providers:[X]}),ne})();function le(ne,he,be,_e,ze){const[,Oe,lt]=globalThis.\u0275AngularfireInstanceCache.find(nt=>nt[0]===ne)||[];if(Oe)return function pe(ne,he){try{return ne.toString()===he.toString()}catch(be){return ne===he}}(ze,lt)||(Z("error",`${he} was already initialized on the ${be} Firebase App with different settings.${Me?" You may need to reload as Firebase is not HMR aware.":""}`),Z("warn",{is:ze,was:lt})),Oe;{const nt=_e();return globalThis.\u0275AngularfireInstanceCache.push([ne,nt,ze]),nt}}const Me=!!ut.hot,Z=(ne,...he)=>{(0,I.isDevMode)()&&"undefined"!=typeof console&&console[ne](...he)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ut,Ie,F)=>{"use strict";F.d(Ie,{q4:()=>il,iC:()=>pu,HU:()=>Zo,vb:()=>hf,JM:()=>pc});var I=F(5e3),h=F(5867),V=F(5861),oe=F(9681),te=F(2090),fe=F(4859),ue=F(1877),ae=F(2940);const ce="@firebase/installations",$="0.5.5",X=`w:${$}`,$e="FIS_v2",he=new te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function be(D){return D instanceof te.ZR&&D.code.includes("request-failed")}function _e({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function ze(D){return{token:D.token,requestStatus:2,expiresIn:De(D.expiresIn),creationTime:Date.now()}}function Oe(D,A){return lt.apply(this,arguments)}function lt(){return(lt=(0,V.Z)(function*(D,A){const B=(yield A.json()).error;return he.create("request-failed",{requestName:D,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function nt({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function wt(D,{refreshToken:A}){const N=nt(D);return N.append("Authorization",function Re(D){return`${$e} ${D}`}(A)),N}function re(D){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,V.Z)(function*(D){const A=yield D();return A.status>=500&&A.status<600?D():A})).apply(this,arguments)}function De(D){return Number(D.replace("s","000"))}function Be(D,A){return ge.apply(this,arguments)}function ge(){return(ge=(0,V.Z)(function*(D,{fid:A}){const N=_e(D),de={method:"POST",headers:nt(D),body:JSON.stringify({fid:A,authVersion:$e,appId:D.appId,sdkVersion:X})},Ve=yield re(()=>fetch(N,de));if(Ve.ok){const Je=yield Ve.json();return{fid:Je.fid||A,registrationStatus:2,refreshToken:Je.refreshToken,authToken:ze(Je.authToken)}}throw yield Oe("Create Installation",Ve)})).apply(this,arguments)}function ft(D){return new Promise(A=>{setTimeout(A,D)})}const Ir=/^[cdef][\w-]{21}$/;function _t(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const N=function Hn(D){return function Bt(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Ir.test(N)?N:""}catch(D){return""}}function Xt(D){return`${D.appName}!${D.appId}`}const cr=new Map;function tn(D,A){const N=Xt(D);bn(N,A),function vi(D,A){const N=function Qt(){return!nn&&"BroadcastChannel"in self&&(nn=new BroadcastChannel("[Firebase] FID Change"),nn.onmessage=D=>{bn(D.data.key,D.data.fid)}),nn}();N&&N.postMessage({key:D,fid:A}),function cs(){0===cr.size&&nn&&(nn.close(),nn=null)}()}(N,A)}function bn(D,A){const N=cr.get(D);if(N)for(const B of N)B(A)}let nn=null;const Fe="firebase-installations-store";let dr=null;function ct(){return dr||(dr=(0,ae.openDb)("firebase-installations-database",1,D=>{0===D.oldVersion&&D.createObjectStore(Fe)})),dr}function Ei(D,A){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,V.Z)(function*(D,A){const N=Xt(D),Y=(yield ct()).transaction(Fe,"readwrite"),de=Y.objectStore(Fe),Ve=yield de.get(N);return yield de.put(A,N),yield Y.complete,(!Ve||Ve.fid!==A.fid)&&tn(D,A.fid),A})).apply(this,arguments)}function Yn(D){return ds.apply(this,arguments)}function ds(){return(ds=(0,V.Z)(function*(D){const A=Xt(D),B=(yield ct()).transaction(Fe,"readwrite");yield B.objectStore(Fe).delete(A),yield B.complete})).apply(this,arguments)}function Mr(D,A){return hr.apply(this,arguments)}function hr(){return(hr=(0,V.Z)(function*(D,A){const N=Xt(D),Y=(yield ct()).transaction(Fe,"readwrite"),de=Y.objectStore(Fe),Ve=yield de.get(N),Je=A(Ve);return void 0===Je?yield de.delete(N):yield de.put(Je,N),yield Y.complete,Je&&(!Ve||Ve.fid!==Je.fid)&&tn(D,Je.fid),Je})).apply(this,arguments)}function Cn(D){return on.apply(this,arguments)}function on(){return(on=(0,V.Z)(function*(D){let A;const N=yield Mr(D,B=>{const Y=zr(B),de=$t(D,Y);return A=de.registrationPromise,de.installationEntry});return""===N.fid?{installationEntry:yield A}:{installationEntry:N,registrationPromise:A}})).apply(this,arguments)}function zr(D){return En(D||{fid:_t(),registrationStatus:0})}function $t(D,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(he.create("app-offline"))};const N={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},B=function gt(D,A){return Et.apply(this,arguments)}(D,N);return{installationEntry:N,registrationPromise:B}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:Gi(D)}:{installationEntry:A}}function Et(){return(Et=(0,V.Z)(function*(D,A){try{return Ei(D,yield Be(D,A))}catch(N){throw be(N)&&409===N.customData.serverCode?yield Yn(D):yield Ei(D,{fid:A.fid,registrationStatus:0}),N}})).apply(this,arguments)}function Gi(D){return hs.apply(this,arguments)}function hs(){return(hs=(0,V.Z)(function*(D){let A=yield vt(D);for(;1===A.registrationStatus;)yield ft(100),A=yield vt(D);if(0===A.registrationStatus){const{installationEntry:N,registrationPromise:B}=yield Cn(D);return B||N}return A})).apply(this,arguments)}function vt(D){return Mr(D,A=>{if(!A)throw he.create("installation-not-found");return En(A)})}function En(D){return function fr(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Oi(D,A){return G.apply(this,arguments)}function G(){return(G=(0,V.Z)(function*({appConfig:D,platformLoggerProvider:A},N){const B=W(D,N),Y=wt(D,N),de=A.getImmediate({optional:!0});de&&Y.append("x-firebase-client",de.getPlatformInfoString());const Je={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:X}})},Xe=yield re(()=>fetch(B,Je));if(Xe.ok)return ze(yield Xe.json());throw yield Oe("Generate Auth Token",Xe)})).apply(this,arguments)}function W(D,{fid:A}){return`${_e(D)}/${A}/authTokens:generate`}function Q(D){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,V.Z)(function*(D,A=!1){let N;const B=yield Mr(D.appConfig,de=>{if(!dt(de))throw he.create("not-registered");const Ve=de.authToken;if(!A&&Pt(Ve))return de;if(1===Ve.requestStatus)return N=ie(D,A),de;{if(!navigator.onLine)throw he.create("app-offline");const Je=gn(de);return N=Te(D,Je),Je}});return N?yield N:B.authToken})).apply(this,arguments)}function ie(D,A){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,V.Z)(function*(D,A){let N=yield xe(D.appConfig);for(;1===N.authToken.requestStatus;)yield ft(100),N=yield xe(D.appConfig);const B=N.authToken;return 0===B.requestStatus?Q(D,A):B})).apply(this,arguments)}function xe(D){return Mr(D,A=>{if(!dt(A))throw he.create("not-registered");return function nr(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function Te(D,A){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,V.Z)(function*(D,A){try{const N=yield Oi(D,A),B=Object.assign(Object.assign({},A),{authToken:N});return yield Ei(D.appConfig,B),N}catch(N){if(!be(N)||401!==N.customData.serverCode&&404!==N.customData.serverCode){const B=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield Ei(D.appConfig,B)}else yield Yn(D.appConfig);throw N}})).apply(this,arguments)}function dt(D){return void 0!==D&&2===D.registrationStatus}function Pt(D){return 2===D.requestStatus&&!function Ct(D){const A=Date.now();return A<D.creationTime||D.creationTime+D.expiresIn<A+36e5}(D)}function gn(D){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:A})}function fs(){return(fs=(0,V.Z)(function*(D){const A=D,{installationEntry:N,registrationPromise:B}=yield Cn(A.appConfig);return B?B.catch(console.error):Q(A).catch(console.error),N.fid})).apply(this,arguments)}function xr(){return(xr=(0,V.Z)(function*(D,A=!1){const N=D;return yield Tn(N.appConfig),(yield Q(N,A)).token})).apply(this,arguments)}function Tn(D){return kt.apply(this,arguments)}function kt(){return(kt=(0,V.Z)(function*(D){const{registrationPromise:A}=yield Cn(D);A&&(yield A)})).apply(this,arguments)}function bt(D){return he.create("missing-app-config-values",{valueName:D})}const Or="installations",Rt=D=>{const A=D.getProvider("app").getImmediate(),N=function Kt(D){if(!D||!D.options)throw bt("App Configuration");if(!D.name)throw bt("App Name");const A=["projectId","apiKey","appId"];for(const N of A)if(!D.options[N])throw bt(N);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(A);return{app:A,appConfig:N,platformLoggerProvider:(0,oe._getProvider)(A,"platform-logger"),_delete:()=>Promise.resolve()}},Yt=D=>{const A=D.getProvider("app").getImmediate(),N=(0,oe._getProvider)(A,Or).getImmediate();return{getId:()=>function Ka(D){return fs.apply(this,arguments)}(N),getToken:Y=>function rr(D){return xr.apply(this,arguments)}(N,Y)}};(function Vn(){(0,oe._registerComponent)(new fe.wA(Or,Rt,"PUBLIC")),(0,oe._registerComponent)(new fe.wA("installations-internal",Yt,"PRIVATE"))})(),(0,oe.registerVersion)(ce,$),(0,oe.registerVersion)(ce,$,"esm2017");const Jn="@firebase/remote-config",Rn=new te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class xd{constructor(A,N,B,Y){this.client=A,this.storage=N,this.storageCache=B,this.logger=Y}isCachedDataFresh(A,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-N,Y=B<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${Y}.`),Y}fetch(A){var N=this;return(0,V.Z)(function*(){const[B,Y]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(Y&&N.isCachedDataFresh(A.cacheMaxAgeMillis,B))return Y;A.eTag=Y&&Y.eTag;const de=yield N.client.fetch(A),Ve=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===de.status&&Ve.push(N.storage.setLastSuccessfulFetchResponse(de)),yield Promise.all(Ve),de})()}}function Rd(D=navigator){return D.languages&&D.languages[0]||D.language}class Pi{constructor(A,N,B,Y,de,Ve){this.firebaseInstallations=A,this.sdkVersion=N,this.namespace=B,this.projectId=Y,this.apiKey=de,this.appId=Ve}fetch(A){var N=this;return(0,V.Z)(function*(){const[B,Y]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),Ve=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,Je={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},Xe={sdk_version:N.sdkVersion,app_instance_id:B,app_instance_id_token:Y,app_id:N.appId,language_code:Rd()},rn={method:"POST",headers:Je,body:JSON.stringify(Xe)},ln=fetch(Ve,rn),Tr=new Promise((Ui,bs)=>{A.signal.addEventListener(()=>{const Na=new Error("The operation was aborted.");Na.name="AbortError",bs(Na)})});let Zn;try{yield Promise.race([ln,Tr]),Zn=yield ln}catch(Ui){let bs="fetch-client-network";throw"AbortError"===Ui.name&&(bs="fetch-timeout"),Rn.create(bs,{originalErrorMessage:Ui.message})}let _n=Zn.status;const Di=Zn.headers.get("ETag")||void 0;let ns,Co;if(200===Zn.status){let Ui;try{Ui=yield Zn.json()}catch(bs){throw Rn.create("fetch-client-parse",{originalErrorMessage:bs.message})}ns=Ui.entries,Co=Ui.state}if("INSTANCE_STATE_UNSPECIFIED"===Co?_n=500:"NO_CHANGE"===Co?_n=304:("NO_TEMPLATE"===Co||"EMPTY_CONFIG"===Co)&&(ns={}),304!==_n&&200!==_n)throw Rn.create("fetch-status",{httpStatus:_n});return{status:_n,eTag:Di,config:ns}})()}}class we{constructor(A,N){this.client=A,this.storage=N}fetch(A){var N=this;return(0,V.Z)(function*(){const B=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(A,B)})()}attemptFetch(A,{throttleEndTimeMillis:N,backoffCount:B}){var Y=this;return(0,V.Z)(function*(){yield function ua(D,A){return new Promise((N,B)=>{const Y=Math.max(A-Date.now(),0),de=setTimeout(N,Y);D.addEventListener(()=>{clearTimeout(de),B(Rn.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,N);try{const de=yield Y.client.fetch(A);return yield Y.storage.deleteThrottleMetadata(),de}catch(de){if(!function Od(D){if(!(D instanceof te.ZR&&D.customData))return!1;const A=Number(D.customData.httpStatus);return 429===A||500===A||503===A||504===A}(de))throw de;const Ve={throttleEndTimeMillis:Date.now()+(0,te.$s)(B),backoffCount:B+1};return yield Y.storage.setThrottleMetadata(Ve),Y.attemptFetch(A,Ve)}})()}}class Lt{constructor(A,N,B,Y,de){this.app=A,this._client=N,this._storageCache=B,this._storage=Y,this._logger=de,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function li(D,A){const N=D.target.error||void 0;return Rn.create(A,{originalErrorMessage:N&&N.message})}const ms="app_namespace_store";class ki{constructor(A,N,B,Y=function Un(){return new Promise((D,A)=>{try{const N=indexedDB.open("firebase_remote_config",1);N.onerror=B=>{A(li(B,"storage-open"))},N.onsuccess=B=>{D(B.target.result)},N.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(ms,{keyPath:"compositeKey"})}}catch(N){A(Rn.create("storage-open",{originalErrorMessage:N}))}})}()){this.appId=A,this.appName=N,this.namespace=B,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var N=this;return(0,V.Z)(function*(){const B=yield N.openDbPromise;return new Promise((Y,de)=>{const Je=B.transaction([ms],"readonly").objectStore(ms),Xe=N.createCompositeKey(A);try{const rn=Je.get(Xe);rn.onerror=ln=>{de(li(ln,"storage-get"))},rn.onsuccess=ln=>{const Tr=ln.target.result;Y(Tr?Tr.value:void 0)}}catch(rn){de(Rn.create("storage-get",{originalErrorMessage:rn&&rn.message}))}})})()}set(A,N){var B=this;return(0,V.Z)(function*(){const Y=yield B.openDbPromise;return new Promise((de,Ve)=>{const Xe=Y.transaction([ms],"readwrite").objectStore(ms),rn=B.createCompositeKey(A);try{const ln=Xe.put({compositeKey:rn,value:N});ln.onerror=Tr=>{Ve(li(Tr,"storage-set"))},ln.onsuccess=()=>{de()}}catch(ln){Ve(Rn.create("storage-set",{originalErrorMessage:ln&&ln.message}))}})})()}delete(A){var N=this;return(0,V.Z)(function*(){const B=yield N.openDbPromise;return new Promise((Y,de)=>{const Je=B.transaction([ms],"readwrite").objectStore(ms),Xe=N.createCompositeKey(A);try{const rn=Je.delete(Xe);rn.onerror=ln=>{de(li(ln,"storage-delete"))},rn.onsuccess=()=>{Y()}}catch(rn){de(Rn.create("storage-delete",{originalErrorMessage:rn&&rn.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class fo{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,V.Z)(function*(){const N=A.storage.getLastFetchStatus(),B=A.storage.getLastSuccessfulFetchTimestampMillis(),Y=A.storage.getActiveConfig(),de=yield N;de&&(A.lastFetchStatus=de);const Ve=yield B;Ve&&(A.lastSuccessfulFetchTimestampMillis=Ve);const Je=yield Y;Je&&(A.activeConfig=Je)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function Ja(){return da.apply(this,arguments)}function da(){return(da=(0,V.Z)(function*(){if(!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(D){return!1}})).apply(this,arguments)}!function Ya(){(0,oe._registerComponent)(new fe.wA("remote-config",function D(A,{instanceIdentifier:N}){const B=A.getProvider("app").getImmediate(),Y=A.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Rn.create("registration-window");if(!(0,te.hl)())throw Rn.create("indexed-db-unavailable");const{projectId:de,apiKey:Ve,appId:Je}=B.options;if(!de)throw Rn.create("registration-project-id");if(!Ve)throw Rn.create("registration-api-key");if(!Je)throw Rn.create("registration-app-id");const Xe=new ki(Je,B.name,N=N||"firebase"),rn=new fo(Xe),ln=new ue.Yd(Jn);ln.logLevel=ue.in.ERROR;const Tr=new Pi(Y,oe.SDK_VERSION,N,de,Ve,Je),Zn=new we(Tr,Xe),_n=new xd(Zn,Xe,rn,ln),Di=new Lt(B,_n,rn,Xe,ln);return function yn(D){const A=(0,te.m9)(D);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(Di),Di},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(Jn,"0.3.4"),(0,oe.registerVersion)(Jn,"0.3.4","esm2017")}();const Xa="/firebase-messaging-sw.js",ys="/firebase-cloud-messaging-push-scope",po="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",On="google.c.a.c_id",Wi="google.c.a.c_l",Ki="google.c.a.ts",ha="google.c.a.e";var zn=(()=>{return(D=zn||(zn={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",zn;var D})();function Pr(D){const A=new Uint8Array(D);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function go(D){const N=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(N),Y=new Uint8Array(B.length);for(let de=0;de<B.length;++de)Y[de]=B.charCodeAt(de);return Y}const kr="fcm_token_details_db",eu="fcm_token_object_Store";function Fo(D){return tu.apply(this,arguments)}function tu(){return tu=(0,V.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(de=>de.name).includes(kr))return null;let A=null;return(yield(0,ae.openDb)(kr,5,function(){var B=(0,V.Z)(function*(Y){var de;if(Y.oldVersion<2||!Y.objectStoreNames.contains(eu))return;const Ve=Y.transaction.objectStore(eu),Je=yield Ve.index("fcmSenderId").get(D);if(yield Ve.clear(),Je)if(2===Y.oldVersion){const Xe=Je;if(!Xe.auth||!Xe.p256dh||!Xe.endpoint)return;A={token:Xe.fcmToken,createTime:null!==(de=Xe.createTime)&&void 0!==de?de:Date.now(),subscriptionOptions:{auth:Xe.auth,p256dh:Xe.p256dh,endpoint:Xe.endpoint,swScope:Xe.swScope,vapidKey:"string"==typeof Xe.vapidKey?Xe.vapidKey:Pr(Xe.vapidKey)}}}else if(3===Y.oldVersion){const Xe=Je;A={token:Xe.fcmToken,createTime:Xe.createTime,subscriptionOptions:{auth:Pr(Xe.auth),p256dh:Pr(Xe.p256dh),endpoint:Xe.endpoint,swScope:Xe.swScope,vapidKey:Pr(Xe.vapidKey)}}}else if(4===Y.oldVersion){const Xe=Je;A={token:Xe.fcmToken,createTime:Xe.createTime,subscriptionOptions:{auth:Pr(Xe.auth),p256dh:Pr(Xe.p256dh),endpoint:Xe.endpoint,swScope:Xe.swScope,vapidKey:Pr(Xe.vapidKey)}}}});return function(Y){return B.apply(this,arguments)}}())).close(),yield(0,ae.deleteDb)(kr),yield(0,ae.deleteDb)("fcm_vapid_details_db"),yield(0,ae.deleteDb)("undefined"),zs(A)?A:null}),tu.apply(this,arguments)}function zs(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:A}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}const Zi="firebase-messaging-store";let ru=null;function vn(){return ru||(ru=(0,ae.openDb)("firebase-messaging-database",1,D=>{0===D.oldVersion&&D.createObjectStore(Zi)})),ru}function S(D){return P.apply(this,arguments)}function P(){return(P=(0,V.Z)(function*(D){const A=Pe(D),B=yield(yield vn()).transaction(Zi).objectStore(Zi).get(A);if(B)return B;{const Y=yield Fo(D.appConfig.senderId);if(Y)return yield T(D,Y),Y}})).apply(this,arguments)}function T(D,A){return k.apply(this,arguments)}function k(){return(k=(0,V.Z)(function*(D,A){const N=Pe(D),Y=(yield vn()).transaction(Zi,"readwrite");return yield Y.objectStore(Zi).put(A,N),yield Y.complete,A})).apply(this,arguments)}function z(D){return me.apply(this,arguments)}function me(){return(me=(0,V.Z)(function*(D){const A=Pe(D),B=(yield vn()).transaction(Zi,"readwrite");yield B.objectStore(Zi).delete(A),yield B.complete})).apply(this,arguments)}function Pe({appConfig:D}){return D.appId}const Ot=new te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zt(D,A){return hn.apply(this,arguments)}function hn(){return(hn=(0,V.Z)(function*(D,A){const N=yield Fi(D),B=Qi(A),Y={method:"POST",headers:N,body:JSON.stringify(B)};let de;try{de=yield(yield fetch(Wn(D.appConfig),Y)).json()}catch(Ve){throw Ot.create("token-subscribe-failed",{errorInfo:Ve})}if(de.error)throw Ot.create("token-subscribe-failed",{errorInfo:de.error.message});if(!de.token)throw Ot.create("token-subscribe-no-token");return de.token})).apply(this,arguments)}function Mt(D,A){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,V.Z)(function*(D,A){const N=yield Fi(D),B=Qi(A.subscriptionOptions),Y={method:"PATCH",headers:N,body:JSON.stringify(B)};let de;try{de=yield(yield fetch(`${Wn(D.appConfig)}/${A.token}`,Y)).json()}catch(Ve){throw Ot.create("token-update-failed",{errorInfo:Ve})}if(de.error)throw Ot.create("token-update-failed",{errorInfo:de.error.message});if(!de.token)throw Ot.create("token-update-no-token");return de.token})).apply(this,arguments)}function un(D,A){return rt.apply(this,arguments)}function rt(){return(rt=(0,V.Z)(function*(D,A){const B={method:"DELETE",headers:yield Fi(D)};try{const de=yield(yield fetch(`${Wn(D.appConfig)}/${A}`,B)).json();if(de.error)throw Ot.create("token-unsubscribe-failed",{errorInfo:de.error.message})}catch(Y){throw Ot.create("token-unsubscribe-failed",{errorInfo:Y})}})).apply(this,arguments)}function Wn({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Fi(D){return mo.apply(this,arguments)}function mo(){return(mo=(0,V.Z)(function*({appConfig:D,installations:A}){const N=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function Qi({p256dh:D,auth:A,endpoint:N,vapidKey:B}){const Y={web:{endpoint:N,auth:A,p256dh:D}};return B!==po&&(Y.web.applicationPubKey=B),Y}const Yi=6048e5;function Ws(D){return vs.apply(this,arguments)}function vs(){return(vs=(0,V.Z)(function*(D){const A=yield Ji(D.swRegistration,D.vapidKey),N={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:A.endpoint,auth:Pr(A.getKey("auth")),p256dh:Pr(A.getKey("p256dh"))},B=yield S(D.firebaseDependencies);if(B){if($u(B.subscriptionOptions,N))return Date.now()>=B.createTime+Yi?Bu(D,{token:B.token,createTime:Date.now(),subscriptionOptions:N}):B.token;try{yield un(D.firebaseDependencies,B.token)}catch(Y){console.warn(Y)}return Ks(D.firebaseDependencies,N)}return Ks(D.firebaseDependencies,N)})).apply(this,arguments)}function ke(D){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,V.Z)(function*(D){const A=yield S(D.firebaseDependencies);A&&(yield un(D.firebaseDependencies,A.token),yield z(D.firebaseDependencies));const N=yield D.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()})).apply(this,arguments)}function Bu(D,A){return An.apply(this,arguments)}function An(){return(An=(0,V.Z)(function*(D,A){try{const N=yield Mt(D.firebaseDependencies,A),B=Object.assign(Object.assign({},A),{token:N,createTime:Date.now()});return yield T(D.firebaseDependencies,B),N}catch(N){throw yield ke(D),N}})).apply(this,arguments)}function Ks(D,A){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,V.Z)(function*(D,A){const B={token:yield zt(D,A),createTime:Date.now(),subscriptionOptions:A};return yield T(D,B),B.token})).apply(this,arguments)}function Ji(D,A){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,V.Z)(function*(D,A){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:go(A)})})).apply(this,arguments)}function $u(D,A){return A.vapidKey===D.vapidKey&&A.endpoint===D.endpoint&&A.auth===D.auth&&A.p256dh===D.p256dh}function rc(D){const A={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Hu(D,A){if(!A.notification)return;D.notification={};const N=A.notification.title;N&&(D.notification.title=N);const B=A.notification.body;B&&(D.notification.body=B);const Y=A.notification.image;Y&&(D.notification.image=Y)}(A,D),function ga(D,A){!A.data||(D.data=A.data)}(A,D),function iu(D,A){if(!A.fcmOptions)return;D.fcmOptions={};const N=A.fcmOptions.link;N&&(D.fcmOptions.link=N);const B=A.fcmOptions.analytics_label;B&&(D.fcmOptions.analyticsLabel=B)}(A,D),A}function Cr(D){return"object"==typeof D&&!!D&&On in D}function Xi(D,A){const N=[];for(let B=0;B<D.length;B++)N.push(D.charAt(B)),B<A.length&&N.push(A.charAt(B));return N.join("")}function Qs(D){return Ot.create("missing-app-config-values",{valueName:D})}Xi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Xi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Li{constructor(A,N,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function Vo(D){if(!D||!D.options)throw Qs("App Configuration Object");if(!D.name)throw Qs("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:N}=D;for(const B of A)if(!N[B])throw Qs(B);return{appName:D.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:Y,installations:N,analyticsProvider:B}}_delete(){return Promise.resolve()}}function Gu(D){return ma.apply(this,arguments)}function ma(){return(ma=(0,V.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Xa,{scope:ys}),D.swRegistration.update().catch(()=>{})}catch(A){throw Ot.create("failed-service-worker-registration",{browserErrorMessage:A.message})}})).apply(this,arguments)}function qu(D,A){return su.apply(this,arguments)}function su(){return(su=(0,V.Z)(function*(D,A){if(!A&&!D.swRegistration&&(yield Gu(D)),A||!D.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw Ot.create("invalid-sw-registration");D.swRegistration=A}})).apply(this,arguments)}function Uo(D,A){return ya.apply(this,arguments)}function ya(){return(ya=(0,V.Z)(function*(D,A){A?D.vapidKey=A:D.vapidKey||(D.vapidKey=po)})).apply(this,arguments)}function _a(){return(_a=(0,V.Z)(function*(D,A){if(!navigator)throw Ot.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ot.create("permission-blocked");return yield Uo(D,null==A?void 0:A.vapidKey),yield qu(D,null==A?void 0:A.serviceWorkerRegistration),Ws(D)})).apply(this,arguments)}function zu(D,A,N){return ic.apply(this,arguments)}function ic(){return(ic=(0,V.Z)(function*(D,A,N){const B=Ea(A);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:N[On],message_name:N[Wi],message_time:N[Ki],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ea(D){switch(D){case zn.NOTIFICATION_CLICKED:return"notification_open";case zn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ou(){return(ou=(0,V.Z)(function*(D,A){const N=A.data;if(!N.isFirebaseMessaging)return;D.onMessageHandler&&N.messageType===zn.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(rc(N)):D.onMessageHandler.next(rc(N)));const B=N.data;Cr(B)&&"1"===B[ha]&&(yield zu(D,N.messageType,B))})).apply(this,arguments)}const au="@firebase/messaging",Ku=D=>{const A=new Li(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function Nd(D,A){return ou.apply(this,arguments)}(A,N)),A},Zu=D=>{const A=D.getProvider("messaging").getImmediate();return{getToken:B=>function va(D,A){return _a.apply(this,arguments)}(A,B)}};function Dr(){return ci.apply(this,arguments)}function ci(){return(ci=(0,V.Z)(function*(){try{yield(0,te.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,te.hl)()&&(0,te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function tf(){(0,oe._registerComponent)(new fe.wA("messaging",Ku,"PUBLIC")),(0,oe._registerComponent)(new fe.wA("messaging-internal",Zu,"PRIVATE")),(0,oe.registerVersion)(au,"0.9.9"),(0,oe.registerVersion)(au,"0.9.9","esm2017")}();const yo="analytics",ac="firebase_id",Ld="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vo="https://www.googletagmanager.com/gtag/js",jn=new ue.Yd("@firebase/analytics");function rf(D){return Promise.all(D.map(A=>A.catch(N=>N)))}function sf(D,A){const N=document.createElement("script");N.src=`${vo}?l=${D}&id=${A}`,N.async=!0,document.head.appendChild(N)}function Ca(D,A,N,B,Y,de){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,V.Z)(function*(D,A,N,B,Y,de){const Ve=B[Y];try{if(Ve)yield A[Ve];else{const Xe=(yield rf(N)).find(rn=>rn.measurementId===Y);Xe&&(yield A[Xe.appId])}}catch(Je){jn.error(Je)}D("config",Y,de)})).apply(this,arguments)}function jo(D,A,N,B,Y){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,V.Z)(function*(D,A,N,B,Y){try{let de=[];if(Y&&Y.send_to){let Ve=Y.send_to;Array.isArray(Ve)||(Ve=[Ve]);const Je=yield rf(N);for(const Xe of Ve){const rn=Je.find(Tr=>Tr.measurementId===Xe),ln=rn&&A[rn.appId];if(!ln){de=[];break}de.push(ln)}}0===de.length&&(de=Object.values(A)),yield Promise.all(de),D("event",B,Y||{})}catch(de){jn.error(de)}})).apply(this,arguments)}function uc(){const D=window.document.getElementsByTagName("script");for(const A of Object.values(D))if(A.src&&A.src.includes(vo))return A;return null}const br=new te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),uf=new class cu{constructor(A={},N=1e3){this.throttleMetadata=A,this.intervalMillis=N}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,N){this.throttleMetadata[A]=N}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function du(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function lc(D){return hu.apply(this,arguments)}function hu(){return(hu=(0,V.Z)(function*(D){var A;const{appId:N,apiKey:B}=D,Y={method:"GET",headers:du(B)},de=Ld.replace("{app-id}",N),Ve=yield fetch(de,Y);if(200!==Ve.status&&304!==Ve.status){let Je="";try{const Xe=yield Ve.json();(null===(A=Xe.error)||void 0===A?void 0:A.message)&&(Je=Xe.error.message)}catch(Xe){}throw br.create("config-fetch-failed",{httpStatus:Ve.status,responseMessage:Je})}return Ve.json()})).apply(this,arguments)}function Vd(D){return _s.apply(this,arguments)}function _s(){return(_s=(0,V.Z)(function*(D,A=uf,N){const{appId:B,apiKey:Y,measurementId:de}=D.options;if(!B)throw br.create("no-app-id");if(!Y){if(de)return{measurementId:de,appId:B};throw br.create("no-api-key")}const Ve=A.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Je=new Js;return setTimeout((0,V.Z)(function*(){Je.abort()}),void 0!==N?N:6e4),Da({appId:B,apiKey:Y,measurementId:de},Ve,Je,A)})).apply(this,arguments)}function Da(D,A,N){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,V.Z)(function*(D,{throttleEndTimeMillis:A,backoffCount:N},B,Y=uf){const{appId:de,measurementId:Ve}=D;try{yield lf(B,A)}catch(Je){if(Ve)return jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ve} provided in the "measurementId" field in the local Firebase config. [${Je.message}]`),{appId:de,measurementId:Ve};throw Je}try{const Je=yield lc(D);return Y.deleteThrottleMetadata(de),Je}catch(Je){if(!ba(Je)){if(Y.deleteThrottleMetadata(de),Ve)return jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ve} provided in the "measurementId" field in the local Firebase config. [${Je.message}]`),{appId:de,measurementId:Ve};throw Je}const Xe=503===Number(Je.customData.httpStatus)?(0,te.$s)(N,Y.intervalMillis,30):(0,te.$s)(N,Y.intervalMillis),rn={throttleEndTimeMillis:Date.now()+Xe,backoffCount:N+1};return Y.setThrottleMetadata(de,rn),jn.debug(`Calling attemptFetch again in ${Xe} millis`),Da(D,rn,B,Y)}})).apply(this,arguments)}function lf(D,A){return new Promise((N,B)=>{const Y=Math.max(A-Date.now(),0),de=setTimeout(N,Y);D.addEventListener(()=>{clearTimeout(de),B(br.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function ba(D){if(!(D instanceof te.ZR&&D.customData))return!1;const A=Number(D.customData.httpStatus);return 429===A||500===A||503===A||504===A}class Js{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}function di(){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,V.Z)(function*(){if(!(0,te.hl)())return jn.warn(br.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,te.eu)()}catch(D){return jn.warn(br.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function Sa(){return(Sa=(0,V.Z)(function*(D,A,N,B,Y,de,Ve){var Je;const Xe=Vd(D);Xe.then(_n=>{N[_n.measurementId]=_n.appId,D.options.measurementId&&_n.measurementId!==D.options.measurementId&&jn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${_n.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_n=>jn.error(_n)),A.push(Xe);const rn=di().then(_n=>{if(_n)return B.getId()}),[ln,Tr]=yield Promise.all([Xe,rn]);uc()||sf(de,ln.measurementId),Y("js",new Date);const Zn=null!==(Je=null==Ve?void 0:Ve.config)&&void 0!==Je?Je:{};return Zn.origin="firebase",Zn.update=!0,null!=Tr&&(Zn[ac]=Tr),Y("config",ln.measurementId,Zn),ln.measurementId})).apply(this,arguments)}class cc{constructor(A){this.app=A}_delete(){return delete Es[this.app.options.appId],Promise.resolve()}}let Es={},Xs=[];const Is={};let es,Fr,Xu="dataLayer",Ud=!1;function $o(D,A,N){!function Bo(){const D=[];if((0,te.ru)()&&D.push("This is a browser extension environment."),(0,te.zI)()||D.push("Cookies are not available."),D.length>0){const A=D.map((B,Y)=>`(${Y+1}) ${B}`).join(" "),N=br.create("invalid-analytics-context",{errorInfo:A});jn.warn(N.message)}}();const B=D.options.appId;if(!B)throw br.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw br.create("no-api-key");jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Es[B])throw br.create("already-exists",{id:B});if(!Ud){!function wa(D){let A=[];Array.isArray(window[D])?A=window[D]:window[D]=A}(Xu);const{wrappedGtag:de,gtagCore:Ve}=function lu(D,A,N,B,Y){let de=function(...Ve){window[B].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(de=window[Y]),window[Y]=function of(D,A,N,B){function de(){return(de=(0,V.Z)(function*(Ve,Je,Xe){try{"event"===Ve?yield jo(D,A,N,Je,Xe):"config"===Ve?yield Ca(D,A,N,B,Je,Xe):D("set",Je)}catch(rn){jn.error(rn)}})).apply(this,arguments)}return function Y(Ve,Je,Xe){return de.apply(this,arguments)}}(de,D,A,N),{gtagCore:de,wrappedGtag:window[Y]}}(Es,Xs,Is,Xu,"gtag");Fr=de,es=Ve,Ud=!0}return Es[B]=function Ta(D,A,N,B,Y,de,Ve){return Sa.apply(this,arguments)}(D,Xs,Is,A,es,Xu,N),new cc(D)}function Aa(){return(Aa=(0,V.Z)(function*(D,A,N,B,Y){if(Y&&Y.global)D("event",N,B);else{const de=yield A;D("event",N,Object.assign(Object.assign({},B),{send_to:de}))}})).apply(this,arguments)}function fu(){return xa.apply(this,arguments)}function xa(){return(xa=(0,V.Z)(function*(){if((0,te.ru)()||!(0,te.zI)()||!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(D){return!1}})).apply(this,arguments)}const Nn="@firebase/analytics";!function er(){(0,oe._registerComponent)(new fe.wA(yo,(A,{options:N})=>$o(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,oe._registerComponent)(new fe.wA("analytics-internal",function D(A){try{const N=A.getProvider(yo).getImmediate();return{logEvent:(B,Y,de)=>function el(D,A,N,B){D=(0,te.m9)(D),function Kn(D,A,N,B,Y){return Aa.apply(this,arguments)}(Fr,Es[D.app.options.appId],A,N,B).catch(Y=>jn.error(Y))}(N,B,Y,de)}}catch(N){throw br.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,oe.registerVersion)(Nn,"0.7.5"),(0,oe.registerVersion)(Nn,"0.7.5","esm2017")}();var nl=F(4408),Wo=F(7565);const Ci=new class Zr extends Wo.v{}(class ts extends nl.o{constructor(A,N){super(A,N),this.scheduler=A,this.work=N}schedule(A,N=0){return N>0?super.schedule(A,N):(this.delay=N,this.state=A,this.scheduler.flush(this),this)}execute(A,N){return N>0||this.closed?super.execute(A,N):this._execute(A,N)}requestAsyncId(A,N,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(A,N,B):A.flush(this)}});var df=F(4986),Cs=F(8505),Ds=F(9468),rl=F(5363);const il=new I.Version("7.2.1"),Ra="__angularfire_symbol__analyticsIsSupportedValue",sl="__angularfire_symbol__analyticsIsSupported",$d="__angularfire_symbol__remoteConfigIsSupportedValue",fc="__angularfire_symbol__remoteConfigIsSupported",Lr="__angularfire_symbol__messagingIsSupportedValue",ol="__angularfire_symbol__messagingIsSupported";function pc(D,A,N){if(A){if(1===A.length)return A[0];const de=A.filter(Ve=>Ve.app===N);if(1===de.length)return de[0]}return N.container.getProvider(D).getImmediate({optional:!0})}globalThis[sl]||(globalThis[sl]=fu().then(D=>globalThis[Ra]=D).catch(()=>globalThis[Ra]=!1)),globalThis[ol]||(globalThis[ol]=Dr().then(D=>globalThis[Lr]=D).catch(()=>globalThis[Lr]=!1)),globalThis[fc]||(globalThis[fc]=Ja().then(D=>globalThis[$d]=D).catch(()=>globalThis[$d]=!1));const hf=(D,A)=>{const N=A?[A]:(0,h.C6)(),B=[];return N.forEach(Y=>{Y.container.getProvider(D).instances.forEach(Ve=>{B.includes(Ve)||B.push(Ve)})}),B};function Oa(){}class Hd{constructor(A,N=Ci){this.zone=A,this.delegate=N}now(){return this.delegate.now()}schedule(A,N,B){const Y=this.zone;return this.delegate.schedule(function(Ve){Y.runGuarded(()=>{A.apply(this,[Ve])})},N,B)}}class Io{constructor(A){this.zone=A,this.task=null}call(A,N){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Oa,{},Oa,Oa)),N.pipe((0,Cs.b)({next:B,complete:B,error:B})).subscribe(A).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zo=(()=>{class D{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new Hd(Zone.current)),this.insideAngular=N.run(()=>new Hd(Zone.current,df.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(N){return new(N||D)(I.\u0275\u0275inject(I.NgZone))},D.\u0275prov=I.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Qr(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function pu(D){return Qr(),function mc(D){return function(N){return(N=N.lift(new Io(D.ngZone))).pipe((0,Ds.R)(D.outsideAngular),(0,rl.Q)(D.insideAngular))}}(Qr())(D)}},2090:(ut,Ie,F)=>{"use strict";F.d(Ie,{BH:()=>$e,LL:()=>ge,ZR:()=>Be,zI:()=>Ee,US:()=>fe,tV:()=>ce,h$:()=>ue,$s:()=>vt,r3:()=>wr,Sg:()=>le,ne:()=>dr,vZ:()=>nn,ZB:()=>H,pd:()=>_i,m9:()=>Oi,z$:()=>pe,jU:()=>ne,ru:()=>he,d:()=>_e,xb:()=>bn,w1:()=>ze,hl:()=>wt,uI:()=>Me,UG:()=>Z,b$:()=>be,G6:()=>nt,Mn:()=>Oe,xO:()=>cs,zd:()=>Ar,eu:()=>re});const oe=function(G){const W=[];let Q=0;for(let Ae=0;Ae<G.length;Ae++){let ie=G.charCodeAt(Ae);ie<128?W[Q++]=ie:ie<2048?(W[Q++]=ie>>6|192,W[Q++]=63&ie|128):55296==(64512&ie)&&Ae+1<G.length&&56320==(64512&G.charCodeAt(Ae+1))?(ie=65536+((1023&ie)<<10)+(1023&G.charCodeAt(++Ae)),W[Q++]=ie>>18|240,W[Q++]=ie>>12&63|128,W[Q++]=ie>>6&63|128,W[Q++]=63&ie|128):(W[Q++]=ie>>12|224,W[Q++]=ie>>6&63|128,W[Q++]=63&ie|128)}return W},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,W){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ae=[];for(let ie=0;ie<G.length;ie+=3){const Qe=G[ie],xe=ie+1<G.length,Te=xe?G[ie+1]:0,Ke=ie+2<G.length,dt=Ke?G[ie+2]:0;let gn=(15&Te)<<2|dt>>6,nr=63&dt;Ke||(nr=64,xe||(gn=64)),Ae.push(Q[Qe>>2],Q[(3&Qe)<<4|Te>>4],Q[gn],Q[nr])}return Ae.join("")},encodeString(G,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(G):this.encodeByteArray(oe(G),W)},decodeString(G,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(G):function(G){const W=[];let Q=0,Ae=0;for(;Q<G.length;){const ie=G[Q++];if(ie<128)W[Ae++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const Qe=G[Q++];W[Ae++]=String.fromCharCode((31&ie)<<6|63&Qe)}else if(ie>239&&ie<365){const Ke=((7&ie)<<18|(63&G[Q++])<<12|(63&G[Q++])<<6|63&G[Q++])-65536;W[Ae++]=String.fromCharCode(55296+(Ke>>10)),W[Ae++]=String.fromCharCode(56320+(1023&Ke))}else{const Qe=G[Q++],xe=G[Q++];W[Ae++]=String.fromCharCode((15&ie)<<12|(63&Qe)<<6|63&xe)}}return W.join("")}(this.decodeStringToByteArray(G,W))},decodeStringToByteArray(G,W){this.init_();const Q=W?this.charToByteMapWebSafe_:this.charToByteMap_,Ae=[];for(let ie=0;ie<G.length;){const Qe=Q[G.charAt(ie++)],Te=ie<G.length?Q[G.charAt(ie)]:0;++ie;const dt=ie<G.length?Q[G.charAt(ie)]:64;++ie;const Ct=ie<G.length?Q[G.charAt(ie)]:64;if(++ie,null==Qe||null==Te||null==dt||null==Ct)throw Error();Ae.push(Qe<<2|Te>>4),64!==dt&&(Ae.push(Te<<4&240|dt>>2),64!==Ct&&Ae.push(dt<<6&192|Ct))}return Ae},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},ue=function(G){const W=oe(G);return fe.encodeByteArray(W,!0)},ae=function(G){return ue(G).replace(/\./g,"")},ce=function(G){try{return fe.decodeString(G,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function H(G,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return W}for(const Q in W)!W.hasOwnProperty(Q)||!X(Q)||(G[Q]=H(G[Q],W[Q]));return G}function X(G){return"__proto__"!==G}class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,Q)=>{this.resolve=W,this.reject=Q})}wrapCallback(W){return(Q,Ae)=>{Q?this.reject(Q):this.resolve(Ae),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(Q):W(Q,Ae))}}}function le(G,W){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ae=W||"demo-project",ie=G.iat||0,Qe=G.sub||G.user_id;if(!Qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const xe=Object.assign({iss:`https://securetoken.google.com/${Ae}`,aud:Ae,iat:ie,exp:ie+3600,auth_time:ie,sub:Qe,user_id:Qe,firebase:{sign_in_provider:"custom",identities:{}}},G);return[ae(JSON.stringify({alg:"none",type:"JWT"})),ae(JSON.stringify(xe)),""].join(".")}function pe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Me(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pe())}function Z(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(G){return!1}}function ne(){return"object"==typeof self&&self.self===self}function he(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function be(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _e(){return pe().indexOf("Electron/")>=0}function ze(){const G=pe();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Oe(){return pe().indexOf("MSAppHost/")>=0}function nt(){return!Z()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wt(){return"object"==typeof indexedDB}function re(){return new Promise((G,W)=>{try{let Q=!0;const Ae="validate-browser-context-for-indexeddb-analytics-module",ie=self.indexedDB.open(Ae);ie.onsuccess=()=>{ie.result.close(),Q||self.indexedDB.deleteDatabase(Ae),G(!0)},ie.onupgradeneeded=()=>{Q=!1},ie.onerror=()=>{var Qe;W((null===(Qe=ie.error)||void 0===Qe?void 0:Qe.message)||"")}}catch(Q){W(Q)}})}function Ee(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Be extends Error{constructor(W,Q,Ae){super(Q),this.code=W,this.customData=Ae,this.name="FirebaseError",Object.setPrototypeOf(this,Be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ge.prototype.create)}}class ge{constructor(W,Q,Ae){this.service=W,this.serviceName=Q,this.errors=Ae}create(W,...Q){const Ae=Q[0]||{},ie=`${this.service}/${W}`,Qe=this.errors[W],xe=Qe?function ft(G,W){return G.replace(Bt,(Q,Ae)=>{const ie=W[Ae];return null!=ie?String(ie):`<${Ae}?>`})}(Qe,Ae):"Error";return new Be(ie,`${this.serviceName}: ${xe} (${ie}).`,Ae)}}const Bt=/\{\$([^}]+)}/g;function wr(G,W){return Object.prototype.hasOwnProperty.call(G,W)}function bn(G){for(const W in G)if(Object.prototype.hasOwnProperty.call(G,W))return!1;return!0}function nn(G,W){if(G===W)return!0;const Q=Object.keys(G),Ae=Object.keys(W);for(const ie of Q){if(!Ae.includes(ie))return!1;const Qe=G[ie],xe=W[ie];if(Qt(Qe)&&Qt(xe)){if(!nn(Qe,xe))return!1}else if(Qe!==xe)return!1}for(const ie of Ae)if(!Q.includes(ie))return!1;return!0}function Qt(G){return null!==G&&"object"==typeof G}function cs(G){const W=[];for(const[Q,Ae]of Object.entries(G))Array.isArray(Ae)?Ae.forEach(ie=>{W.push(encodeURIComponent(Q)+"="+encodeURIComponent(ie))}):W.push(encodeURIComponent(Q)+"="+encodeURIComponent(Ae));return W.length?"&"+W.join("&"):""}function Ar(G){const W={};return G.replace(/^\?/,"").split("&").forEach(Ae=>{if(Ae){const[ie,Qe]=Ae.split("=");W[decodeURIComponent(ie)]=decodeURIComponent(Qe)}}),W}function _i(G){const W=G.indexOf("?");if(!W)return"";const Q=G.indexOf("#",W);return G.substring(W,Q>0?Q:void 0)}function dr(G,W){const Q=new ct(G,W);return Q.subscribe.bind(Q)}class ct{constructor(W,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{W(this)}).catch(Ae=>{this.error(Ae)})}next(W){this.forEachObserver(Q=>{Q.next(W)})}error(W){this.forEachObserver(Q=>{Q.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,Q,Ae){let ie;if(void 0===W&&void 0===Q&&void 0===Ae)throw new Error("Missing Observer.");ie=function Wt(G,W){if("object"!=typeof G||null===G)return!1;for(const Q of W)if(Q in G&&"function"==typeof G[Q])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:Q,complete:Ae},void 0===ie.next&&(ie.next=Yn),void 0===ie.error&&(ie.error=Yn),void 0===ie.complete&&(ie.complete=Yn);const Qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch(xe){}}),this.observers.push(ie),Qe}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,W)}sendOne(W,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{Q(this.observers[W])}catch(Ae){"undefined"!=typeof console&&console.error&&console.error(Ae)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yn(){}function vt(G,W=1e3,Q=2){const Ae=W*Math.pow(Q,G),ie=Math.round(.5*Ae*(Math.random()-.5)*2);return Math.min(144e5,Ae+ie)}function Oi(G){return G&&G._delegate?G._delegate:G}},747:(ut,Ie,F)=>{"use strict";var I=F(9808),h=F(5e3);class V extends I.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class oe extends V{static makeCurrent(){(0,I.\u0275setRootDomAdapter)(new oe)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function fe(){return te=te||document.querySelector("base"),te?te.getAttribute("href"):null}();return null==t?null:function ae(n){ue=ue||document.createElement("a"),ue.setAttribute("href",n);const e=ue.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){te=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,I.\u0275parseCookieValue)(document.cookie,e)}}let ue,te=null;const ce=new h.InjectionToken("TRANSITION_ID"),H=[{provide:h.APP_INITIALIZER,useFactory:function $(n,e,t){return()=>{t.get(h.ApplicationInitStatus).donePromise.then(()=>{const r=(0,I.\u0275getDOM)(),a=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<a.length;l++)r.remove(a[l])})}},deps:[ce,I.DOCUMENT,h.Injector],multi:!0}];class X{static init(){(0,h.setTestabilityGetter)(new X)}addToWindow(e){h.\u0275global.getAngularTestability=(r,a=!0)=>{const l=e.findTestabilityInTree(r,a);if(null==l)throw new Error("Could not find testability for element.");return l},h.\u0275global.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.\u0275global.getAllAngularRootElements=()=>e.getAllRootElements(),h.\u0275global.frameworkStabilizers||(h.\u0275global.frameworkStabilizers=[]),h.\u0275global.frameworkStabilizers.push(r=>{const a=h.\u0275global.getAllAngularTestabilities();let l=a.length,p=!1;const v=function(w){p=p||w,l--,0==l&&r(p)};a.forEach(function(w){w.whenStable(v)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const a=e.getTestability(t);return null!=a?a:r?(0,I.\u0275getDOM)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let $e=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const le=new h.InjectionToken("EventManagerPlugins");let pe=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(a=>a.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,a){return this._findPluginFor(r).addEventListener(t,r,a)}addGlobalEventListener(t,r,a){return this._findPluginFor(r).addGlobalEventListener(t,r,a)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const a=this._plugins;for(let l=0;l<a.length;l++){const p=a[l];if(p.supports(t))return this._eventNameToPlugin.set(t,p),p}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(le),h.\u0275\u0275inject(h.NgZone))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class Me{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const a=(0,I.\u0275getDOM)().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${t}`);return this.addEventListener(a,t,r)}}let Z=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),ne=(()=>{class n extends Z{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,a){t.forEach(l=>{const p=this._doc.createElement("style");p.textContent=l,a.push(r.appendChild(p))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(he),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(t,a,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(he))}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(I.DOCUMENT))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function he(n){(0,I.\u0275getDOM)().remove(n)}const be={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},_e=/%COMP%/g;function Ee(n,e,t){for(let r=0;r<e.length;r++){let a=e[r];Array.isArray(a)?Ee(n,a,t):(a=a.replace(_e,n),t.push(a))}return t}function De(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Be=(()=>{class n{constructor(t,r,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new ge(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ViewEncapsulation.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new Ir(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(t),a}case 1:case h.ViewEncapsulation.ShadowDom:return new pt(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const a=Ee(r.id,r.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(pe),h.\u0275\u0275inject(ne),h.\u0275\u0275inject(h.APP_ID))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class ge{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(be[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,a){if(a){t=a+":"+t;const l=be[a];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const a=be[r];a?e.removeAttributeNS(a,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,a){a&(h.RendererStyleFlags2.DashCase|h.RendererStyleFlags2.Important)?e.style.setProperty(t,r,a&h.RendererStyleFlags2.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.RendererStyleFlags2.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,De(r)):this.eventManager.addEventListener(e,t,De(r))}}class Ir extends ge{constructor(e,t,r,a){super(e),this.component=r;const l=Ee(a+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function wt(n){return"_ngcontent-%COMP%".replace(_e,n)}(a+"-"+r.id),this.hostAttr=function re(n){return"_nghost-%COMP%".replace(_e,n)}(a+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class pt extends ge{constructor(e,t,r,a){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Ee(a.id,a.styles,[]);for(let p=0;p<l.length;p++){const v=document.createElement("style");v.textContent=l[p],this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let _t=(()=>{class n extends Me{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,a){return t.addEventListener(r,a,!1),()=>this.removeEventListener(t,r,a)}removeEventListener(t,r,a){return t.removeEventListener(r,a)}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(I.DOCUMENT))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const Hn=["alt","control","meta","shift"],cr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},wr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let yi=(()=>{class n extends Me{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,a){const l=n.parseEventName(r),p=n.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,I.\u0275getDOM)().onAndCancel(t,l.domEventName,p))}static parseEventName(t){const r=t.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const l=n._normalizeKey(r.pop());let p="";if(Hn.forEach(w=>{const x=r.indexOf(w);x>-1&&(r.splice(x,1),p+=w+".")}),p+=l,0!=r.length||0===l.length)return null;const v={};return v.domEventName=a,v.fullKey=p,v}static getEventFullKey(t){let r="",a=function bn(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&tn.hasOwnProperty(e)&&(e=tn[e]))}return cr[e]||e}(t);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Hn.forEach(l=>{l!=a&&wr[l](t)&&(r+=l+".")}),r+=a,r}static eventCallback(t,r,a){return l=>{n.getEventFullKey(l)===t&&a.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(I.DOCUMENT))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const Ar=(0,h.createPlatformFactory)(h.platformCore,"browser",[{provide:h.PLATFORM_ID,useValue:I.\u0275PLATFORM_BROWSER_ID},{provide:h.PLATFORM_INITIALIZER,useValue:function vi(){oe.makeCurrent(),X.init()},multi:!0},{provide:I.DOCUMENT,useFactory:function Qt(){return(0,h.\u0275setDocument)(document),document},deps:[]}]),_i=[{provide:h.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:h.ErrorHandler,useFactory:function nn(){return new h.ErrorHandler},deps:[]},{provide:le,useClass:_t,multi:!0,deps:[I.DOCUMENT,h.NgZone,h.PLATFORM_ID]},{provide:le,useClass:yi,multi:!0,deps:[I.DOCUMENT]},{provide:Be,useClass:Be,deps:[pe,ne,h.APP_ID]},{provide:h.RendererFactory2,useExisting:Be},{provide:Z,useExisting:ne},{provide:ne,useClass:ne,deps:[I.DOCUMENT]},{provide:h.Testability,useClass:h.Testability,deps:[h.NgZone]},{provide:pe,useClass:pe,deps:[le,h.NgZone]},{provide:I.XhrFactory,useClass:$e,deps:[]}];let Fe=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.APP_ID,useValue:t.appId},{provide:ce,useExisting:h.APP_ID},H]}}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(n,12))},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=h.\u0275\u0275defineInjector({providers:_i,imports:[I.CommonModule,h.ApplicationModule]}),n})();"undefined"!=typeof window&&window;const fs_firestore={apiKey:"AIzaSyC0l2PcezC0v9H-cB730BgKbKn7N69Cm2A",authDomain:"control-clientes-2e36c.firebaseapp.com",projectId:"control-clientes-2e36c",storageBucket:"control-clientes-2e36c.appspot.com",messagingSenderId:"225088102880",appId:"1:225088102880:web:a1f23cddd4de55337d4b85",measurementId:"G-ZF74PD7FGD"};var rr=F(2011),xr=F(7579),Tn=F(7669),kt=F(8996);function mt(...n){const e=(0,Tn.yG)(n);return(0,kt.D)(n,e)}var an=F(8306),ps=F(6451),co=F(5363),Rr=F(8421),Gn=F(4482),Ln=F(5403);function Kt(n,e){return(0,Gn.e)((t,r)=>{let a=null,l=0,p=!1;const v=()=>p&&!a&&r.complete();t.subscribe(new Ln.Q(r,w=>{null==a||a.unsubscribe();let x=0;const L=l++;(0,Rr.Xf)(n(w,L)).subscribe(a=new Ln.Q(r,j=>r.next(e?e(w,j,L,x++):j),()=>{a=null,v()}))},()=>{p=!0,v()}))})}var bt=F(4004),Or=F(6063);class Ye extends xr.x{constructor(e=1/0,t=1/0,r=Or.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:a,_timestampProvider:l,_windowTime:p}=this;t||(r.push(e),!a&&r.push(l.now()+p)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:a}=this,l=a.slice();for(let p=0;p<l.length&&!e.closed;p+=r?1:2)e.next(l[p]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:a}=this,l=(a?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!a){const p=t.now();let v=0;for(let w=1;w<r.length&&r[w]<=p;w+=2)v=w;v&&r.splice(0,v+1)}}}var Rt=F(3099);function Yt(n,e,t){var r,a;let l,p=!1;return n&&"object"==typeof n?(l=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(a=n.windowTime)&&void 0!==a?a:1/0,p=!!n.refCount,t=n.scheduler):l=null!=n?n:1/0,(0,Rt.B)({connector:()=>new Ye(l,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:p})}const Jn=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function mn(n,e){return(0,Gn.e)((t,r)=>{let a=0;t.subscribe(new Ln.Q(r,l=>n.call(e,l,a++)&&r.next(l)))})}var pr=F(5698);function qt(n){return(0,Gn.e)((e,t)=>{let r=!1;e.subscribe(new Ln.Q(t,a=>{r=!0,t.next(a)},()=>{r||t.next(n),t.complete()}))})}function ai(n=Rn){return(0,Gn.e)((e,t)=>{let r=!1;e.subscribe(new Ln.Q(t,a=>{r=!0,t.next(a)},()=>r?t.complete():t.error(n())))})}function Rn(){return new Jn}var Tt=F(4671);function ui(n,e){const t=arguments.length>=2;return r=>r.pipe(n?mn((a,l)=>n(a,l,r)):Tt.y,(0,pr.q)(1),t?qt(e):ai(()=>new Jn))}var qi=F(576);function Hs(n,e){return(0,qi.m)(e)?Kt(()=>n,e):Kt(()=>n)}var Wr=F(9468),Ht=F(5813);F(5867);var we=F(5861),qs=F(9681),ho=F(4859),Lt=F(2090),li=F(1877);const ms=new Map,Qa={activated:!1,tokenObservers:[]},la={initialized:!1,enabled:!1};function Un(n){return ms.get(n)||Qa}function ki(n,e){ms.set(n,e)}function fo(){return la}class ys{constructor(e,t,r,a,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=a,a>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,we.Z)(function*(){t.stop();try{t.pending=new Lt.BH,yield function po(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Lt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const On=new Lt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ki(n){if(!Un(n).activated)throw On.create("use-before-activation",{appName:n.name})}function Pr(n,e){return go.apply(this,arguments)}function go(){return(go=(0,we.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});a&&(r["X-Firebase-Client"]=a.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(e),headers:r};let p,v;try{p=yield fetch(n,l)}catch(j){throw On.create("fetch-network-error",{originalErrorMessage:j.message})}if(200!==p.status)throw On.create("fetch-status-error",{httpStatus:p.status});try{v=yield p.json()}catch(j){throw On.create("fetch-parse-error",{originalErrorMessage:j.message})}const w=v.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw On.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const x=1e3*Number(w[1]),L=Date.now();return{token:v.attestationToken,expireTimeMillis:L+x,issuedAtTimeMillis:L}})).apply(this,arguments)}function eu(n,e){const{projectId:t,appId:r,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const zs="firebase-app-check-store";let Zt=null;function Zi(){return Zt||(Zt=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var a;e(On.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(zs,{keyPath:"compositeKey"})}}catch(t){e(On.create("storage-open",{originalErrorMessage:t.message}))}}),Zt)}function k(){return(k=(0,we.Z)(function*(n,e){const r=(yield Zi()).transaction(zs,"readwrite"),l=r.objectStore(zs).put({compositeKey:n,value:e});return new Promise((p,v)=>{l.onsuccess=w=>{p()},r.onerror=w=>{var x;v(On.create("storage-set",{originalErrorMessage:null===(x=w.target.error)||void 0===x?void 0:x.message}))}})})).apply(this,arguments)}const We=new li.Yd("@firebase/app-check");function hn(n,e){return(0,Lt.hl)()?function vn(n,e){return function T(n,e){return k.apply(this,arguments)}(function Pe(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{We.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function un(){return fo().enabled}function rt(){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,we.Z)(function*(){const n=fo();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const mo={error:"UNKNOWN_ERROR"};function Qi(n){return Lt.US.encodeString(JSON.stringify(n),!1)}function Yi(n){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,we.Z)(function*(n,e=!1){const t=n.app;Ki(t);const r=Un(t);let l,a=r.token;if(!a){const w=yield r.cachedTokenPromise;w&&Ks(w)&&(a=w)}if(!e&&a&&Ks(a))return{token:a.token};let v,p=!1;if(un()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Pr(eu(t,yield rt()),n.platformLoggerProvider).then(x=>(r.exchangeTokenPromise=void 0,x)),p=!0);const w=yield r.exchangeTokenPromise;return yield hn(t,w),ki(t,Object.assign(Object.assign({},r),{token:w})),{token:w.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(w=>(r.exchangeTokenPromise=void 0,w)),p=!0),a=yield r.exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?We.warn(w.message):We.error(w),l=w}return a?(v={token:a.token},ki(t,Object.assign(Object.assign({},r),{token:a})),yield hn(t,a)):v=Zs(l),p&&An(t,v),v})).apply(this,arguments)}function ke(n,e){const t=Un(n),r=t.tokenObservers.filter(a=>a.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ki(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function Vt(n){const{app:e}=n,t=Un(e);let r=t.tokenRefresher;r||(r=function Bu(n){const{app:e}=n;return new ys((0,we.Z)(function*(){let r;if(r=Un(e).token?yield Yi(n,!0):yield Yi(n),r.error)throw r.error}),()=>!0,()=>{const t=Un(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ki(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function An(n,e){const t=Un(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(a){}}function Ks(n){return n.expireTimeMillis-Date.now()>0}function Zs(n){return{token:Qi(mo),error:n}}class Ji{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Un(this.app);for(const t of e)ke(this.app,t.next);return Promise.resolve()}}const Zu="app-check-internal";!function tf(){(0,qs._registerComponent)(new ho.wA("app-check",n=>function Lo(n,e){return new Ji(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Zu).initialize()})),(0,qs._registerComponent)(new ho.wA(Zu,n=>function $u(n){return{getToken:e=>Yi(n,e),addTokenListener:e=>function vs(n,e,t,r){const{app:a}=n,l=Un(a),p={next:t,error:r,type:e};if(ki(a,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,p]})),l.token&&Ks(l.token)){const v=l.token;Promise.resolve().then(()=>{t({token:v.token}),Vt(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>Vt(n))}(n,"INTERNAL",e),removeTokenListener:e=>ke(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,qs.registerVersion)("@firebase/app-check","0.5.3")}();class Mn{constructor(){return(0,Ht.vb)("app-check")}}"undefined"!=typeof window&&window;var sf=F(127);const Ca=new h.InjectionToken("angularfire2.auth.use-emulator"),Qu=new h.InjectionToken("angularfire2.auth.settings"),jo=new h.InjectionToken("angularfire2.auth.tenant-id"),Yu=new h.InjectionToken("angularfire2.auth.langugage-code"),of=new h.InjectionToken("angularfire2.auth.use-device-language"),lu=new h.InjectionToken("angularfire.auth.persistence"),uc=(n,e,t,r,a,l,p,v)=>(0,rr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=a,l&&w.useDeviceLanguage(),p)for(const[x,L]of Object.entries(p))w.settings[x]=L;return v&&w.setPersistence(v),w},[t,r,a,l,p,v]);let _o=(()=>{class n{constructor(t,r,a,l,p,v,w,x,L,j,J,ye){const Le=new xr.x,tt=mt(void 0).pipe((0,co.Q)(p.outsideAngular),Kt(()=>l.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,2438)))),(0,bt.U)(()=>(0,rr.on)(t,l,r)),(0,bt.U)(It=>uc(It,l,v,x,L,j,w,J)),Yt({bufferSize:1,refCount:!1}));if((0,I.isPlatformServer)(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=mt(null);else{tt.pipe(ui()).subscribe();const cn=tt.pipe(Kt(dn=>dn.getRedirectResult().then(qr=>qr,()=>null)),Ht.iC,Yt({bufferSize:1,refCount:!1})),lr=tt.pipe(Kt(dn=>new an.y(qr=>({unsubscribe:l.runOutsideAngular(()=>dn.onAuthStateChanged(Vu=>qr.next(Vu),Vu=>qr.error(Vu),()=>qr.complete()))})))),Sr=tt.pipe(Kt(dn=>new an.y(qr=>({unsubscribe:l.runOutsideAngular(()=>dn.onIdTokenChanged(Vu=>qr.next(Vu),Vu=>qr.error(Vu),()=>qr.complete()))}))));this.authState=cn.pipe(Hs(lr),(0,Wr.R)(p.outsideAngular),(0,co.Q)(p.insideAngular)),this.user=cn.pipe(Hs(Sr),(0,Wr.R)(p.outsideAngular),(0,co.Q)(p.insideAngular)),this.idToken=this.user.pipe(Kt(dn=>dn?(0,kt.D)(dn.getIdToken()):mt(null))),this.idTokenResult=this.user.pipe(Kt(dn=>dn?(0,kt.D)(dn.getIdTokenResult()):mt(null))),this.credential=(0,ps.T)(cn,Le,this.authState.pipe(mn(dn=>!dn))).pipe((0,bt.U)(dn=>(null==dn?void 0:dn.user)?dn:null),(0,Wr.R)(p.outsideAngular),(0,co.Q)(p.insideAngular))}return(0,rr.pX)(this,tt,l,{spy:{apply:(It,cn,lr)=>{(It.startsWith("signIn")||It.startsWith("createUser"))&&lr.then(Sr=>Le.next(Sr))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(rr.Dh),h.\u0275\u0275inject(rr.xv,8),h.\u0275\u0275inject(h.PLATFORM_ID),h.\u0275\u0275inject(h.NgZone),h.\u0275\u0275inject(Ht.HU),h.\u0275\u0275inject(Ca,8),h.\u0275\u0275inject(Qu,8),h.\u0275\u0275inject(jo,8),h.\u0275\u0275inject(Yu,8),h.\u0275\u0275inject(of,8),h.\u0275\u0275inject(lu,8),h.\u0275\u0275inject(Mn,8))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),br=(()=>{class n{constructor(){sf.Z.registerVersion("angularfire",Ht.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=h.\u0275\u0275defineInjector({providers:[_o]}),n})();var Ys=F(3241);const{isArray:af}=Array,{getPrototypeOf:cu,prototype:uf,keys:du}=Object;function lc(n){if(1===n.length){const e=n[0];if(af(e))return{args:e,keys:null};if(function hu(n){return n&&"object"==typeof n&&cu(n)===uf}(e)){const t=du(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Vd}=Array;function Da(n){return(0,bt.U)(e=>function _s(n,e){return Vd(e)?n(...e):n(e)}(n,e))}function Ju(n,e){return n.reduce((t,r,a)=>(t[r]=e[a],t),{})}let ba=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(h.Renderer2),h.\u0275\u0275directiveInject(h.ElementRef))},n.\u0275dir=h.\u0275\u0275defineDirective({type:n}),n})(),Js=(()=>{class n extends ba{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=h.\u0275\u0275defineDirective({type:n,features:[h.\u0275\u0275InheritDefinitionFeature]}),n})();const di=new h.InjectionToken("NgValueAccessor"),Eo={provide:di,useExisting:(0,h.forwardRef)(()=>Ta),multi:!0};let Ta=(()=>{class n extends Js{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&h.\u0275\u0275listener("change",function(l){return r.onChange(l.target.checked)})("blur",function(){return r.onTouched()})},features:[h.\u0275\u0275ProvidersFeature([Eo]),h.\u0275\u0275InheritDefinitionFeature]}),n})();const Sa={provide:di,useExisting:(0,h.forwardRef)(()=>Xs),multi:!0},Es=new h.InjectionToken("CompositionEventMode");let Xs=(()=>{class n extends ba{constructor(t,r,a){super(t,r),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cc(){const n=(0,I.\u0275getDOM)()?(0,I.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(h.Renderer2),h.\u0275\u0275directiveInject(h.ElementRef),h.\u0275\u0275directiveInject(Es,8))},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.\u0275\u0275listener("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[h.\u0275\u0275ProvidersFeature([Sa]),h.\u0275\u0275InheritDefinitionFeature]}),n})();function Is(n){return null==n||0===n.length}const Xn=new h.InjectionToken("NgValidators"),es=new h.InjectionToken("NgAsyncValidators");function Vi(n){return null}function Ho(n){return null!=n}function Go(n){const e=(0,h.\u0275isPromise)(n)?(0,kt.D)(n):n;return(0,h.\u0275isObservable)(e),e}function qo(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function hi(n,e){return e.map(t=>t(n))}function In(n){return n.map(e=>function Bd(n){return!n.validate}(e)?e:t=>e.validate(t))}function xa(n){return null!=n?function fu(n){if(!n)return null;const e=n.filter(Ho);return 0==e.length?null:function(t){return qo(hi(t,e))}}(In(n)):null}function dc(n){return null!=n?function zo(n){if(!n)return null;const e=n.filter(Ho);return 0==e.length?null:function(t){return function lf(...n){const e=(0,Tn.jO)(n),{args:t,keys:r}=lc(n),a=new an.y(l=>{const{length:p}=t;if(!p)return void l.complete();const v=new Array(p);let w=p,x=p;for(let L=0;L<p;L++){let j=!1;(0,Rr.Xf)(t[L]).subscribe(new Ln.Q(l,J=>{j||(j=!0,x--),v[L]=J},()=>w--,void 0,()=>{(!w||!j)&&(x||l.next(r?Ju(r,v):v),l.complete())}))}});return e?a.pipe(Da(e)):a}(hi(t,e).map(Go)).pipe((0,bt.U)(qo))}}(In(n)):null}function hc(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Nn(n){return n?Array.isArray(n)?n:[n]:[]}function tl(n,e){return Array.isArray(n)?n.includes(e):n===e}function er(n,e){const t=Nn(e);return Nn(n).forEach(a=>{tl(t,a)||t.push(a)}),t}function nl(n,e){return Nn(e).filter(t=>!tl(n,t))}class ts{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=xa(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=dc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Wo extends ts{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Zr extends ts{get formDirective(){return null}get path(){return null}}class Ci{constructor(e){this._cd=e}is(e){var t,r,a;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(a=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===a?void 0:a[e])}}let Cs=(()=>{class n extends Ci{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(Wo,2))},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.\u0275\u0275classProp("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[h.\u0275\u0275InheritDefinitionFeature]}),n})(),Ds=(()=>{class n extends Ci{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(Zr,10))},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.\u0275\u0275classProp("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[h.\u0275\u0275InheritDefinitionFeature]}),n})();function Zo(n,e){al(n,e),e.valueAccessor.writeValue(n.value),function pu(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Gd(n,e)})}(n,e),function yc(n,e){const t=(r,a)=>{e.valueAccessor.writeValue(r),a&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function mc(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Gd(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Vr(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function gc(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function al(n,e){const t=function cf(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(hc(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function el(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(hc(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const a=()=>n.updateValueAndValidity();gc(e._rawValidators,a),gc(e._rawAsyncValidators,a)}function Gd(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Xe(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Tr="VALID",Zn="INVALID",_n="PENDING",Di="DISABLED";function Co(n){return(ul(n)?n.validators:n)||null}function Ui(n){return Array.isArray(n)?xa(n):n||null}function bs(n,e){return(ul(e)?e.asyncValidators:n)||null}function Na(n){return Array.isArray(n)?dc(n):n||null}function ul(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const ll=n=>n instanceof hg;function gu(n){return(n=>n instanceof vc)(n)?n.value:n.getRawValue()}function ff(n,e){const t=ll(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new h.\u0275RuntimeError(1e3,"");if(!r[e])throw new h.\u0275RuntimeError(1001,"")}function Ly(n,e){ll(n),n._forEachChild((r,a)=>{if(void 0===e[a])throw new h.\u0275RuntimeError(1002,"")})}class zd{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Ui(this._rawValidators),this._composedAsyncValidatorFn=Na(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Tr}get invalid(){return this.status===Zn}get pending(){return this.status==_n}get disabled(){return this.status===Di}get enabled(){return this.status!==Di}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Ui(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Na(e)}addValidators(e){this.setValidators(er(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(er(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(nl(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(nl(e,this._rawAsyncValidators))}hasValidator(e){return tl(this._rawValidators,e)}hasAsyncValidator(e){return tl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=_n,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Di,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Tr,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tr||this.status===_n)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Di:Tr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=_n,this._hasOwnPendingAsyncValidator=!0;const t=Go(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function ns(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(a=>{r=ll(r)?r.controls.hasOwnProperty(a)?r.controls[a]:null:(n=>n instanceof Vy)(r)&&r.at(a)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.EventEmitter,this.statusChanges=new h.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?Di:this.errors?Zn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_n)?_n:this._anyControlsHaveStatus(Zn)?Zn:Tr}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ul(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class vc extends zd{constructor(e=null,t,r){super(Co(t),bs(r,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Xe(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Xe(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class hg extends zd{constructor(e,t,r){super(Co(t),bs(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Ly(this,e),Object.keys(e).forEach(r=>{ff(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,a)=>{r.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=gu(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((a,l)=>{r=t(r,a,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Vy extends zd{constructor(e,t,r){super(Co(t),bs(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Ly(this,e),e.forEach((r,a)=>{ff(this,a),this.at(a).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,a)=>{this.at(a)&&this.at(a).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,a)=>{r.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>gu(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const pf={provide:Zr,useExisting:(0,h.forwardRef)(()=>Do)},_c=(()=>Promise.resolve(null))();let Do=(()=>{class n extends Zr{constructor(t,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new h.EventEmitter,this.form=new hg({},xa(t),dc(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){_c.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Zo(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){_c.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),Xe(this._directives,t)})}addFormGroup(t){_c.then(()=>{const r=this._findContainer(t.path),a=new hg({});(function D(n,e){al(n,e)})(a,t),r.registerControl(t.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){_c.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){_c.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function Ve(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(Xn,10),h.\u0275\u0275directiveInject(es,10))},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&h.\u0275\u0275listener("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h.\u0275\u0275ProvidersFeature([pf]),h.\u0275\u0275InheritDefinitionFeature]}),n})();const pg={provide:Wo,useExisting:(0,h.forwardRef)(()=>Qo)},Wd=(()=>Promise.resolve(null))();let Qo=(()=>{class n extends Wo{constructor(t,r,a,l){super(),this.control=new vc,this._registered=!1,this.update=new h.EventEmitter,this._parent=t,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=function Je(n,e){if(!e)return null;let t,r,a;return Array.isArray(e),e.forEach(l=>{l.constructor===Xs?t=l:function de(n){return Object.getPrototypeOf(n.constructor)===Js}(l)?r=l:a=l}),a||r||t||null}(0,l)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function Y(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function Io(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Zo(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Wd.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,a=""===r||r&&"false"!==r;Wd.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(Zr,9),h.\u0275\u0275directiveInject(Xn,10),h.\u0275\u0275directiveInject(es,10),h.\u0275\u0275directiveInject(di,10))},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h.\u0275\u0275ProvidersFeature([pg]),h.\u0275\u0275InheritDefinitionFeature,h.\u0275\u0275NgOnChangesFeature]}),n})(),Ts=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const jy={provide:di,useExisting:(0,h.forwardRef)(()=>wc),multi:!0};let wc=(()=>{class n extends Js{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&h.\u0275\u0275listener("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[h.\u0275\u0275ProvidersFeature([jy]),h.\u0275\u0275InheritDefinitionFeature]}),n})(),gg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=h.\u0275\u0275defineInjector({}),n})();let Yd=(()=>{class n{constructor(){this._validator=Vi}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Vi,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,features:[h.\u0275\u0275NgOnChangesFeature]}),n})();const wg={provide:Xn,useExisting:(0,h.forwardRef)(()=>bo),multi:!0};let bo=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?function $o(n){return Is(n.value)?{required:!0}:null}(t):null}registerOnValidatorChange(t){this._onChange=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&h.\u0275\u0275attribute("required",r.required?"":null)},inputs:{required:"required"},features:[h.\u0275\u0275ProvidersFeature([wg])]}),n})();const Dn={provide:Xn,useExisting:(0,h.forwardRef)(()=>Sc),multi:!0};let Sc=(()=>{class n extends Yd{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function Qd(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function Ma(n){return e=>Is(e.value)||!function Xu(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&h.\u0275\u0275attribute("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[h.\u0275\u0275ProvidersFeature([Dn]),h.\u0275\u0275InheritDefinitionFeature]}),n})();const Sf={provide:Xn,useExisting:(0,h.forwardRef)(()=>mu),multi:!0};let mu=(()=>{class n{constructor(){this._validator=Vi}ngOnChanges(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=function to(n){if(!n)return Vi;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Is(r.value))return null;const a=r.value;return e.test(a)?null:{pattern:{requiredPattern:t,actualValue:a}}}}(this.pattern)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&h.\u0275\u0275attribute("pattern",r.pattern?r.pattern:null)},inputs:{pattern:"pattern"},features:[h.\u0275\u0275ProvidersFeature([Sf]),h.\u0275\u0275NgOnChangesFeature]}),n})(),bg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=h.\u0275\u0275defineInjector({imports:[[gg]]}),n})(),Yy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=h.\u0275\u0275defineInjector({imports:[bg]}),n})();class Ss extends xr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Sg=F(9672);function Xd(n,e,t){n?(0,Sg.f)(t,n,e):e()}var eh=F(8189);function pl(...n){return function Af(){return(0,eh.J)(1)}()((0,kt.D)(n,(0,Tn.yG)(n)))}function Ag(n){return new an.y(e=>{(0,Rr.Xf)(n()).subscribe(e)})}var vu=F(515),Ac=F(727);function Mf(){return(0,Gn.e)((n,e)=>{let t=null;n._refCount++;const r=new Ln.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const a=n._connection,l=t;t=null,a&&(!l||a===l)&&a.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Xy extends an.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Gn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ac.w0;const t=this.getSubject();e.add(this.source.subscribe(new Ln.Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ac.w0.EMPTY)}return e}refCount(){return Mf()(this)}}function th(...n){const e=(0,Tn.yG)(n);return(0,Gn.e)((t,r)=>{(e?pl(n,t,e):pl(n,t)).subscribe(r)})}function nh(n,e,t,r,a){return(l,p)=>{let v=t,w=e,x=0;l.subscribe(new Ln.Q(p,L=>{const j=x++;w=v?n(w,L,j):(v=!0,L),r&&p.next(w)},a&&(()=>{v&&p.next(w),p.complete()})))}}function Mc(n,e){return(0,Gn.e)(nh(n,e,arguments.length>=2,!0))}function ka(n){return(0,Gn.e)((e,t)=>{let l,r=null,a=!1;r=e.subscribe(new Ln.Q(t,void 0,void 0,p=>{l=(0,Rr.Xf)(n(p,ka(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):a=!0})),a&&(r.unsubscribe(),r=null,l.subscribe(t))})}var Ur=F(5577);function xc(n,e){return(0,qi.m)(e)?(0,Ur.z)(n,e,1):(0,Ur.z)(n,1)}function gl(n){return n<=0?()=>vu.E:(0,Gn.e)((e,t)=>{let r=[];e.subscribe(new Ln.Q(t,a=>{r.push(a),n<r.length&&r.shift()},()=>{for(const a of r)t.next(a);t.complete()},void 0,()=>{r=null}))})}var Ti=F(8505);class Xo{constructor(e,t){this.id=e,this.url=t}}class xf extends Xo{constructor(e,t,r="imperative",a=null){super(e,t),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Oc extends Xo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rh extends Xo{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Rf extends Xo{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Of extends Xo{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xg extends Xo{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ev extends Xo{constructor(e,t,r,a,l){super(e,t),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ih extends Xo{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rg extends Xo{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Si{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _u{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Eu{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class To{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Og{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ng{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nf{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Gt="primary";class So{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ai(n){return new So(n)}const Nc="ngNavigationCancelingError";function Pf(n){const e=Error("NavigationCancelingError: "+n);return e[Nc]=!0,e}function Pc(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const a={};for(let l=0;l<r.length;l++){const p=r[l],v=n[l];if(p.startsWith(":"))a[p.substring(1)]=v;else if(p!==v.path)return null}return{consumed:n.slice(0,r.length),posParams:a}}function Bn(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let a;for(let l=0;l<t.length;l++)if(a=t[l],!ml(n[a],e[a]))return!1;return!0}function ml(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((a,l)=>r[l]===a)}return n===e}function yl(n){return Array.prototype.concat.apply([],n)}function Ff(n){return n.length>0?n[n.length-1]:null}function xn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function rs(n){return(0,h.\u0275isObservable)(n)?n:(0,h.\u0275isPromise)(n)?(0,kt.D)(Promise.resolve(n)):mt(n)}const tv={exact:function Fg(n,e,t){if(!se(n.segments,e.segments)||!f(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Fg(n.children[r],e.children[r],t))return!1;return!0},subset:m},vl={exact:function nv(n,e){return Bn(n,e)},subset:function rv(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ml(n[t],e[t]))},ignored:()=>!0};function kg(n,e,t){return tv[t.paths](n.root,e.root,t.matrixParams)&&vl[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function m(n,e,t){return d(n,e,e.segments,t)}function d(n,e,t,r){if(n.segments.length>t.length){const a=n.segments.slice(0,t.length);return!(!se(a,t)||e.hasChildren()||!f(a,t,r))}if(n.segments.length===t.length){if(!se(n.segments,t)||!f(n.segments,t,r))return!1;for(const a in e.children)if(!n.children[a]||!m(n.children[a],e.children[a],r))return!1;return!0}{const a=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(se(n.segments,a)&&f(n.segments,a,r)&&n.children[Gt])&&d(n.children[Gt],e,l,r)}}function f(n,e,t){return e.every((r,a)=>vl[t](n[a].parameters,r.parameters))}class _{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ai(this.queryParams)),this._queryParamMap}toString(){return ht.serialize(this)}}class b{constructor(e,t){this.segments=e,this.children=t,this.parent=null,xn(t,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ut(this)}}class R{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ai(this.parameters)),this._parameterMap}toString(){return oh(this)}}function se(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class je{}class it{parse(e){const t=new C0(e);return new _(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${tr(e.root,!0)}`,r=function Il(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(a=>`${wu(t)}=${wu(a)}`).join("&"):`${wu(t)}=${wu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function sh(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ht=new it;function Ut(n){return n.segments.map(e=>oh(e)).join("/")}function tr(n,e){if(!n.hasChildren())return Ut(n);if(e){const t=n.children[Gt]?tr(n.children[Gt],!1):"",r=[];return xn(n.children,(a,l)=>{l!==Gt&&r.push(`${l}:${tr(a,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function He(n,e){let t=[];return xn(n.children,(r,a)=>{a===Gt&&(t=t.concat(e(r,a)))}),xn(n.children,(r,a)=>{a!==Gt&&(t=t.concat(e(r,a)))}),t}(n,(r,a)=>a===Gt?[tr(n.children[Gt],!1)]:[`${a}:${tr(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Gt]?`${Ut(n)}/${t[0]}`:`${Ut(n)}/(${t.join("//")})`}}function As(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wu(n){return As(n).replace(/%3B/gi,";")}function kc(n){return As(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _l(n){return decodeURIComponent(n)}function El(n){return _l(n.replace(/\+/g,"%20"))}function oh(n){return`${kc(n.path)}${function Fc(n){return Object.keys(n).map(e=>`;${kc(e)}=${kc(n[e])}`).join("")}(n.parameters)}`}const Vf=/^[^\/()?;=#]+/;function wl(n){const e=n.match(Vf);return e?e[0]:""}const ah=/^[^=?&#]+/,jf=/^[^&#]+/;class C0{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new b([],{}):new b([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Gt]=new b(e,t)),r}parseSegment(){const e=wl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new R(_l(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=wl(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const a=wl(this.remaining);a&&(r=a,this.capture(r))}e[_l(t)]=_l(r)}parseQueryParam(e){const t=function Uf(n){const e=n.match(ah);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const p=function RC(n){const e=n.match(jf);return e?e[0]:""}(this.remaining);p&&(r=p,this.capture(r))}const a=El(t),l=El(r);if(e.hasOwnProperty(a)){let p=e[a];Array.isArray(p)||(p=[p],e[a]=p),p.push(l)}else e[a]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=wl(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Gt);const p=this.parseChildren();t[l]=1===Object.keys(p).length?p[Gt]:new b([],p),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class D0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=iv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=iv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Lg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return Lg(e,this._root).map(t=>t.value)}}function iv(n,e){if(n===e.value)return e;for(const t of e.children){const r=iv(n,t);if(r)return r}return null}function Lg(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Lg(n,t);if(r.length)return r.unshift(e),r}return[]}class ea{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Lc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class OC extends D0{constructor(e,t){super(e),this.snapshot=t,Vg(this,e)}toString(){return this.snapshot.toString()}}function sv(n,e){const t=function NC(n,e){const p=new Ms([],{},{},"",{},Gt,e,null,n.root,-1,{});return new T0("",new ea(p,[]))}(n,e),r=new Ss([new R("",{})]),a=new Ss({}),l=new Ss({}),p=new Ss({}),v=new Ss(""),w=new Cl(r,a,p,v,l,Gt,e,t.root);return w.snapshot=t.root,new OC(new ea(w,[]),t)}class Cl{constructor(e,t,r,a,l,p,v,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=a,this.data=l,this.outlet=p,this.component=v,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,bt.U)(e=>Ai(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,bt.U)(e=>Ai(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function b0(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const a=t[r],l=t[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(l.component)break;r--}}return function PC(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ms{constructor(e,t,r,a,l,p,v,w,x,L,j){this.url=e,this.params=t,this.queryParams=r,this.fragment=a,this.data=l,this.outlet=p,this.component=v,this.routeConfig=w,this._urlSegment=x,this._lastPathIndex=L,this._resolve=j}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ai(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ai(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class T0 extends D0{constructor(e,t){super(t),this.url=e,Vg(this,t)}toString(){return S0(this._root)}}function Vg(n,e){e.value._routerState=n,e.children.forEach(t=>Vg(n,t))}function S0(n){const e=n.children.length>0?` { ${n.children.map(S0).join(", ")} } `:"";return`${n.value}${e}`}function ov(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Bn(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Bn(e.params,t.params)||n.params.next(t.params),function kf(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Bn(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Bn(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function av(n,e){const t=Bn(n.params,e.params)&&function q(n,e){return se(n,e)&&n.every((t,r)=>Bn(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||av(n.parent,e.parent))}function uh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const a=function FC(n,e,t){return e.children.map(r=>{for(const a of t.children)if(n.shouldReuseRoute(r.value,a.value.snapshot))return uh(n,r,a);return uh(n,r)})}(n,e,t);return new ea(r,a)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const p=l.route;return p.value._futureSnapshot=e.value,p.children=e.children.map(v=>uh(n,v)),p}}const r=function LC(n){return new Cl(new Ss(n.url),new Ss(n.params),new Ss(n.queryParams),new Ss(n.fragment),new Ss(n.data),n.outlet,n.component,n)}(e.value),a=e.children.map(l=>uh(n,l));return new ea(r,a)}}function xt(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function lh(n){return"object"==typeof n&&null!=n&&n.outlets}function Ug(n,e,t,r,a){let l={};return r&&xn(r,(p,v)=>{l[v]=Array.isArray(p)?p.map(w=>`${w}`):`${p}`}),new _(t.root===n?e:uv(t.root,n,e),l,a)}function uv(n,e,t){const r={};return xn(n.children,(a,l)=>{r[l]=a===e?t:uv(a,e,t)}),new b(n.segments,r)}class Bf{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&xt(r[0]))throw new Error("Root segment cannot have matrix parameters");const a=r.find(lh);if(a&&a!==Ff(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jg{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Bg(n,e,t){if(n||(n=new b([],{})),0===n.segments.length&&n.hasChildren())return $f(n,e,t);const r=function cv(n,e,t){let r=0,a=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(r>=t.length)return l;const p=n.segments[a],v=t[r];if(lh(v))break;const w=`${v}`,x=r<t.length-1?t[r+1]:null;if(a>0&&void 0===w)break;if(w&&x&&"object"==typeof x&&void 0===x.outlets){if(!Hf(w,x,p))return l;r+=2}else{if(!Hf(w,{},p))return l;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(n,e,t),a=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new b(n.segments.slice(0,r.pathIndex),{});return l.children[Gt]=new b(n.segments.slice(r.pathIndex),n.children),$f(l,0,a)}return r.match&&0===a.length?new b(n.segments,{}):r.match&&!n.hasChildren()?A0(n,e,t):r.match?$f(n,0,a):A0(n,e,t)}function $f(n,e,t){if(0===t.length)return new b(n.segments,{});{const r=function Cu(n){return lh(n[0])?n[0].outlets:{[Gt]:n}}(t),a={};return xn(r,(l,p)=>{"string"==typeof l&&(l=[l]),null!==l&&(a[p]=Bg(n.children[p],e,l))}),xn(n.children,(l,p)=>{void 0===r[p]&&(a[p]=l)}),new b(n.segments,a)}}function A0(n,e,t){const r=n.segments.slice(0,e);let a=0;for(;a<t.length;){const l=t[a];if(lh(l)){const w=M0(l.outlets);return new b(r,w)}if(0===a&&xt(t[0])){r.push(new R(n.segments[e].path,jC(t[0]))),a++;continue}const p=lh(l)?l.outlets[Gt]:`${l}`,v=a<t.length-1?t[a+1]:null;p&&v&&xt(v)?(r.push(new R(p,jC(v))),a+=2):(r.push(new R(p,{})),a++)}return new b(r,{})}function M0(n){const e={};return xn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=A0(new b([],{}),0,t))}),e}function jC(n){const e={};return xn(n,(t,r)=>e[r]=`${t}`),e}function Hf(n,e,t){return n==t.path&&Bn(e,t.parameters)}class dv{constructor(e,t,r,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=a}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ov(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const a=Lc(t);e.children.forEach(l=>{const p=l.value.outlet;this.deactivateRoutes(l,a[p],r),delete a[p]}),xn(a,(l,p)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const a=e.value,l=t?t.value:null;if(a===l)if(a.component){const p=r.getContext(a.outlet);p&&this.deactivateChildRoutes(e,t,p.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),a=r&&e.value.component?r.children:t,l=Lc(e);for(const p of Object.keys(l))this.deactivateRouteAndItsChildren(l[p],a);if(r&&r.outlet){const p=r.outlet.detach(),v=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:p,route:e,contexts:v})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),a=r&&e.value.component?r.children:t,l=Lc(e);for(const p of Object.keys(l))this.deactivateRouteAndItsChildren(l[p],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const a=Lc(t);e.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],r),this.forwardEvent(new Ng(l.value.snapshot))}),e.children.length&&this.forwardEvent(new To(e.value.snapshot))}activateRoutes(e,t,r){const a=e.value,l=t?t.value:null;if(ov(a),a===l)if(a.component){const p=r.getOrCreateContext(a.outlet);this.activateChildRoutes(e,t,p.children)}else this.activateChildRoutes(e,t,r);else if(a.component){const p=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const v=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),p.children.onOutletReAttached(v.contexts),p.attachRef=v.componentRef,p.route=v.route.value,p.outlet&&p.outlet.attach(v.componentRef,v.route.value),ov(v.route.value),this.activateChildRoutes(e,null,p.children)}else{const v=function hv(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(a.snapshot),w=v?v.module.componentFactoryResolver:null;p.attachRef=null,p.route=a,p.resolver=w,p.outlet&&p.outlet.activateWith(a,w),this.activateChildRoutes(e,null,p.children)}}else this.activateChildRoutes(e,null,r)}}class Gf{constructor(e,t){this.routes=e,this.module=t}}function Vc(n){return"function"==typeof n}function Uc(n){return n instanceof _}const qf=Symbol("INITIAL_VALUE");function Hg(){return Kt(n=>function Yr(...n){const e=(0,Tn.yG)(n),t=(0,Tn.jO)(n),{args:r,keys:a}=lc(n);if(0===r.length)return(0,kt.D)([],e);const l=new an.y(function yu(n,e,t=Tt.y){return r=>{Xd(e,()=>{const{length:a}=n,l=new Array(a);let p=a,v=a;for(let w=0;w<a;w++)Xd(e,()=>{const x=(0,kt.D)(n[w],e);let L=!1;x.subscribe(new Ln.Q(r,j=>{l[w]=j,L||(L=!0,v--),v||r.next(t(l.slice()))},()=>{--p||r.complete()}))},r)},r)}}(r,e,a?p=>Ju(a,p):Tt.y));return t?l.pipe(Da(t)):l}(n.map(e=>e.pipe((0,pr.q)(1),th(qf)))).pipe(Mc((e,t)=>{let r=!1;return t.reduce((a,l,p)=>a!==qf?a:(l===qf&&(r=!0),r||!1!==l&&p!==t.length-1&&!Uc(l)?a:l),e)},qf),mn(e=>e!==qf),(0,bt.U)(e=>Uc(e)?e:!0===e),(0,pr.q)(1)))}class R0{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ch,this.attachRef=null}}class ch{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new R0,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let fv=(()=>{class n{constructor(t,r,a,l,p){this.parentContexts=t,this.location=r,this.resolver=a,this.changeDetector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.EventEmitter,this.deactivateEvents=new h.EventEmitter,this.attachEvents=new h.EventEmitter,this.detachEvents=new h.EventEmitter,this.name=l||Gt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const p=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),v=this.parentContexts.getOrCreateContext(this.name).children,w=new pv(t,v,this.location.injector);this.activated=this.location.createComponent(p,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(ch),h.\u0275\u0275directiveInject(h.ViewContainerRef),h.\u0275\u0275directiveInject(h.ComponentFactoryResolver),h.\u0275\u0275injectAttribute("name"),h.\u0275\u0275directiveInject(h.ChangeDetectorRef))},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class pv{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Cl?this.route:e===ch?this.childContexts:this.parent.get(e,t)}}let GC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&h.\u0275\u0275element(0,"router-outlet")},directives:[fv],encapsulation:2}),n})();function qC(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];mT(r,yT(e,r))}}function mT(n,e){n.children&&qC(n.children,e)}function yT(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function O0(n){const e=n.children&&n.children.map(O0),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Gt&&(t.component=GC),t}function na(n){return n.outlet||Gt}function zC(n,e){const t=n.filter(r=>na(r)===e);return t.push(...n.filter(r=>na(r)!==e)),t}const WC={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function gv(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},WC):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(e.matcher||Pc)(t,n,e);if(!l)return Object.assign({},WC);const p={};xn(l.posParams,(w,x)=>{p[x]=w.path});const v=l.consumed.length>0?Object.assign(Object.assign({},p),l.consumed[l.consumed.length-1].parameters):p;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:v,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function mv(n,e,t,r,a="corrected"){if(t.length>0&&function KC(n,e,t){return t.some(r=>dh(n,e,r)&&na(r)!==Gt)}(n,t,r)){const p=new b(e,function yv(n,e,t,r){const a={};a[Gt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&na(l)!==Gt){const p=new b([],{});p._sourceSegment=n,p._segmentIndexShift=e.length,a[na(l)]=p}return a}(n,e,r,new b(t,n.children)));return p._sourceSegment=n,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:[]}}if(0===t.length&&function N0(n,e,t){return t.some(r=>dh(n,e,r))}(n,t,r)){const p=new b(n.segments,function Dl(n,e,t,r,a,l){const p={};for(const v of r)if(dh(n,t,v)&&!a[na(v)]){const w=new b([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===l?n.segments.length:e.length,p[na(v)]=w}return Object.assign(Object.assign({},a),p)}(n,e,t,r,n.children,a));return p._sourceSegment=n,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:t}}const l=new b(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function dh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function vv(n,e,t,r){return!!(na(n)===r||r!==Gt&&dh(e,t,n))&&("**"===n.path||gv(e,n,t).matched)}function Gg(n,e,t){return 0===e.length&&!n.children[t]}class zf{constructor(e){this.segmentGroup=e||null}}class Du{constructor(e){this.urlTree=e}}function Wf(n){return new an.y(e=>e.error(new zf(n)))}function P0(n){return new an.y(e=>e.error(new Du(n)))}function _v(n){return new an.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class QC{constructor(e,t,r,a,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=a,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(h.NgModuleRef)}apply(){const e=mv(this.urlTree.root,[],[],this.config).segmentGroup,t=new b(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Gt).pipe((0,bt.U)(l=>this.createUrlTree(jc(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ka(l=>{if(l instanceof Du)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof zf?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Gt).pipe((0,bt.U)(a=>this.createUrlTree(jc(a),e.queryParams,e.fragment))).pipe(ka(a=>{throw a instanceof zf?this.noMatchError(a):a}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const a=e.segments.length>0?new b([],{[Gt]:e}):e;return new _(a,t,r)}expandSegmentGroup(e,t,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,bt.U)(l=>new b([],l))):this.expandSegment(e,r,t,r.segments,a,!0)}expandChildren(e,t,r){const a=[];for(const l of Object.keys(r.children))"primary"===l?a.unshift(l):a.push(l);return(0,kt.D)(a).pipe(xc(l=>{const p=r.children[l],v=zC(t,l);return this.expandSegmentGroup(e,v,p,l).pipe((0,bt.U)(w=>({segment:w,outlet:l})))}),Mc((l,p)=>(l[p.outlet]=p.segment,l),{}),function Rc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?mn((a,l)=>n(a,l,r)):Tt.y,gl(1),t?qt(e):ai(()=>new Jn))}())}expandSegment(e,t,r,a,l,p){return(0,kt.D)(r).pipe(xc(v=>this.expandSegmentAgainstRoute(e,t,r,v,a,l,p).pipe(ka(x=>{if(x instanceof zf)return mt(null);throw x}))),ui(v=>!!v),ka((v,w)=>{if(v instanceof Jn||"EmptyError"===v.name){if(Gg(t,a,l))return mt(new b([],{}));throw new zf(t)}throw v}))}expandSegmentAgainstRoute(e,t,r,a,l,p,v){return vv(a,t,l,p)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,t,a,l,p):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,a,l,p):Wf(t):Wf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,a,l,p){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,a,p):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,a,l,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,a){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?P0(l):this.lineralizeSegments(r,l).pipe((0,Ur.z)(p=>{const v=new b(p,{});return this.expandSegment(e,v,t,p,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,a,l,p){const{matched:v,consumedSegments:w,lastChild:x,positionalParamSegments:L}=gv(t,a,l);if(!v)return Wf(t);const j=this.applyRedirectCommands(w,a.redirectTo,L);return a.redirectTo.startsWith("/")?P0(j):this.lineralizeSegments(a,j).pipe((0,Ur.z)(J=>this.expandSegment(e,t,r,J.concat(l.slice(x)),p,!1)))}matchSegmentAgainstRoute(e,t,r,a,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?mt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,bt.U)(J=>(r._loadedConfig=J,new b(a,{})))):mt(new b(a,{}));const{matched:p,consumedSegments:v,lastChild:w}=gv(t,r,a);if(!p)return Wf(t);const x=a.slice(w);return this.getChildConfig(e,r,a).pipe((0,Ur.z)(j=>{const J=j.module,ye=j.routes,{segmentGroup:Le,slicedSegments:tt}=mv(t,v,x,ye),It=new b(Le.segments,Le.children);if(0===tt.length&&It.hasChildren())return this.expandChildren(J,ye,It).pipe((0,bt.U)(dn=>new b(v,dn)));if(0===ye.length&&0===tt.length)return mt(new b(v,{}));const cn=na(r)===l;return this.expandSegment(J,It,ye,tt,cn?Gt:l,!0).pipe((0,bt.U)(Sr=>new b(v.concat(Sr.segments),Sr.children)))}))}getChildConfig(e,t,r){return t.children?mt(new Gf(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?mt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Ur.z)(a=>a?this.configLoader.load(e.injector,t).pipe((0,bt.U)(l=>(t._loadedConfig=l,l))):function ZC(n){return new an.y(e=>e.error(Pf(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):mt(new Gf([],e))}runCanLoadGuards(e,t,r){const a=t.canLoad;return a&&0!==a.length?mt(a.map(p=>{const v=e.get(p);let w;if(function $C(n){return n&&Vc(n.canLoad)}(v))w=v.canLoad(t,r);else{if(!Vc(v))throw new Error("Invalid CanLoad guard");w=v(t,r)}return rs(w)})).pipe(Hg(),(0,Ti.b)(p=>{if(!Uc(p))return;const v=Pf(`Redirecting to "${this.urlSerializer.serialize(p)}"`);throw v.url=p,v}),(0,bt.U)(p=>!0===p)):mt(!0)}lineralizeSegments(e,t){let r=[],a=t.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return mt(r);if(a.numberOfChildren>1||!a.children[Gt])return _v(e.redirectTo);a=a.children[Gt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,a){const l=this.createSegmentGroup(e,t.root,r,a);return new _(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return xn(e,(a,l)=>{if("string"==typeof a&&a.startsWith(":")){const v=a.substring(1);r[l]=t[v]}else r[l]=a}),r}createSegmentGroup(e,t,r,a){const l=this.createSegments(e,t.segments,r,a);let p={};return xn(t.children,(v,w)=>{p[w]=this.createSegmentGroup(e,v,r,a)}),new b(l,p)}createSegments(e,t,r,a){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,a):this.findOrReturn(l,r))}findPosParam(e,t,r){const a=r[t.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return a}findOrReturn(e,t){let r=0;for(const a of t){if(a.path===e.path)return t.splice(r),a;r++}return e}}function jc(n){const e={};for(const r of Object.keys(n.children)){const l=jc(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function YC(n){if(1===n.numberOfChildren&&n.children[Gt]){const e=n.children[Gt];return new b(n.segments.concat(e.segments),e.children)}return n}(new b(n.segments,e))}class qg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class bu{constructor(e,t){this.component=e,this.route=t}}function Kf(n,e,t){const r=n._root;return ph(r,e?e._root:null,t,[r.value])}function zg(n,e,t){const r=function F0(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function ph(n,e,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=Lc(e);return n.children.forEach(p=>{(function Ev(n,e,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,p=e?e.value:null,v=t?t.getContext(n.value.outlet):null;if(p&&l.routeConfig===p.routeConfig){const w=function Iv(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!se(n.url,e.url);case"pathParamsOrQueryParamsChange":return!se(n.url,e.url)||!Bn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!av(n,e)||!Bn(n.queryParams,e.queryParams);default:return!av(n,e)}}(p,l,l.routeConfig.runGuardsAndResolvers);w?a.canActivateChecks.push(new qg(r)):(l.data=p.data,l._resolvedData=p._resolvedData),ph(n,e,l.component?v?v.children:null:t,r,a),w&&v&&v.outlet&&v.outlet.isActivated&&a.canDeactivateChecks.push(new bu(v.outlet.component,p))}else p&&gh(e,v,a),a.canActivateChecks.push(new qg(r)),ph(n,null,l.component?v?v.children:null:t,r,a)})(p,l[p.value.outlet],t,r.concat([p.value]),a),delete l[p.value.outlet]}),xn(l,(p,v)=>gh(p,t.getContext(v),a)),a}function gh(n,e,t){const r=Lc(n),a=n.value;xn(r,(l,p)=>{gh(l,a.component?e?e.children.getContext(p):null:e,t)}),t.canDeactivateChecks.push(new bu(a.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,a))}class eD{}function B0(n){return new an.y(e=>e.error(n))}class tD{constructor(e,t,r,a,l,p){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=p}recognize(){const e=mv(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Gt);if(null===t)return null;const r=new Ms([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Gt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new ea(r,t),l=new T0(this.url,a);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=b0(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const p=t.children[l],v=zC(e,l),w=this.processSegmentGroup(v,p,l);if(null===w)return null;r.push(...w)}const a=wv(r);return function nD(n){n.sort((e,t)=>e.value.outlet===Gt?-1:t.value.outlet===Gt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}processSegment(e,t,r,a){for(const l of e){const p=this.processSegmentAgainstRoute(l,t,r,a);if(null!==p)return p}return Gg(t,r,a)?[]:null}processSegmentAgainstRoute(e,t,r,a){if(e.redirectTo||!vv(e,t,r,a))return null;let l,p=[],v=[];if("**"===e.path){const ye=r.length>0?Ff(r).parameters:{};l=new Ms(r,ye,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Cv(e),na(e),e.component,e,$0(t),Kg(t)+r.length,H0(e))}else{const ye=gv(t,e,r);if(!ye.matched)return null;p=ye.consumedSegments,v=r.slice(ye.lastChild),l=new Ms(p,ye.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Cv(e),na(e),e.component,e,$0(t),Kg(t)+p.length,H0(e))}const w=function _T(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:x,slicedSegments:L}=mv(t,p,v,w.filter(ye=>void 0===ye.redirectTo),this.relativeLinkResolution);if(0===L.length&&x.hasChildren()){const ye=this.processChildren(w,x);return null===ye?null:[new ea(l,ye)]}if(0===w.length&&0===L.length)return[new ea(l,[])];const j=na(e)===a,J=this.processSegment(w,x,L,j?Gt:a);return null===J?null:[new ea(l,J)]}}function ET(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function wv(n){const e=[],t=new Set;for(const r of n){if(!ET(r)){e.push(r);continue}const a=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...r.children),t.add(a)):e.push(r)}for(const r of t){const a=wv(r.children);e.push(new ea(r.value,a))}return e.filter(r=>!t.has(r))}function $0(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Kg(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Cv(n){return n.data||{}}function H0(n){return n.resolve||{}}function Dv(n){return Kt(e=>{const t=n(e);return t?(0,kt.D)(t).pipe((0,bt.U)(()=>e)):mt(e)})}class W0 extends class z0{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const bv=new h.InjectionToken("ROUTES");class ra{constructor(e,t,r,a){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=a}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const a=this.loadModuleFactory(t.loadChildren).pipe((0,bt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const p=l.create(e);return new Gf(yl(p.injector.get(bv,void 0,h.InjectFlags.Self|h.InjectFlags.Optional)).map(O0),p)}),ka(l=>{throw t._loader$=void 0,l}));return t._loader$=new Xy(a,()=>new xr.x).pipe(Mf()),t._loader$}loadModuleFactory(e){return rs(e()).pipe((0,Ur.z)(t=>t instanceof h.NgModuleFactory?mt(t):(0,kt.D)(this.compiler.compileModuleAsync(t))))}}class aD{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function uD(n){throw n}function IT(n,e,t){return e.parse("/")}function Sv(n,e){return mt(null)}const lD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let jr=(()=>{class n{constructor(t,r,a,l,p,v,w){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=a,this.location=l,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new xr.x,this.errorHandler=uD,this.malformedUriErrorHandler=IT,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Sv,afterPreactivation:Sv},this.urlHandlingStrategy=new aD,this.routeReuseStrategy=new W0,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=p.get(h.NgModuleRef),this.console=p.get(h.\u0275Console);const j=p.get(h.NgZone);this.isNgZoneEnabled=j instanceof h.NgZone&&h.NgZone.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=function Lf(){return new _(new b([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ra(p,v,J=>this.triggerEvent(new Si(J)),J=>this.triggerEvent(new _u(J))),this.routerState=sv(this.currentUrlTree,this.rootComponentType),this.transitions=new Ss({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(mn(a=>0!==a.id),(0,bt.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Kt(a=>{let l=!1,p=!1;return mt(a).pipe((0,Ti.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.currentRawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Kt(v=>{const w=this.browserUrlTree.toString(),x=!this.navigated||v.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||x)&&this.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return Zg(v.source)&&(this.browserUrlTree=v.extractedUrl),mt(v).pipe(Kt(j=>{const J=this.transitions.getValue();return r.next(new xf(j.id,this.serializeUrl(j.extractedUrl),j.source,j.restoredState)),J!==this.transitions.getValue()?vu.E:Promise.resolve(j)}),function hh(n,e,t,r){return Kt(a=>function k0(n,e,t,r,a){return new QC(n,e,t,r,a).apply()}(n,e,t,a.extractedUrl,r).pipe((0,bt.U)(l=>Object.assign(Object.assign({},a),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ti.b)(j=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:j.urlAfterRedirects})}),function rD(n,e,t,r,a){return(0,Ur.z)(l=>function ro(n,e,t,r,a="emptyOnly",l="legacy"){try{const p=new tD(n,e,t,r,a,l).recognize();return null===p?B0(new eD):mt(p)}catch(p){return B0(p)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,a).pipe((0,bt.U)(p=>Object.assign(Object.assign({},l),{targetSnapshot:p}))))}(this.rootComponentType,this.config,j=>this.serializeUrl(j),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ti.b)(j=>{if("eager"===this.urlUpdateStrategy){if(!j.extras.skipLocationChange){const ye=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl);this.setBrowserUrl(ye,j)}this.browserUrlTree=j.urlAfterRedirects}const J=new Of(j.id,this.serializeUrl(j.extractedUrl),this.serializeUrl(j.urlAfterRedirects),j.targetSnapshot);r.next(J)}));if(x&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:J,extractedUrl:ye,source:Le,restoredState:tt,extras:It}=v,cn=new xf(J,this.serializeUrl(ye),Le,tt);r.next(cn);const lr=sv(ye,this.rootComponentType).snapshot;return mt(Object.assign(Object.assign({},v),{targetSnapshot:lr,urlAfterRedirects:ye,extras:Object.assign(Object.assign({},It),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=v.rawUrl,v.resolve(null),vu.E}),Dv(v=>{const{targetSnapshot:w,id:x,extractedUrl:L,rawUrl:j,extras:{skipLocationChange:J,replaceUrl:ye}}=v;return this.hooks.beforePreactivation(w,{navigationId:x,appliedUrlTree:L,rawUrlTree:j,skipLocationChange:!!J,replaceUrl:!!ye})}),(0,Ti.b)(v=>{const w=new xg(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(w)}),(0,bt.U)(v=>Object.assign(Object.assign({},v),{guards:Kf(v.targetSnapshot,v.currentSnapshot,this.rootContexts)})),function Wg(n,e){return(0,Ur.z)(t=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:p}}=t;return 0===p.length&&0===l.length?mt(Object.assign(Object.assign({},t),{guardsResult:!0})):function JC(n,e,t,r){return(0,kt.D)(n).pipe((0,Ur.z)(a=>function j0(n,e,t,r,a){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?mt(l.map(v=>{const w=zg(v,e,a);let x;if(function gT(n){return n&&Vc(n.canDeactivate)}(w))x=rs(w.canDeactivate(n,e,t,r));else{if(!Vc(w))throw new Error("Invalid CanDeactivate guard");x=rs(w(n,e,t,r))}return x.pipe(ui())})).pipe(Hg()):mt(!0)}(a.component,a.route,t,e,r)),ui(a=>!0!==a,!0))}(p,r,a,n).pipe((0,Ur.z)(v=>v&&function BC(n){return"boolean"==typeof n}(v)?function L0(n,e,t,r){return(0,kt.D)(e).pipe(xc(a=>pl(function V0(n,e){return null!==n&&e&&e(new Eu(n)),mt(!0)}(a.route.parent,r),function vT(n,e){return null!==n&&e&&e(new Og(n)),mt(!0)}(a.route,r),function XC(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(p=>function fh(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(p)).filter(p=>null!==p).map(p=>Ag(()=>mt(p.guards.map(w=>{const x=zg(w,p.node,t);let L;if(function x0(n){return n&&Vc(n.canActivateChild)}(x))L=rs(x.canActivateChild(r,n));else{if(!Vc(x))throw new Error("Invalid CanActivateChild guard");L=rs(x(r,n))}return L.pipe(ui())})).pipe(Hg())));return mt(l).pipe(Hg())}(n,a.path,t),function U0(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return mt(!0);const a=r.map(l=>Ag(()=>{const p=zg(l,e,t);let v;if(function HC(n){return n&&Vc(n.canActivate)}(p))v=rs(p.canActivate(e,n));else{if(!Vc(p))throw new Error("Invalid CanActivate guard");v=rs(p(e,n))}return v.pipe(ui())}));return mt(a).pipe(Hg())}(n,a.route,t))),ui(a=>!0!==a,!0))}(r,l,n,e):mt(v)),(0,bt.U)(v=>Object.assign(Object.assign({},t),{guardsResult:v})))})}(this.ngModule.injector,v=>this.triggerEvent(v)),(0,Ti.b)(v=>{if(Uc(v.guardsResult)){const x=Pf(`Redirecting to "${this.serializeUrl(v.guardsResult)}"`);throw x.url=v.guardsResult,x}const w=new ev(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.triggerEvent(w)}),mn(v=>!!v.guardsResult||(this.restoreHistory(v),this.cancelNavigationTransition(v,""),!1)),Dv(v=>{if(v.guards.canActivateChecks.length)return mt(v).pipe((0,Ti.b)(w=>{const x=new ih(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(x)}),Kt(w=>{let x=!1;return mt(w).pipe(function iD(n,e){return(0,Ur.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=t;if(!a.length)return mt(t);let l=0;return(0,kt.D)(a).pipe(xc(p=>function G0(n,e,t,r){return function sD(n,e,t,r){const a=Object.keys(n);if(0===a.length)return mt({});const l={};return(0,kt.D)(a).pipe((0,Ur.z)(p=>function q0(n,e,t,r){const a=zg(n,e,r);return rs(a.resolve?a.resolve(e,t):a(e,t))}(n[p],e,t,r).pipe((0,Ti.b)(v=>{l[p]=v}))),gl(1),(0,Ur.z)(()=>Object.keys(l).length===a.length?mt(l):vu.E))}(n._resolve,n,e,r).pipe((0,bt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),b0(n,t).resolve),null)))}(p.route,r,n,e)),(0,Ti.b)(()=>l++),gl(1),(0,Ur.z)(p=>l===a.length?mt(t):vu.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ti.b)({next:()=>x=!0,complete:()=>{x||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,Ti.b)(w=>{const x=new Rg(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(x)}))}),Dv(v=>{const{targetSnapshot:w,id:x,extractedUrl:L,rawUrl:j,extras:{skipLocationChange:J,replaceUrl:ye}}=v;return this.hooks.afterPreactivation(w,{navigationId:x,appliedUrlTree:L,rawUrlTree:j,skipLocationChange:!!J,replaceUrl:!!ye})}),(0,bt.U)(v=>{const w=function kC(n,e,t){const r=uh(n,e._root,t?t._root:void 0);return new OC(r,e)}(this.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return Object.assign(Object.assign({},v),{targetRouterState:w})}),(0,Ti.b)(v=>{this.currentUrlTree=v.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl),this.routerState=v.targetRouterState,"deferred"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,v),this.browserUrlTree=v.urlAfterRedirects)}),((n,e,t)=>(0,bt.U)(r=>(new dv(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,v=>this.triggerEvent(v)),(0,Ti.b)({next(){l=!0},complete(){l=!0}}),function Mg(n){return(0,Gn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var v;l||p||this.cancelNavigationTransition(a,`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`),(null===(v=this.currentNavigation)||void 0===v?void 0:v.id)===a.id&&(this.currentNavigation=null)}),ka(v=>{if(p=!0,function Pg(n){return n&&n[Nc]}(v)){const w=Uc(v.url);w||(this.navigated=!0,this.restoreHistory(a,!0));const x=new rh(a.id,this.serializeUrl(a.extractedUrl),v.message);r.next(x),w?setTimeout(()=>{const L=this.urlHandlingStrategy.merge(v.url,this.rawUrlTree),j={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Zg(a.source)};this.scheduleNavigation(L,"imperative",null,j,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const w=new Rf(a.id,this.serializeUrl(a.extractedUrl),v);r.next(w);try{a.resolve(this.errorHandler(v))}catch(x){a.reject(x)}}return vu.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var a;const l={replaceUrl:!0},p=(null===(a=t.state)||void 0===a?void 0:a.navigationId)?t.state:null;if(p){const w=Object.assign({},p);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(l.state=w)}const v=this.parseUrl(t.url);this.scheduleNavigation(v,r,p,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){qC(t),this.config=t.map(O0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:a,queryParams:l,fragment:p,queryParamsHandling:v,preserveFragment:w}=r,x=a||this.routerState.root,L=w?this.currentUrlTree.fragment:p;let j=null;switch(v){case"merge":j=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":j=this.currentUrlTree.queryParams;break;default:j=l||null}return null!==j&&(j=this.removeEmptyProps(j)),function VC(n,e,t,r,a){if(0===t.length)return Ug(e.root,e.root,e,r,a);const l=function ta(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Bf(!0,0,n);let e=0,t=!1;const r=n.reduce((a,l,p)=>{if("object"==typeof l&&null!=l){if(l.outlets){const v={};return xn(l.outlets,(w,x)=>{v[x]="string"==typeof w?w.split("/"):w}),[...a,{outlets:v}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===p?(l.split("/").forEach((v,w)=>{0==w&&"."===v||(0==w&&""===v?t=!0:".."===v?e++:""!=v&&a.push(v))}),a):[...a,l]},[]);return new Bf(t,e,r)}(t);if(l.toRoot())return Ug(e.root,new b([],{}),e,r,a);const p=function UC(n,e,t){if(n.isAbsolute)return new jg(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new jg(l,l===e.root,0)}const r=xt(n.commands[0])?0:1;return function lv(n,e,t){let r=n,a=e,l=t;for(;l>a;){if(l-=a,r=r.parent,!r)throw new Error("Invalid number of '../'");a=r.segments.length}return new jg(r,!1,a-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),v=p.processChildren?$f(p.segmentGroup,p.index,l.commands):Bg(p.segmentGroup,p.index,l.commands);return Ug(p.segmentGroup,v,e,r,a)}(x,this.currentUrlTree,t,j,null!=L?L:null)}navigateByUrl(t,r={skipLocationChange:!1}){const a=Uc(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Av(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return r}isActive(t,r){let a;if(a=!0===r?Object.assign({},lD):!1===r?Object.assign({},cD):r,Uc(t))return kg(this.currentUrlTree,t,a);const l=this.parseUrl(t);return kg(this.currentUrlTree,l,a)}removeEmptyProps(t){return Object.keys(t).reduce((r,a)=>{const l=t[a];return null!=l&&(r[a]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Oc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,a,l,p){var v,w,x;if(this.disposed)return Promise.resolve(!1);const L=this.transitions.value,j=Zg(r)&&L&&!Zg(L.source),J=L.rawUrl.toString()===t.toString(),ye=L.id===(null===(v=this.currentNavigation)||void 0===v?void 0:v.id);if(j&&J&&ye)return Promise.resolve(!0);let tt,It,cn;p?(tt=p.resolve,It=p.reject,cn=p.promise):cn=new Promise((dn,qr)=>{tt=dn,It=qr});const lr=++this.navigationId;let Sr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),Sr=a&&a.\u0275routerPageId?a.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(w=this.browserPageId)&&void 0!==w?w:0:(null!==(x=this.browserPageId)&&void 0!==x?x:0)+1):Sr=0,this.setTransition({id:lr,targetPageId:Sr,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:tt,reject:It,promise:cn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),cn.catch(dn=>Promise.reject(dn))}setBrowserUrl(t,r){const a=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",l):this.location.go(a,"",l)}restoreHistory(t,r=!1){var a,l;if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===p?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===p&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(p)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const a=new rh(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){h.\u0275\u0275invalidFactory()},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function Zg(n){return"imperative"!==n}let Mv=(()=>{class n{constructor(t,r,a,l,p){this.router=t,this.route=r,this.tabIndexAttribute=a,this.renderer=l,this.el=p,this.commands=null,this.onChanges=new xr.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,a=this.el.nativeElement;null!==t?r.setAttribute(a,"tabindex",t):r.removeAttribute(a,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:bl(this.skipLocationChange),replaceUrl:bl(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:bl(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(jr),h.\u0275\u0275directiveInject(Cl),h.\u0275\u0275injectAttribute("tabindex"),h.\u0275\u0275directiveInject(h.Renderer2),h.\u0275\u0275directiveInject(h.ElementRef))},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&h.\u0275\u0275listener("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[h.\u0275\u0275NgOnChangesFeature]}),n})(),Fa=(()=>{class n{constructor(t,r,a){this.router=t,this.route=r,this.locationStrategy=a,this.commands=null,this.href=null,this.onChanges=new xr.x,this.subscription=t.events.subscribe(l=>{l instanceof Oc&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,a,l,p){if(0!==t||r||a||l||p||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const v={skipLocationChange:bl(this.skipLocationChange),replaceUrl:bl(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,v),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:bl(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(jr),h.\u0275\u0275directiveInject(Cl),h.\u0275\u0275directiveInject(I.LocationStrategy))},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&h.\u0275\u0275listener("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&h.\u0275\u0275attribute("target",r.target)("href",r.href,h.\u0275\u0275sanitizeUrl)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[h.\u0275\u0275NgOnChangesFeature]}),n})();function bl(n){return""===n||!!n}let K0=(()=>{class n{constructor(t,r,a,l,p,v){this.router=t,this.element=r,this.renderer=a,this.cdr=l,this.link=p,this.linkWithHref=v,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new h.EventEmitter,this.routerEventsSubscription=t.events.subscribe(w=>{w instanceof Oc&&this.update()})}ngAfterContentInit(){mt(this.links.changes,this.linksWithHrefs.changes,mt(null)).pipe((0,eh.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(a=>!!a).map(a=>a.onChanges);this.linkInputChangesSubscription=(0,kt.D)(r).pipe((0,eh.J)()).subscribe(a=>{this.isActive!==this.isLinkActive(this.router)(a)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(a=>!!a)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function xv(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return a=>!!a.urlTree&&t.isActive(a.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(jr),h.\u0275\u0275directiveInject(h.ElementRef),h.\u0275\u0275directiveInject(h.Renderer2),h.\u0275\u0275directiveInject(h.ChangeDetectorRef),h.\u0275\u0275directiveInject(Mv,8),h.\u0275\u0275directiveInject(Fa,8))},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,a){if(1&t&&(h.\u0275\u0275contentQuery(a,Mv,5),h.\u0275\u0275contentQuery(a,Fa,5)),2&t){let l;h.\u0275\u0275queryRefresh(l=h.\u0275\u0275loadQuery())&&(r.links=l),h.\u0275\u0275queryRefresh(l=h.\u0275\u0275loadQuery())&&(r.linksWithHrefs=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[h.\u0275\u0275NgOnChangesFeature]}),n})();class Qg{}class Q0{preload(e,t){return mt(null)}}let Y0=(()=>{class n{constructor(t,r,a,l){this.router=t,this.injector=a,this.preloadingStrategy=l,this.loader=new ra(a,r,w=>t.triggerEvent(new Si(w)),w=>t.triggerEvent(new _u(w)))}setUpPreloading(){this.subscription=this.router.events.pipe(mn(t=>t instanceof Oc),xc(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(h.NgModuleRef);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const a=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const p=l._loadedConfig;a.push(this.processRoutes(p.module,p.routes))}else l.loadChildren&&!l.canLoad?a.push(this.preloadConfig(t,l)):l.children&&a.push(this.processRoutes(t,l.children));return(0,kt.D)(a).pipe((0,eh.J)(),(0,bt.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?mt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Ur.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(jr),h.\u0275\u0275inject(h.Compiler),h.\u0275\u0275inject(h.Injector),h.\u0275\u0275inject(Qg))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),Zf=(()=>{class n{constructor(t,r,a={}){this.router=t,this.viewportScroller=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof xf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Oc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Nf&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Nf(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){h.\u0275\u0275invalidFactory()},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const Bc=new h.InjectionToken("ROUTER_CONFIGURATION"),Rv=new h.InjectionToken("ROUTER_FORROOT_GUARD"),J0=[I.Location,{provide:je,useClass:it},{provide:jr,useFactory:function tI(n,e,t,r,a,l,p={},v,w){const x=new jr(null,n,e,t,r,a,yl(l));return v&&(x.urlHandlingStrategy=v),w&&(x.routeReuseStrategy=w),function wT(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(p,x),p.enableTracing&&x.events.subscribe(L=>{var j,J;null===(j=console.group)||void 0===j||j.call(console,`Router Event: ${L.constructor.name}`),console.log(L.toString()),console.log(L),null===(J=console.groupEnd)||void 0===J||J.call(console)}),x},deps:[je,ch,I.Location,h.Injector,h.Compiler,bv,Bc,[class Tv{},new h.Optional],[class oD{},new h.Optional]]},ch,{provide:Cl,useFactory:function Jg(n){return n.routerState.root},deps:[jr]},Y0,Q0,class Z0{preload(e,t){return t().pipe(ka(()=>mt(null)))}},{provide:Bc,useValue:{enableTracing:!1}}];function X0(){return new h.NgProbeToken("Router",jr)}let Ov=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[J0,Nv(t),{provide:Rv,useFactory:Yg,deps:[[jr,new h.Optional,new h.SkipSelf]]},{provide:Bc,useValue:r||{}},{provide:I.LocationStrategy,useFactory:Tu,deps:[I.PlatformLocation,[new h.Inject(I.APP_BASE_HREF),new h.Optional],Bc]},{provide:Zf,useFactory:eI,deps:[jr,I.ViewportScroller,Bc]},{provide:Qg,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Q0},{provide:h.NgProbeToken,multi:!0,useFactory:X0},[Xg,{provide:h.APP_INITIALIZER,multi:!0,useFactory:Pv,deps:[Xg]},{provide:nI,useFactory:Qf,deps:[Xg]},{provide:h.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:nI}]]}}static forChild(t){return{ngModule:n,providers:[Nv(t)]}}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(Rv,8),h.\u0275\u0275inject(jr,8))},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=h.\u0275\u0275defineInjector({}),n})();function eI(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Zf(n,e,t)}function Tu(n,e,t={}){return t.useHash?new I.HashLocationStrategy(n,e):new I.PathLocationStrategy(n,e)}function Yg(n){return"guarded"}function Nv(n){return[{provide:h.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:n},{provide:bv,multi:!0,useValue:n}]}let Xg=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new xr.x}appInitializer(){return this.injector.get(I.LOCATION_INITIALIZED,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const a=new Promise(v=>r=v),l=this.injector.get(jr),p=this.injector.get(Bc);return"disabled"===p.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===p.initialNavigation||"enabledBlocking"===p.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?mt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),a})}bootstrapListener(t){const r=this.injector.get(Bc),a=this.injector.get(Y0),l=this.injector.get(Zf),p=this.injector.get(jr),v=this.injector.get(h.ApplicationRef);t===v.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&p.initialNavigation(),a.setUpPreloading(),l.init(),p.resetRootComponentType(v.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(h.Injector))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function Pv(n){return n.appInitializer.bind(n)}function Qf(n){return n.bootstrapListener.bind(n)}const nI=new h.InjectionToken("Router Initializer");var Fv=F(4986);function em(){return(0,Gn.e)((n,e)=>{let t,r=!1;n.subscribe(new Ln.Q(e,a=>{const l=t;t=a,r&&e.next([l,a]),r=!0}))})}function Lv(n,e){return n===e}F(2438);var ot,fD=F(3942),rI="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},xs={},Vv=Vv||{},Ft=rI||self;function Su(){}function Uv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Yf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var jv="closure_uid_"+(1e9*Math.random()>>>0),io=0;function Bv(n,e,t){return n.call.apply(n.bind,arguments)}function iI(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,r),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function fi(n,e,t){return(fi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Bv:iI).apply(null,arguments)}function Jf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function pi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,a,l){for(var p=Array(arguments.length-2),v=2;v<arguments.length;v++)p[v-2]=arguments[v];return e.prototype[a].apply(r,p)}}function Tl(){this.s=this.s,this.o=this.o}var gD={};Tl.prototype.s=!1,Tl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function pD(n){return Object.prototype.hasOwnProperty.call(n,jv)&&n[jv]||(n[jv]=++io)}(this);delete gD[n]}},Tl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const oI=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},tm=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,a="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in a&&e.call(t,a[l],l,n)};function $v(n){return Array.prototype.concat.apply([],arguments)}function Hv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function nm(n){return/^[\s\xa0]*$/.test(n)}var is,mD=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Rs(n,e){return-1!=n.indexOf(e)}function Xf(n,e){return n<e?-1:n>e?1:0}e:{var Gv=Ft.navigator;if(Gv){var qv=Gv.userAgent;if(qv){is=qv;break e}}is=""}function zv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function so(n){const e={};for(const t in n)e[t]=n[t];return e}var yD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function aI(n,e){let t,r;for(let a=1;a<arguments.length;a++){for(t in r=arguments[a],r)n[t]=r[t];for(let l=0;l<yD.length;l++)t=yD[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function rm(n){return rm[" "](n),n}rm[" "]=Su;var am,n,lI=Rs(is,"Opera"),$c=Rs(is,"Trident")||Rs(is,"MSIE"),cI=Rs(is,"Edge"),im=cI||$c,sm=Rs(is,"Gecko")&&!(Rs(is.toLowerCase(),"webkit")&&!Rs(is,"Edge"))&&!(Rs(is,"Trident")||Rs(is,"MSIE"))&&!Rs(is,"Edge"),vD=Rs(is.toLowerCase(),"webkit")&&!Rs(is,"Edge");function om(){var n=Ft.document;return n?n.documentMode:void 0}e:{var Wv="",Kv=(n=is,sm?/rv:([^\);]+)(\)|;)/.exec(n):cI?/Edge\/([\d\.]+)/.exec(n):$c?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):vD?/WebKit\/(\S+)/.exec(n):lI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Kv&&(Wv=Kv?Kv[1]:""),$c){var Zv=om();if(null!=Zv&&Zv>parseFloat(Wv)){am=String(Zv);break e}}am=Wv}var _D={};var hI=Ft.document&&$c&&(om()||parseInt(am,10))||void 0,ep=function(){if(!Ft.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ft.addEventListener("test",Su,e),Ft.removeEventListener("test",Su,e)}catch(t){}return n}();function ji(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function tp(n,e){if(ji.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(sm){e:{try{rm(e.nodeName);var a=!0;break e}catch(l){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Qv[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&tp.Z.h.call(this)}}ji.prototype.h=function(){this.defaultPrevented=!0},pi(tp,ji);var Qv={2:"touch",3:"pen",4:"mouse"};tp.prototype.h=function(){tp.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Os="closure_listenable_"+(1e6*Math.random()|0),np=0;function Bi(n,e,t,r,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=a,this.key=++np,this.ca=this.fa=!1}function La(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Gc(n){this.src=n,this.g={},this.h=0}function Ns(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],a=oI(r,e);(l=0<=a)&&Array.prototype.splice.call(r,a,1),l&&(La(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function rp(n,e,t,r){for(var a=0;a<n.length;++a){var l=n[a];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return a}return-1}Gc.prototype.add=function(n,e,t,r,a){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var p=rp(n,e,r,a);return-1<p?(e=n[p],t||(e.fa=!1)):((e=new Bi(e,this.src,l,!!r,a)).fa=t,n.push(e)),e};var Sl="closure_lm_"+(1e6*Math.random()|0),Al={};function qc(n,e,t,r,a){if(r&&r.once)return Wc(n,e,t,r,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)qc(n,e[l],t,r,a);return null}return t=op(t),n&&n[Os]?n.N(e,t,Yf(r)?!!r.capture:!!r,a):zc(n,e,t,!1,r,a)}function zc(n,e,t,r,a,l){if(!e)throw Error("Invalid event type");var p=Yf(a)?!!a.capture:!!a,v=ip(n);if(v||(n[Sl]=v=new Gc(n)),(t=v.add(e,t,r,p,l)).proxy)return t;if(r=function yh(){var e=Yv;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)ep||(a=p),void 0===a&&(a=!1),n.addEventListener(e.toString(),r,a);else if(n.attachEvent)n.attachEvent(Zc(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Wc(n,e,t,r,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Wc(n,e[l],t,r,a);return null}return t=op(t),n&&n[Os]?n.O(e,t,Yf(r)?!!r.capture:!!r,a):zc(n,e,t,!0,r,a)}function Kc(n,e,t,r,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)Kc(n,e[l],t,r,a);else r=Yf(r)?!!r.capture:!!r,t=op(t),n&&n[Os]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=rp(l=n.g[e],t,r,a))&&(La(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=ip(n))&&(e=n.g[e.toString()],n=-1,e&&(n=rp(e,t,r,a)),(t=-1<n?e[n]:null)&&Ml(t))}function Ml(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Os])Ns(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Zc(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=ip(e))?(Ns(t,n),0==t.h&&(t.src=null,e[Sl]=null)):La(n)}}}function Zc(n){return n in Al?Al[n]:Al[n]="on"+n}function Yv(n,e){if(n.ca)n=!0;else{e=new tp(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Ml(n),n=t.call(r,e)}return n}function ip(n){return(n=n[Sl])instanceof Gc?n:null}var sp="__closure_events_fn_"+(1e9*Math.random()>>>0);function op(n){return"function"==typeof n?n:(n[sp]||(n[sp]=function(e){return n.handleEvent(e)}),n[sp])}function Br(){Tl.call(this),this.i=new Gc(this),this.P=this,this.I=null}function Jr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ji(e,n);else if(e instanceof ji)e.target=e.target||n;else{var a=e;aI(e=new ji(r,n),a)}if(a=!0,t)for(var l=t.length-1;0<=l;l--){var p=e.g=t[l];a=vh(p,r,!0,e)&&a}if(a=vh(p=e.g=n,r,!0,e)&&a,a=vh(p,r,!1,e)&&a,t)for(l=0;l<t.length;l++)a=vh(p=e.g=t[l],r,!1,e)&&a}function vh(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var p=e[l];if(p&&!p.ca&&p.capture==t){var v=p.listener,w=p.ia||p.src;p.fa&&Ns(n.i,p),a=!1!==v.call(w,r)&&a}}return a&&!r.defaultPrevented}pi(Br,Tl),Br.prototype[Os]=!0,Br.prototype.removeEventListener=function(n,e,t,r){Kc(this,n,e,t,r)},Br.prototype.M=function(){if(Br.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)La(t[r]);delete n.g[e],n.h--}}this.I=null},Br.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Br.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var ap=Ft.JSON.stringify;function Jv(){var n=gI;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var e_,Xv=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new fI,n=>n.reset());class fI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function pI(n){Ft.setTimeout(()=>{throw n},0)}function um(n,e){e_||function ID(){var n=Ft.Promise.resolve(void 0);e_=function(){n.then(mI)}}(),lm||(e_(),lm=!0),gI.add(n,e)}var lm=!1,gI=new class ED{constructor(){this.h=this.g=null}add(e,t){const r=Xv.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function mI(){for(var n;n=Jv();){try{n.h.call(n.g)}catch(t){pI(t)}var e=Xv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}lm=!1}function cm(n,e){Br.call(this),this.h=n||1,this.g=e||Ft,this.j=fi(this.kb,this),this.l=Date.now()}function t_(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function n_(n,e,t){if("function"==typeof n)t&&(n=fi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=fi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ft.setTimeout(n,e||0)}function yI(n){n.g=n_(()=>{n.g=null,n.i&&(n.i=!1,yI(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}pi(cm,Br),(ot=cm.prototype).da=!1,ot.S=null,ot.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Jr(this,"tick"),this.da&&(t_(this),this.start()))}},ot.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ot.M=function(){cm.Z.M.call(this),t_(this),delete this.g};class r_ extends Tl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yI(this)}M(){super.M(),this.g&&(Ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qc(n){Tl.call(this),this.h=n,this.g={}}pi(Qc,Tl);var vI=[];function _I(n,e,t,r){Array.isArray(t)||(t&&(vI[0]=t.toString()),t=vI);for(var a=0;a<t.length;a++){var l=qc(e,t[a],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function EI(n){zv(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ml(e)},n),n.g={}}function dm(){this.g=!0}function _h(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Au(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var p=1;p<a.length;p++)a[p]=""}}}return ap(t)}catch(v){return e}}(n,t)+(r?" "+r:"")})}Qc.prototype.M=function(){Qc.Z.M.call(this),EI(this)},Qc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dm.prototype.Aa=function(){this.g=!1},dm.prototype.info=function(){};var Yc={},i_=null;function hm(){return i_=i_||new Br}function s_(n){ji.call(this,Yc.Ma,n)}function xl(n){const e=hm();Jr(e,new s_(e,n))}function wI(n,e){ji.call(this,Yc.STAT_EVENT,n),this.stat=e}function $i(n){const e=hm();Jr(e,new wI(e,n))}function o_(n,e){ji.call(this,Yc.Na,n),this.size=e}function up(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ft.setTimeout(function(){n()},e)}Yc.Ma="serverreachability",pi(s_,ji),Yc.STAT_EVENT="statevent",pi(wI,ji),Yc.Na="timingevent",pi(o_,ji);var fm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},CI={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function a_(){}function DI(){}a_.prototype.h=null;var Jc,Eh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function pm(){ji.call(this,"d")}function lp(){ji.call(this,"c")}function Mu(){}function cp(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Qc(this),this.P=dp,this.W=new cm(n=im?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new bI}function bI(){this.i=null,this.g="",this.h=!1}pi(pm,ji),pi(lp,ji),pi(Mu,a_),Mu.prototype.g=function(){return new XMLHttpRequest},Mu.prototype.i=function(){return{}},Jc=new Mu;var dp=45e3,gm={},Ih={};function hp(n,e,t){n.K=1,n.v=td(ia(e)),n.s=t,n.U=!0,TI(n,null)}function TI(n,e){n.F=Date.now(),vm(n),n.A=ia(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),m_(t.h,"t",r),n.C=0,t=n.l.H,n.h=new bI,n.g=P_(n.l,t?e:null,!n.s),0<n.O&&(n.L=new r_(fi(n.Ia,n,n.g),n.O)),_I(n.V,n.g,"readystatechange",n.gb),e=n.H?so(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),xl(1),function wD(n,e,t,r,a,l){n.info(function(){if(n.g)if(l)for(var p="",v=l.split("&"),w=0;w<v.length;w++){var x=v[w].split("=");if(1<x.length){var L=x[0];x=x[1];var j=L.split("_");p=2<=j.length&&"type"==j[1]?p+(L+"=")+x+"&":p+(L+"=redacted&")}}else p=null;else p=l;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+e+"\n"+t+"\n"+p})}(n.j,n.u,n.A,n.m,n.X,n.s)}function mm(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function ym(n,e,t){let a,r=!0;for(;!n.I&&n.C<t.length;){if(a=SI(n,t),a==Ih){4==e&&(n.o=4,$i(14),r=!1),_h(n.j,n.m,null,"[Incomplete Response]");break}if(a==gm){n.o=4,$i(15),_h(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}_h(n.j,n.m,a,null),_m(n,a)}mm(n)&&a!=Ih&&a!=gm&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,$i(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Am(e),e.L=!0,$i(11))):(_h(n.j,n.m,t,"[Invalid Chunked Response]"),Rl(n),Xc(n))}function SI(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Ih:(t=Number(e.substring(t,r)),isNaN(t)?gm:(r+=1)+t>e.length?Ih:(e=e.substr(r,t),n.C=r+t,e))}function vm(n){n.Y=Date.now()+n.P,AI(n,n.P)}function AI(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=up(fi(n.eb,n),e)}function wh(n){n.B&&(Ft.clearTimeout(n.B),n.B=null)}function Xc(n){0==n.l.G||n.I||x_(n.l,n)}function Rl(n){wh(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,t_(n.W),EI(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function _m(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||v_(t.i,n)))if(t.I=n.N,!n.J&&v_(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(x){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=up(fi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Dp(t),bh(t)}Sm(t),$i(18)}if(1>=id(t.i)&&t.ka){try{t.ka()}catch(x){}t.ka=void 0}}else Nl(t,11)}else if((n.J||t.g==n)&&Dp(t),!nm(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let x=a[e];if(t.U=x[0],x=x[1],2==t.G)if("c"==x[0]){t.J=x[1],t.la=x[2];const L=x[3];null!=L&&(t.ma=L,t.h.info("VER="+t.ma));const j=x[4];null!=j&&(t.za=j,t.h.info("SVER="+t.za));const J=x[5];null!=J&&"number"==typeof J&&0<J&&(t.K=r=1.5*J,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const ye=n.g;if(ye){const Le=ye.g?ye.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Le){var l=r.i;!l.g&&(Rs(Le,"spdy")||Rs(Le,"quic")||Rs(Le,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(__(l,l.h),l.h=null))}if(r.D){const tt=ye.g?ye.g.getResponseHeader("X-HTTP-Session-Id"):null;tt&&(r.sa=tt,$n(r.F,r.D,tt))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var p=n;if((r=t).oa=N_(r,r.H?r.la:null,r.W),p.J){E_(r.i,p);var v=p,w=r.K;w&&v.setTimeout(w),v.B&&(wh(v),vm(v)),r.g=p}else A_(r);0<t.l.length&&Th(t)}else"stop"!=x[0]&&"close"!=x[0]||Nl(t,7);else 3==t.G&&("stop"==x[0]||"close"==x[0]?"stop"==x[0]?Nl(t,7):wp(t):"noop"!=x[0]&&t.j&&t.j.wa(x),t.A=0)}xl(4)}catch(x){}}function Em(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Uv(n)||"string"==typeof n)tm(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Uv(n)||"string"==typeof n){t=[];for(var r=n.length,a=0;a<r;a++)t.push(a)}else for(a in t=[],r=0,n)t[r++]=a;r=function l_(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Uv(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),a=r.length;for(var l=0;l<a;l++)e.call(void 0,r[l],t&&t[l],n)}}function ed(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof ed)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function fp(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];xu(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var a={};for(t=e=0;e<n.g.length;)xu(a,r=n.g[e])||(n.g[t++]=r,a[r]=1),e++;n.g.length=t}}function xu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ot=cp.prototype).setTimeout=function(n){this.P=n},ot.gb=function(n){n=n.target;const e=this.L;e&&3==xo(n)?e.l():this.Ia(n)},ot.Ia=function(n){try{if(n==this.g)e:{const L=xo(this.g);var e=this.g.Da();const j=this.g.ba();if(!(3>L)&&(3!=L||im||this.g&&(this.h.h||this.g.ga()||jI(this.g)))){this.I||4!=L||7==e||xl(8==e||0>=j?3:2),wh(this);var t=this.g.ba();this.N=t;t:if(mm(this)){var r=jI(this.g);n="";var a=r.length,l=4==xo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Rl(this),Xc(this);var p="";break t}this.h.i=new Ft.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==a-1});r.splice(0,a),this.h.g+=n,this.C=0,p=this.h.g}else p=this.g.ga();if(this.i=200==t,function II(n,e,t,r,a,l,p){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+l+" "+p})}(this.j,this.u,this.A,this.m,this.X,L,t),this.i){if(this.$&&!this.J){t:{if(this.g){var v,w=this.g;if((v=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nm(v)){var x=v;break t}}x=null}if(!(t=x)){this.i=!1,this.o=3,$i(12),Rl(this),Xc(this);break e}_h(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_m(this,t)}this.U?(ym(this,L,p),im&&this.i&&3==L&&(_I(this.V,this.W,"tick",this.fb),this.W.start())):(_h(this.j,this.m,p,null),_m(this,p)),4==L&&Rl(this),this.i&&!this.I&&(4==L?x_(this.l,this):(this.i=!1,vm(this)))}else 400==t&&0<p.indexOf("Unknown SID")?(this.o=3,$i(12)):(this.o=0,$i(13)),Rl(this),Xc(this)}}}catch(L){}},ot.fb=function(){if(this.g){var n=xo(this.g),e=this.g.ga();this.C<e.length&&(wh(this),ym(this,n,e),this.i&&4!=n&&vm(this))}},ot.cancel=function(){this.I=!0,Rl(this)},ot.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function CD(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(xl(3),$i(17)),Rl(this),this.o=2,Xc(this)):AI(this,this.Y-n)},(ot=ed.prototype).R=function(){fp(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ot.T=function(){return fp(this),this.g.concat()},ot.get=function(n,e){return xu(this.h,n)?this.h[n]:e},ot.set=function(n,e){xu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ot.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var a=t[r],l=this.get(a);n.call(e,l,a,this)}};var MI=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ol(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ol){this.g=void 0!==e?e:n.g,pp(this,n.j),this.s=n.s,Im(this,n.i),gp(this,n.m),this.l=n.l,e=n.h;var t=new mp;t.i=e.i,e.g&&(t.g=new ed(e.g),t.h=e.h),c_(this,t),this.o=n.o}else n&&(t=String(n).match(MI))?(this.g=!!e,pp(this,t[1]||"",!0),this.s=nd(t[2]||""),Im(this,t[3]||"",!0),gp(this,t[4]),this.l=nd(t[5]||"",!0),c_(this,t[6]||"",!0),this.o=nd(t[7]||"")):(this.g=!!e,this.h=new mp(null,this.g))}function ia(n){return new Ol(n)}function pp(n,e,t){n.j=t?nd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Im(n,e,t){n.i=t?nd(e,!0):e}function gp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function c_(n,e,t){e instanceof mp?(n.h=e,function bD(n,e){e&&!n.j&&(Ru(n),n.i=null,n.g.forEach(function(t,r){var a=r.toLowerCase();r!=a&&(RI(this,r),m_(this,a,t))},n)),n.j=e}(n.h,n.g)):(t||(e=rd(e,bT)),n.h=new mp(e,n.g))}function $n(n,e,t){n.h.set(e,t)}function td(n){return $n(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function nd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function rd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,f_),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function f_(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ol.prototype.toString=function(){var n=[],e=this.j;e&&n.push(rd(e,wm,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(rd(e,wm,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(rd(t,"/"==t.charAt(0)?g_:p_,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",rd(t,DD)),n.join("")};var wm=/[#\/\?@]/g,p_=/[#\?:]/g,g_=/[#\?]/g,bT=/[#\?@]/g,DD=/#/g;function mp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ru(n){n.g||(n.g=new ed,n.h=0,n.i&&function xI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),a=null;if(0<=r){var l=n[t].substring(0,r);a=n[t].substring(r+1)}else l=n[t];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function RI(n,e){Ru(n),e=Ch(n,e),xu(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,xu((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&fp(n)))}function $r(n,e){return Ru(n),e=Ch(n,e),xu(n.g.h,e)}function m_(n,e,t){RI(n,e),0<t.length&&(n.i=null,n.g.set(Ch(n,e),Hv(t)),n.h+=t.length)}function Ch(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function NI(n){this.l=n||PI,n=Ft.PerformanceNavigationTiming?0<(n=Ft.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ft.g&&Ft.g.Ea&&Ft.g.Ea()&&Ft.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ot=mp.prototype).add=function(n,e){Ru(this),this.i=null,n=Ch(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ot.forEach=function(n,e){Ru(this),this.g.forEach(function(t,r){tm(t,function(a){n.call(e,a,r,this)},this)},this)},ot.T=function(){Ru(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var a=n[r],l=0;l<a.length;l++)t.push(e[r]);return t},ot.R=function(n){Ru(this);var e=[];if("string"==typeof n)$r(this,n)&&(e=$v(e,this.g.get(Ch(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=$v(e,n[t])}return e},ot.set=function(n,e){return Ru(this),this.i=null,$r(this,n=Ch(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ot.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ot.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],a=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var p=a;""!==r[l]&&(p+="="+encodeURIComponent(String(r[l]))),n.push(p)}}return this.i=n.join("&")};var PI=10;function y_(n){return!!n.h||!!n.g&&n.g.size>=n.j}function id(n){return n.h?1:n.g?n.g.size:0}function v_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function __(n,e){n.g?n.g.add(e):n.h=e}function E_(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function kI(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Hv(n.i)}function Cm(){}function TT(){this.g=new Cm}function I_(n,e,t){const r=t||"";try{Em(n,function(a,l){let p=a;Yf(a)&&(p=ap(a)),e.push(r+l+"="+encodeURIComponent(p))})}catch(a){throw e.push(r+"type="+encodeURIComponent("_badmap")),a}}function Ps(n,e,t,r,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(r)}catch(l){}}function yp(n){this.l=n.$b||null,this.j=n.ib||!1}function vp(n,e){Br.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Ao,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}NI.prototype.cancel=function(){if(this.i=kI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Cm.prototype.stringify=function(n){return Ft.JSON.stringify(n,void 0)},Cm.prototype.parse=function(n){return Ft.JSON.parse(n,void 0)},pi(yp,a_),yp.prototype.g=function(){return new vp(this.l,this.j)},yp.prototype.i=function(n){return function(){return n}}({}),pi(vp,Br);var Ao=0;function Mo(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function ss(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Dh(n)}function Dh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ot=vp.prototype).open=function(n,e){if(this.readyState!=Ao)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Dh(this)},ot.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ft).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ot.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ss(this)),this.readyState=Ao},ot.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Dh(this)),this.g&&(this.readyState=3,Dh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ft.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Mo(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ot.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ss(this):Dh(this),3==this.readyState&&Mo(this)}},ot.Ua=function(n){this.g&&(this.response=this.responseText=n,ss(this))},ot.Ta=function(n){this.g&&(this.response=n,ss(this))},ot.ha=function(){this.g&&ss(this)},ot.setRequestHeader=function(n,e){this.v.append(n,e)},ot.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ot.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(vp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var FI=Ft.JSON.parse;function Hr(n){Br.call(this),this.headers=new ed,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=LI,this.K=this.L=!1}pi(Hr,Br);var LI="",TD=/^https?$/i,SD=["POST","PUT"];function _p(n){return"content-type"==n.toLowerCase()}function VI(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,D_(n),Ep(n)}function D_(n){n.D||(n.D=!0,Jr(n,"complete"),Jr(n,"error"))}function UI(n){if(n.h&&void 0!==Vv&&(!n.C[1]||4!=xo(n)||2!=n.ba()))if(n.v&&4==xo(n))n_(n.Fa,0,n);else if(Jr(n,"readystatechange"),4==xo(n)){n.h=!1;try{const v=n.ba();e:switch(v){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===v){var a=String(n.H).match(MI)[1]||null;if(!a&&Ft.self&&Ft.self.location){var l=Ft.self.location.protocol;a=l.substr(0,l.length-1)}r=!TD.test(a?a.toLowerCase():"")}t=r}if(t)Jr(n,"complete"),Jr(n,"success");else{n.m=6;try{var p=2<xo(n)?n.g.statusText:""}catch(w){p=""}n.j=p+" ["+n.ba()+"]",D_(n)}}finally{Ep(n)}}}function Ep(n,e){if(n.g){b_(n);const t=n.g,r=n.C[0]?Su:null;n.g=null,n.C=null,e||Jr(n,"ready");try{t.onreadystatechange=r}catch(a){}}}function b_(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ft.clearTimeout(n.A),n.A=null)}function xo(n){return n.g?n.g.readyState:0}function jI(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case LI:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Dm(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function BI(n){let e="";return zv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):$n(n,e,t))}function sd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Ip(n){this.za=0,this.l=[],this.h=new dm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=sd("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=sd("baseRetryDelayMs",5e3,n),this.$a=sd("retryDelaySeedMs",1e4,n),this.Ya=sd("forwardChannelMaxRetries",2,n),this.ra=sd("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new NI(n&&n.concurrentRequestLimit),this.Ca=new TT,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function wp(n){if(bm(n),3==n.G){var e=n.V++,t=ia(n.F);$n(t,"SID",n.J),$n(t,"RID",e),$n(t,"TYPE","terminate"),od(n,t),(e=new cp(n,n.h,e,void 0)).K=2,e.v=td(ia(t)),t=!1,Ft.navigator&&Ft.navigator.sendBeacon&&(t=Ft.navigator.sendBeacon(e.v.toString(),"")),!t&&Ft.Image&&((new Image).src=e.v,t=!0),t||(e.g=P_(e.l,null),e.g.ea(e.v)),e.F=Date.now(),vm(e)}O_(n)}function bh(n){n.g&&(Am(n),n.g.cancel(),n.g=null)}function bm(n){bh(n),n.u&&(Ft.clearTimeout(n.u),n.u=null),Dp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ft.clearTimeout(n.m),n.m=null)}function Cp(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Th(n)}function Th(n){y_(n.i)||n.m||(n.m=!0,um(n.Ha,n),n.C=0)}function Tm(n,e){var t;t=e?e.m:n.V++;const r=ia(n.F);$n(r,"SID",n.J),$n(r,"RID",t),$n(r,"AID",n.U),od(n,r),n.o&&n.s&&Dm(r,n.o,n.s),t=new cp(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=S_(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),__(n.i,t),hp(t,r,e)}function od(n,e){n.j&&Em({},function(t,r){$n(e,r,t)})}function S_(n,e,t){t=Math.min(n.l.length,t);var r=n.j?fi(n.j.Oa,n.j,n):null;e:{var a=n.l;let l=-1;for(;;){const p=["count="+t];-1==l?0<t?(l=a[0].h,p.push("ofs="+l)):l=0:p.push("ofs="+l);let v=!0;for(let w=0;w<t;w++){let x=a[w].h;const L=a[w].g;if(x-=l,0>x)l=Math.max(0,a[w].h-100),v=!1;else try{I_(L,p,"req"+x+"_")}catch(j){r&&r(L)}}if(v){r=p.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function A_(n){n.g||n.u||(n.Y=1,um(n.Ga,n),n.A=0)}function Sm(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=up(fi(n.Ga,n),R_(n,n.A)),n.A++,0))}function Am(n){null!=n.B&&(Ft.clearTimeout(n.B),n.B=null)}function M_(n){n.g=new cp(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ia(n.oa);$n(e,"RID","rpc"),$n(e,"SID",n.J),$n(e,"CI",n.N?"0":"1"),$n(e,"AID",n.U),od(n,e),$n(e,"TYPE","xmlhttp"),n.o&&n.s&&Dm(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=td(ia(e)),t.s=null,t.U=!0,TI(t,n)}function Dp(n){null!=n.v&&(Ft.clearTimeout(n.v),n.v=null)}function x_(n,e){var t=null;if(n.g==e){Dp(n),Am(n),n.g=null;var r=2}else{if(!v_(n.i,e))return;t=e.D,E_(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;Jr(r=hm(),new o_(r,t,e,a)),Th(n)}else A_(n);else if(3==(a=e.o)||0==a&&0<n.I||!(1==r&&function T_(n,e){return!(id(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=up(fi(n.Ha,n,e),R_(n,n.C)),n.C++,0)))}(n,e)||2==r&&Sm(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:Nl(n,5);break;case 4:Nl(n,10);break;case 3:Nl(n,6);break;default:Nl(n,2)}}function R_(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Nl(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=fi(n.jb,n);t||(t=new Ol("//www.google.com/images/cleardot.gif"),Ft.location&&"http"==Ft.location.protocol||pp(t,"https"),td(t)),function w_(n,e){const t=new dm;if(Ft.Image){const r=new Image;r.onload=Jf(Ps,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Jf(Ps,t,r,"TestLoadImage: error",!1,e),r.onabort=Jf(Ps,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Jf(Ps,t,r,"TestLoadImage: timeout",!1,e),Ft.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else $i(2);n.G=0,n.j&&n.j.va(e),O_(n),bm(n)}function O_(n){n.G=0,n.I=-1,n.j&&((0!=kI(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Hv(n.l),n.l.length=0),n.j.ua())}function N_(n,e,t){let r=function d_(n){return n instanceof Ol?ia(n):new Ol(n,void 0)}(t);if(""!=r.i)e&&Im(r,e+"."+r.i),gp(r,r.m);else{const a=Ft.location;r=function h_(n,e,t,r){var a=new Ol(null,void 0);return n&&pp(a,n),e&&Im(a,e),t&&gp(a,t),r&&(a.l=r),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return n.aa&&zv(n.aa,function(a,l){$n(r,l,a)}),t=n.sa,(e=n.D)&&t&&$n(r,e,t),$n(r,"VER",n.ma),od(n,r),r}function P_(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Hr(t&&n.Ba&&!n.qa?new yp({ib:!0}):n.qa)).L=n.H,e}function k_(){}function bp(){if($c&&!(10<=Number(hI)))throw Error("Environmental error: no available transport.")}function ks(n,e){Br.call(this),this.g=new Ip(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!nm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!nm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ad(this)}function F_(n){pm.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function L_(){lp.call(this),this.status=1}function ad(n){this.g=n}(ot=Hr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Jc.g(),this.C=function u_(n){return n.h||(n.h=n.i())}(this.u?this.u:Jc),this.g.onreadystatechange=fi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void VI(this,l)}n=t||"";const a=new ed(this.headers);r&&Em(r,function(l,p){a.set(p,l)}),r=function DT(n){e:{var e=_p;const t=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<t;a++)if(a in r&&e.call(void 0,r[a],a,n)){e=a;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(a.T()),t=Ft.FormData&&n instanceof Ft.FormData,!(0<=oI(SD,e))||r||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(l,p){this.g.setRequestHeader(p,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{b_(this),0<this.B&&((this.K=function C_(n){return $c&&function dI(){return function uI(n){var e=_D;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=mD(String(am)).split("."),t=mD("9").split("."),r=Math.max(e.length,t.length);for(let p=0;0==n&&p<r;p++){var a=e[p]||"",l=t[p]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;n=Xf(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||Xf(0==a[2].length,0==l[2].length)||Xf(a[2],l[2]),a=a[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fi(this.pa,this)):this.A=n_(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){VI(this,l)}},ot.pa=function(){void 0!==Vv&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jr(this,"timeout"),this.abort(8))},ot.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Jr(this,"complete"),Jr(this,"abort"),Ep(this))},ot.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ep(this,!0)),Hr.Z.M.call(this)},ot.Fa=function(){this.s||(this.F||this.v||this.l?UI(this):this.cb())},ot.cb=function(){UI(this)},ot.ba=function(){try{return 2<xo(this)?this.g.status:-1}catch(n){return-1}},ot.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ot.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),FI(e)}},ot.Da=function(){return this.m},ot.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ot=Ip.prototype).ma=8,ot.G=1,ot.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ot.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new cp(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=so(l),aI(l,this.P)):l=this.P),null===this.o&&(a.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=S_(this,a,e),$n(t=ia(this.F),"RID",n),$n(t,"CVER",22),this.D&&$n(t,"X-HTTP-Session-Id",this.D),od(this,t),this.o&&l&&Dm(t,this.o,l),__(this.i,a),this.Ra&&$n(t,"TYPE","init"),this.ja?($n(t,"$req",e),$n(t,"SID","null"),a.$=!0,hp(a,t,null)):hp(a,t,e),this.G=2}}else 3==this.G&&(n?Tm(this,n):0==this.l.length||y_(this.i)||Tm(this))},ot.Ga=function(){if(this.u=null,M_(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=up(fi(this.bb,this),n)}},ot.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,$i(10),bh(this),M_(this))},ot.ab=function(){null!=this.v&&(this.v=null,bh(this),Sm(this),$i(19))},ot.jb=function(n){n?(this.h.info("Successfully pinged google.com"),$i(2)):(this.h.info("Failed to ping google.com"),$i(1))},(ot=k_.prototype).xa=function(){},ot.wa=function(){},ot.va=function(){},ot.ua=function(){},ot.Oa=function(){},bp.prototype.g=function(n,e){return new ks(n,e)},pi(ks,Br),ks.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),um(fi(n.hb,n,e))),$i(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=N_(n,null,n.W),Th(n)},ks.prototype.close=function(){wp(this.g)},ks.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Cp(this.g,e)}else this.v?((e={}).__data__=ap(n),Cp(this.g,e)):Cp(this.g,n)},ks.prototype.M=function(){this.g.j=null,delete this.j,wp(this.g),delete this.g,ks.Z.M.call(this)},pi(F_,pm),pi(L_,lp),pi(ad,k_),ad.prototype.xa=function(){Jr(this.g,"a")},ad.prototype.wa=function(n){Jr(this.g,new F_(n))},ad.prototype.va=function(n){Jr(this.g,new L_(n))},ad.prototype.ua=function(){Jr(this.g,"b")},bp.prototype.createWebChannel=bp.prototype.g,ks.prototype.send=ks.prototype.u,ks.prototype.open=ks.prototype.m,ks.prototype.close=ks.prototype.close,fm.NO_ERROR=0,fm.TIMEOUT=8,fm.HTTP_ERROR=6,CI.COMPLETE="complete",DI.EventType=Eh,Eh.OPEN="a",Eh.CLOSE="b",Eh.ERROR="c",Eh.MESSAGE="d",Br.prototype.listen=Br.prototype.N,Hr.prototype.listenOnce=Hr.prototype.O,Hr.prototype.getLastError=Hr.prototype.La,Hr.prototype.getLastErrorCode=Hr.prototype.Da,Hr.prototype.getStatus=Hr.prototype.ba,Hr.prototype.getResponseJson=Hr.prototype.Qa,Hr.prototype.getResponseText=Hr.prototype.ga,Hr.prototype.send=Hr.prototype.ea;var V_=xs.createWebChannelTransport=function(){return new bp},U_=xs.getStatEventTarget=function(){return hm()},Tp=xs.ErrorCode=fm,j_=xs.EventType=CI,B_=xs.Event=Yc,Mm=xs.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},$_=xs.FetchXmlHttpFactory=yp,Sh=xs.WebChannel=DI,H_=xs.XhrIo=Hr;const xm="@firebase/firestore";class Xr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xr.UNAUTHENTICATED=new Xr(null),Xr.GOOGLE_CREDENTIALS=new Xr("google-credentials-uid"),Xr.FIRST_PARTY=new Xr("first-party-uid"),Xr.MOCK_USER=new Xr("mock-user");let Ro="9.6.7";const Pl=new li.Yd("@firebase/firestore");function G_(){return Pl.logLevel}function qe(n,...e){if(Pl.logLevel<=li.in.DEBUG){const t=e.map(Rm);Pl.debug(`Firestore (${Ro}): ${n}`,...t)}}function gr(n,...e){if(Pl.logLevel<=li.in.ERROR){const t=e.map(Rm);Pl.error(`Firestore (${Ro}): ${n}`,...t)}}function Sp(n,...e){if(Pl.logLevel<=li.in.WARN){const t=e.map(Rm);Pl.warn(`Firestore (${Ro}): ${n}`,...t)}}function Rm(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function yt(n="Unexpected state"){const e=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: `+n;throw gr(e),new Error(e)}function Nt(n,e){n||yt()}function et(n,e){return n}const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends Lt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class $I{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Om{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xr.UNAUTHENTICATED))}shutdown(){}}class Nm{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class yr{constructor(e){this.t=e,this.currentUser=Xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let a=this.i;const l=x=>this.i!==a?(a=this.i,t(x)):Promise.resolve();let p=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new mr,e.enqueueRetryable(()=>l(this.currentUser))};const v=()=>{const x=p;e.enqueueRetryable((0,we.Z)(function*(){yield x.promise,yield l(r.currentUser)}))},w=x=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=x,this.auth.addAuthTokenListener(this.o),v()};this.t.onInit(x=>w(x)),setTimeout(()=>{if(!this.auth){const x=this.t.getImmediate({optional:!0});x?w(x):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new mr)}},0),v()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nt("string"==typeof r.accessToken),new $I(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nt(null===e||"string"==typeof e),new Xr(e)}}class ST{constructor(e,t,r){this.type="FirstParty",this.user=Xr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const a=e.auth.getAuthHeaderValueForFirstParty([]);a&&this.headers.set("Authorization",a),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class HI{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new ST(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Xr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AD{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const p=l.token!==this.p;return this.p=l.token,qe("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?a(l):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Nt("string"==typeof t.token),this.p=t.token,new q_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Fs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function GI(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Fs.A=-1;class z_{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const a=GI(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%e.length))}return r}}function en(n,e){return n<e?-1:n>e?1:0}function Mh(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}function qI(n){return n+"\0"}class vr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ue(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ue(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ue(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vr.fromMillis(Date.now())}static fromDate(e){return vr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new vr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?en(this.nanoseconds,e.nanoseconds):en(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(e){this.timestamp=e}static fromTimestamp(e){return new At(e)}static min(){return new At(new vr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function zI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ud(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ap(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class xh{constructor(e,t,r){void 0===t?t=0:t>e.length&&yt(),void 0===r?r=e.length-t:r>e.length-t&&yt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===xh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=e.get(a),p=t.get(a);if(l<p)return-1;if(l>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class fn extends xh{construct(e,t,r){return new fn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ue(ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new fn(t)}static emptyPath(){return new fn([])}}const WI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gi extends xh{construct(e,t,r){return new gi(e,t,r)}static isValidIdentifier(e){return WI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gi(["__name__"])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(0===r.length)throw new Ue(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let p=!1;for(;a<e.length;){const v=e[a];if("\\"===v){if(a+1===e.length)throw new Ue(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[a+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Ue(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,a+=2}else"`"===v?(p=!p,a++):"."!==v||p?(r+=v,a++):(l(),a++)}if(l(),p)throw new Ue(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gi(t)}static emptyPath(){return new gi([])}}class Va{constructor(e){this.fields=e,e.sort(gi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Mh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ei{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ei(t)}static fromUint8Array(e){const t=function(r){let a="";for(let l=0;l<r.length;++l)a+=String.fromCharCode(r[l]);return a}(e);return new ei(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return en(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ei.EMPTY_BYTE_STRING=new ei("");const xD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kl(n){if(Nt(!!n),"string"==typeof n){let e=0;const t=xD.exec(n);if(Nt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ir(n.seconds),nanos:ir(n.nanos)}}function ir(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Fl(n){return"string"==typeof n?ei.fromBase64String(n):ei.fromUint8Array(n)}function Pm(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function KI(n){const e=n.mapValue.fields.__previous_value__;return Pm(e)?KI(e):e}function Rh(n){const e=kl(n.mapValue.fields.__local_write_time__.timestampValue);return new vr(e.seconds,e.nanos)}class RD{constructor(e,t,r,a,l,p,v,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=p,this.autoDetectLongPolling=v,this.useFetchStreams=w}}class ld{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ld("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ld&&e.projectId===this.projectId&&e.database===this.database}}function Oh(n){return null==n}function km(n){return 0===n&&1/n==-1/0}function OD(n){return"number"==typeof n&&Number.isInteger(n)&&!km(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class at{constructor(e){this.path=e}static fromPath(e){return new at(fn.fromString(e))}static fromName(e){return new at(fn.fromString(e).popFirst(5))}static empty(){return new at(fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return fn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new at(new fn(e.slice()))}}const ZI={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function Ua(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Pm(n)?4:10:yt()}function sa(n,e){if(n===e)return!0;const t=Ua(n);if(t!==Ua(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rh(n).isEqual(Rh(e));case 3:return function(r,a){if("string"==typeof r.timestampValue&&"string"==typeof a.timestampValue&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const l=kl(r.timestampValue),p=kl(a.timestampValue);return l.seconds===p.seconds&&l.nanos===p.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,Fl(n.bytesValue).isEqual(Fl(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,a){return ir(r.geoPointValue.latitude)===ir(a.geoPointValue.latitude)&&ir(r.geoPointValue.longitude)===ir(a.geoPointValue.longitude)}(n,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return ir(r.integerValue)===ir(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const l=ir(r.doubleValue),p=ir(a.doubleValue);return l===p?km(l)===km(p):isNaN(l)&&isNaN(p)}return!1}(n,e);case 9:return Mh(n.arrayValue.values||[],e.arrayValue.values||[],sa);case 10:return function(r,a){const l=r.mapValue.fields||{},p=a.mapValue.fields||{};if(zI(l)!==zI(p))return!1;for(const v in l)if(l.hasOwnProperty(v)&&(void 0===p[v]||!sa(l[v],p[v])))return!1;return!0}(n,e);default:return yt()}var a}function xp(n,e){return void 0!==(n.values||[]).find(t=>sa(t,e))}function cd(n,e){if(n===e)return 0;const t=Ua(n),r=Ua(e);if(t!==r)return en(t,r);switch(t){case 0:return 0;case 1:return en(n.booleanValue,e.booleanValue);case 2:return function(a,l){const p=ir(a.integerValue||a.doubleValue),v=ir(l.integerValue||l.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1}(n,e);case 3:return Nh(n.timestampValue,e.timestampValue);case 4:return Nh(Rh(n),Rh(e));case 5:return en(n.stringValue,e.stringValue);case 6:return function(a,l){const p=Fl(a),v=Fl(l);return p.compareTo(v)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const p=a.split("/"),v=l.split("/");for(let w=0;w<p.length&&w<v.length;w++){const x=en(p[w],v[w]);if(0!==x)return x}return en(p.length,v.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const p=en(ir(a.latitude),ir(l.latitude));return 0!==p?p:en(ir(a.longitude),ir(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,l){const p=a.values||[],v=l.values||[];for(let w=0;w<p.length&&w<v.length;++w){const x=cd(p[w],v[w]);if(x)return x}return en(p.length,v.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,l){const p=a.fields||{},v=Object.keys(p),w=l.fields||{},x=Object.keys(w);v.sort(),x.sort();for(let L=0;L<v.length&&L<x.length;++L){const j=en(v[L],x[L]);if(0!==j)return j;const J=cd(p[v[L]],w[x[L]]);if(0!==J)return J}return en(v.length,x.length)}(n.mapValue,e.mapValue);default:throw yt()}}function Nh(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return en(n,e);const t=kl(n),r=kl(e),a=en(t.seconds,r.seconds);return 0!==a?a:en(t.nanos,r.nanos)}function Ph(n){return W_(n)}function W_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const a=kl(r);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Fl(n.bytesValue).toBase64():"referenceValue"in n?at.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let a="[",l=!0;for(const p of r.values||[])l?l=!1:a+=",",a+=W_(p);return a+"]"}(n.arrayValue):"mapValue"in n?function(r){const a=Object.keys(r.fields||{}).sort();let l="{",p=!0;for(const v of a)p?p=!1:l+=",",l+=`${v}:${W_(r.fields[v])}`;return l+"}"}(n.mapValue):yt();var e}function Fm(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function K_(n){return!!n&&"integerValue"in n}function Lm(n){return!!n&&"arrayValue"in n}function Z_(n){return!!n&&"nullValue"in n}function QI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vm(n){return!!n&&"mapValue"in n}function ja(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ud(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ja(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ja(n.arrayValue.values[t]);return e}return Object.assign({},n)}class Hi{constructor(e){this.value=e}static empty(){return new Hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Vm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ja(t)}setAll(e){let t=gi.emptyPath(),r={},a=[];e.forEach((p,v)=>{if(!t.isImmediateParentOf(v)){const w=this.getFieldsMap(t);this.applyChanges(w,r,a),r={},a=[],t=v.popLast()}p?r[v.lastSegment()]=ja(p):a.push(v.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());Vm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return sa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Vm(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){ud(t,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new Hi(ja(this.value))}}function Q_(n){const e=[];return ud(n.fields,(t,r)=>{const a=new gi([t]);if(Vm(r)){const l=Q_(r.mapValue).fields;if(0===l.length)e.push(a);else for(const p of l)e.push(a.child(p))}else e.push(a)}),new Va(e)}class sr{constructor(e,t,r,a,l,p){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.data=l,this.documentState=p}static newInvalidDocument(e){return new sr(e,0,At.min(),At.min(),Hi.empty(),0)}static newFoundDocument(e,t,r){return new sr(e,1,t,At.min(),r,0)}static newNoDocument(e,t){return new sr(e,2,t,At.min(),Hi.empty(),0)}static newUnknownDocument(e,t){return new sr(e,3,t,At.min(),Hi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof sr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}let Um=(()=>{class n{constructor(t,r,a,l){this.indexId=t,this.collectionGroup=r,this.fields=a,this.indexState=l}}return n.UNKNOWN_ID=-1,n})();class jm{constructor(e,t){this.fieldPath=e,this.kind=t}}class kh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new kh(0,Bm.min())}}class Bm{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Bm(At.min(),at.empty(),-1)}}class Y_{constructor(e,t=null,r=[],a=[],l=null,p=null,v=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=p,this.endAt=v,this.P=null}}function YI(n,e=null,t=[],r=[],a=null,l=null,p=null){return new Y_(n,e,t,r,a,l,p)}function Fh(n){const e=et(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(a=r).field.canonicalString()+a.op.toString()+Ph(a.value);var a}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(a=r).field.canonicalString()+a.dir;var a}).join(","),Oh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ph(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ph(r)).join(",")),e.P=t}return e.P}function $m(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!VD(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(r=e.filters[a]).op||!t.field.isEqual(r.field)||!sa(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qm(n.startAt,e.startAt)&&qm(n.endAt,e.endAt)}function Hm(n){return at.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class os extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,r):new J_(e,t,r):"array-contains"===t?new PD(e,r):"in"===t?new kD(e,r):"not-in"===t?new FD(e,r):"array-contains-any"===t?new LD(e,r):new os(e,t,r)}static v(e,t,r){return"in"===t?new ND(e,r):new XI(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(cd(t,this.value)):null!==t&&Ua(this.value)===Ua(t)&&this.V(cd(t,this.value))}V(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class J_ extends os{constructor(e,t,r){super(e,t,r),this.key=at.fromName(r.referenceValue)}matches(e){const t=at.comparator(e.key,this.key);return this.V(t)}}class ND extends os{constructor(e,t){super(e,"in",t),this.keys=ew(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class XI extends os{constructor(e,t){super(e,"not-in",t),this.keys=ew(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ew(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>at.fromName(r.referenceValue))}class PD extends os{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Lm(t)&&xp(t.arrayValue,this.value)}}class kD extends os{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xp(this.value.arrayValue,t)}}class FD extends os{constructor(e,t){super(e,"not-in",t)}matches(e){if(xp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!xp(this.value.arrayValue,t)}}class LD extends os{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Lm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>xp(this.value.arrayValue,r))}}class Lh{constructor(e,t){this.position=e,this.inclusive=t}}class Vh{constructor(e,t="asc"){this.field=e,this.dir=t}}function VD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Gm(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],p=n.position[a];if(r=l.field.isKeyField()?at.comparator(at.fromName(p.referenceValue),t.key):cd(p,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function qm(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!sa(n.position[t],e.position[t]))return!1;return!0}class Ba{constructor(e,t=null,r=[],a=[],l=null,p="F",v=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=p,this.startAt=v,this.endAt=w,this.D=null,this.C=null}}function X_(n,e,t,r,a,l,p,v){return new Ba(n,e,t,r,a,l,p,v)}function Ll(n){return new Ba(n)}function Rp(n){return!Oh(n.limit)&&"F"===n.limitType}function Op(n){return!Oh(n.limit)&&"L"===n.limitType}function eE(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Np(n){for(const e of n.filters)if(e.S())return e.field;return null}function Pp(n){return null!==n.collectionGroup}function dd(n){const e=et(n);if(null===e.D){e.D=[];const t=Np(e),r=eE(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Vh(t)),e.D.push(new Vh(gi.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Vh(gi.keyField(),l))}}}return e.D}function Ls(n){const e=et(n);if(!e.C)if("F"===e.limitType)e.C=YI(e.path,e.collectionGroup,dd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of dd(e))t.push(new Vh(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Lh(e.endAt.position,!e.endAt.inclusive):null,a=e.startAt?new Lh(e.startAt.position,!e.startAt.inclusive):null;e.C=YI(e.path,e.collectionGroup,t,e.filters,e.limit,r,a)}return e.C}function tw(n,e,t){return new Ba(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kp(n,e){return $m(Ls(n),Ls(e))&&n.limitType===e.limitType}function zm(n){return`${Fh(Ls(n))}|lt:${n.limitType}`}function tE(n){return`Query(target=${function JI(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Ph(r.value)}`;var r}).join(", ")}]`),Oh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Ph(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Ph(t)).join(",")),`Target(${e})`}(Ls(n))}; limitType=${n.limitType})`}function Wm(n,e){return e.isFoundDocument()&&function(t,r){const a=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):at.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,r){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===r.data.field(a.field))return!1;return!0}(n,e)&&function(t,r){for(const a of t.filters)if(!a.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(a,l,p){const v=Gm(a,l,p);return a.inclusive?v<=0:v<0}(t.startAt,dd(t),r)||t.endAt&&!function(a,l,p){const v=Gm(a,l,p);return a.inclusive?v>=0:v>0}(t.endAt,dd(t),r)));var t,r}function nE(n){return(e,t)=>{let r=!1;for(const a of dd(n)){const l=Km(a,e,t);if(0!==l)return l;r=r||a.field.isKeyField()}return 0}}function Km(n,e,t){const r=n.field.isKeyField()?at.comparator(e.key,t.key):function(a,l,p){const v=l.data.field(a),w=p.data.field(a);return null!==v&&null!==w?cd(v,w):yt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return yt()}}function nw(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:km(e)?"-0":e}}function rE(n){return{integerValue:""+n}}function UD(n,e){return OD(e)?rE(e):nw(n,e)}class Zm{constructor(){this._=void 0}}function Fp(n,e,t){return n instanceof $a?function(r,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):n instanceof fd?BD(n,e):n instanceof Vl?rw(n,e):function(r,a){const l=hd(r,a),p=iw(l)+iw(r.k);return K_(l)&&K_(r.k)?rE(p):nw(r.O,p)}(n,e)}function jD(n,e,t){return n instanceof fd?BD(n,e):n instanceof Vl?rw(n,e):t}function hd(n,e){return n instanceof Uh?K_(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class $a extends Zm{}class fd extends Zm{constructor(e){super(),this.elements=e}}function BD(n,e){const t=iE(e);for(const r of n.elements)t.some(a=>sa(a,r))||t.push(r);return{arrayValue:{values:t}}}class Vl extends Zm{constructor(e){super(),this.elements=e}}function rw(n,e){let t=iE(e);for(const r of n.elements)t=t.filter(a=>!sa(a,r));return{arrayValue:{values:t}}}class Uh extends Zm{constructor(e,t){super(),this.O=e,this.k=t}}function iw(n){return ir(n.integerValue||n.doubleValue)}function iE(n){return Lm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class jh{constructor(e,t){this.field=e,this.transform=t}}class Qm{constructor(e,t){this.version=e,this.transformResults=t}}class or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ou(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Ym{}function ow(n,e,t){n instanceof Ul?function(r,a,l){const p=r.value.clone(),v=sE(r.fieldTransforms,a,l.transformResults);p.setAll(v),a.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,e,t):n instanceof pd?function(r,a,l){if(!Ou(r.precondition,a))return void a.convertToUnknownDocument(l.version);const p=sE(r.fieldTransforms,a,l.transformResults),v=a.data;v.setAll(HD(r)),v.setAll(p),a.convertToFoundDocument(l.version,v).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Jm(n,e,t){var a;n instanceof Ul?function(r,a,l){if(!Ou(r.precondition,a))return;const p=r.value.clone(),v=oE(r.fieldTransforms,l,a);p.setAll(v),a.convertToFoundDocument(uw(a),p).setHasLocalMutations()}(n,e,t):n instanceof pd?function(r,a,l){if(!Ou(r.precondition,a))return;const p=oE(r.fieldTransforms,l,a),v=a.data;v.setAll(HD(r)),v.setAll(p),a.convertToFoundDocument(uw(a),v).setHasLocalMutations()}(n,e,t):Ou(n.precondition,a=e)&&a.convertToNoDocument(At.min())}function $D(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=hd(r.transform,a||null);null!=l&&(null==t&&(t=Hi.empty()),t.set(r.field,l))}return t||null}function aw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Mh(t,r,(a,l)=>function sw(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof fd&&r instanceof fd||t instanceof Vl&&r instanceof Vl?Mh(t.elements,r.elements,sa):t instanceof Uh&&r instanceof Uh?sa(t.k,r.k):t instanceof $a&&r instanceof $a);var t,r}(a,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function uw(n){return n.isFoundDocument()?n.version:At.min()}class Ul extends Ym{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}}class pd extends Ym{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}}function HD(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function sE(n,e,t){const r=new Map;Nt(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],p=l.transform,v=e.data.field(l.field);r.set(l.field,jD(p,v,t[a]))}return r}function oE(n,e,t){const r=new Map;for(const a of n){const l=a.transform,p=t.data.field(a.field);r.set(a.field,Fp(l,p,e))}return r}class Ha extends Ym{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Xm extends Ym{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Bh{constructor(e){this.count=e}}var ti,sn;function aE(n){switch(n){default:return yt();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0}}function GD(n){if(void 0===n)return gr("GRPC error has no .code"),ve.UNKNOWN;switch(n){case ti.OK:return ve.OK;case ti.CANCELLED:return ve.CANCELLED;case ti.UNKNOWN:return ve.UNKNOWN;case ti.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case ti.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case ti.INTERNAL:return ve.INTERNAL;case ti.UNAVAILABLE:return ve.UNAVAILABLE;case ti.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case ti.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case ti.NOT_FOUND:return ve.NOT_FOUND;case ti.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case ti.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case ti.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case ti.ABORTED:return ve.ABORTED;case ti.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case ti.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case ti.DATA_LOSS:return ve.DATA_LOSS;default:return yt()}}(sn=ti||(ti={}))[sn.OK=0]="OK",sn[sn.CANCELLED=1]="CANCELLED",sn[sn.UNKNOWN=2]="UNKNOWN",sn[sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sn[sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sn[sn.NOT_FOUND=5]="NOT_FOUND",sn[sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",sn[sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",sn[sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",sn[sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sn[sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sn[sn.ABORTED=10]="ABORTED",sn[sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",sn[sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",sn[sn.INTERNAL=13]="INTERNAL",sn[sn.UNAVAILABLE=14]="UNAVAILABLE",sn[sn.DATA_LOSS=15]="DATA_LOSS";class _r{constructor(e,t){this.comparator=e,this.root=t||ni.EMPTY}insert(e,t){return new _r(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ni.BLACK,null,null))}remove(e){return new _r(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ni.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ey(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ey(this.root,e,this.comparator,!1)}getReverseIterator(){return new ey(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ey(this.root,e,this.comparator,!0)}}class ey{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ni{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=null!=r?r:ni.RED,this.left=null!=a?a:ni.EMPTY,this.right=null!=l?l:ni.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new ni(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=a?a:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ni.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return ni.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ni.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ni.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)}}ni.EMPTY=null,ni.RED=!0,ni.BLACK=!1,ni.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(n,e,t,r,a){return this}insert(n,e,t){return new ni(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pn{constructor(e){this.comparator=e,this.data=new _r(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new uE(this.data.getIterator())}getIteratorFrom(e){return new uE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Pn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Pn(this.comparator);return t.data=e,t}}class uE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function gd(n){return n.hasNext()?n.getNext():void 0}const lw=new _r(at.comparator);function oo(){return lw}const cw=new _r(at.comparator);function ty(){return cw}const dw=new _r(at.comparator),hw=new Pn(at.comparator);function wn(...n){let e=hw;for(const t of n)e=e.add(t);return e}const fw=new Pn(en);function jl(){return fw}class $h{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Hh.createSynthesizedTargetChangeForCurrentChange(e,t)),new $h(At.min(),r,jl(),oo(),wn())}}class Hh{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Hh(ei.EMPTY_BYTE_STRING,t,wn(),wn(),wn())}}class Lp{constructor(e,t,r,a){this.M=e,this.removedTargetIds=t,this.key=r,this.$=a}}class lE{constructor(e,t){this.targetId=e,this.F=t}}class cE{constructor(e,t,r=ei.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class dE{constructor(){this.B=0,this.L=fE(),this.U=ei.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=wn(),t=wn(),r=wn();return this.L.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:yt()}}),new Hh(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=fE()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class qD{constructor(e){this.nt=e,this.st=new Map,this.it=oo(),this.rt=hE(),this.ot=new Pn(en)}ct(e){for(const t of e.M)e.$&&e.$.isFoundDocument()?this.ut(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:yt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,a)=>{this.ft(a)&&t(a)})}_t(e){const t=e.targetId,r=e.F.count,a=this.wt(t);if(a){const l=a.target;if(Hm(l))if(0===r){const p=new at(l.path);this.at(t,p,sr.newNoDocument(p,At.min()))}else Nt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,p)=>{const v=this.wt(p);if(v){if(l.current&&Hm(v.target)){const w=new at(v.target.path);null!==this.it.get(w)||this.It(p,w)||this.at(p,w,sr.newNoDocument(w,e))}l.j&&(t.set(p,l.H()),l.J())}});let r=wn();this.rt.forEach((l,p)=>{let v=!0;p.forEachWhile(w=>{const x=this.wt(w);return!x||2===x.purpose||(v=!1,!1)}),v&&(r=r.add(l))}),this.it.forEach((l,p)=>p.setReadTime(e));const a=new $h(e,t,this.ot,this.it,r);return this.it=oo(),this.rt=hE(),this.ot=new Pn(en),a}ut(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}at(e,t,r){if(!this.ft(e))return;const a=this.lt(e);this.It(e,t)?a.Y(t,1):a.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new dE,this.st.set(e,t)),t}Et(e){let t=this.rt.get(e);return t||(t=new Pn(en),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||qe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}dt(e){this.st.set(e,new dE),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function hE(){return new _r(at.comparator)}function fE(){return new _r(at.comparator)}const pw={asc:"ASCENDING",desc:"DESCENDING"},gw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class mw{constructor(e,t){this.databaseId=e,this.N=t}}function Nu(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yw(n,e){return n.N?e.toBase64():e.toUint8Array()}function pE(n,e){return Nu(n,e.toTimestamp())}function kn(n){return Nt(!!n),At.fromTimestamp(function(e){const t=kl(e);return new vr(t.seconds,t.nanos)}(n))}function gE(n,e){return(t=n,new fn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Vp(n){const e=fn.fromString(n);return Nt(iy(e)),e}function Pu(n,e){return gE(n.databaseId,e.path)}function Ga(n,e){const t=Vp(e);if(t.get(1)!==n.databaseId.projectId)throw new Ue(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ue(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new at(Up(t))}function mE(n,e){return gE(n.databaseId,e)}function vw(n){const e=Vp(n);return 4===e.length?fn.emptyPath():Up(e)}function Bl(n){return new fn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Up(n){return Nt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function _w(n,e,t){return{name:Pu(n,e),fields:t.value.mapValue.fields}}function Ew(n,e,t){const r=Ga(n,e.name),a=kn(e.updateTime),l=new Hi({mapValue:{fields:e.fields}}),p=sr.newFoundDocument(r,a,l);return t&&p.setHasCommittedMutations(),t?p.setHasCommittedMutations():p}function md(n,e){let t;if(e instanceof Ul)t={update:_w(n,e.key,e.value)};else if(e instanceof Ha)t={delete:Pu(n,e.key)};else if(e instanceof pd)t={update:_w(n,e.key,e.data),updateMask:Dw(e.fieldMask)};else{if(!(e instanceof Xm))return yt();t={verify:Pu(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const p=l.transform;if(p instanceof $a)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof fd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Vl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Uh)return{fieldPath:l.field.canonicalString(),increment:p.k};throw yt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:pE(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:yt()),t;var a}function ny(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?or.updateTime(kn(a.updateTime)):void 0!==a.exists?or.exists(a.exists):or.none():or.none(),r=e.updateTransforms?e.updateTransforms.map(a=>function(l,p){let v=null;"setToServerValue"in p?(Nt("REQUEST_TIME"===p.setToServerValue),v=new $a):"appendMissingElements"in p?v=new fd(p.appendMissingElements.values||[]):"removeAllFromArray"in p?v=new Vl(p.removeAllFromArray.values||[]):"increment"in p?v=new Uh(l,p.increment):yt();const w=gi.fromServerFormat(p.fieldPath);return new jh(w,v)}(n,a)):[];var a;if(e.update){const a=Ga(n,e.update.name),l=new Hi({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new Va((e.updateMask.fieldPaths||[]).map(x=>gi.fromServerFormat(x)));return new pd(a,l,p,t,r)}return new Ul(a,l,t,r)}if(e.delete){const a=Ga(n,e.delete);return new Ha(a,t)}if(e.verify){const a=Ga(n,e.verify);return new Xm(a,t)}return yt()}function Cw(n,e){return{documents:[mE(n,e.path)]}}function WD(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=mE(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=mE(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const a=function(w){if(0===w.length)return;const x=w.map(L=>function(j){if("=="===j.op){if(QI(j.value))return{unaryFilter:{field:Gh(j.field),op:"IS_NAN"}};if(Z_(j.value))return{unaryFilter:{field:Gh(j.field),op:"IS_NULL"}}}else if("!="===j.op){if(QI(j.value))return{unaryFilter:{field:Gh(j.field),op:"IS_NOT_NAN"}};if(Z_(j.value))return{unaryFilter:{field:Gh(j.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gh(j.field),op:EE(j.op),value:j.value}}}(L));return 1===x.length?x[0]:{compositeFilter:{op:"AND",filters:x}}}(e.filters);a&&(t.structuredQuery.where=a);const l=function(w){if(0!==w.length)return w.map(x=>{return{field:Gh((L=x).field),direction:_E(L.dir)};var L})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const p=(x=e.limit,n.N||Oh(x)?x:{value:x});var x,v,w;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt={before:(v=e.startAt).inclusive,values:v.position}),e.endAt&&(t.structuredQuery.endAt={before:!(w=e.endAt).inclusive,values:w.position}),t}function ry(n){let e=vw(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Nt(1===r);const L=t.from[0];L.allDescendants?a=L.collectionId:e=e.child(L.collectionId)}let l=[];t.where&&(l=vE(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(L=>{return new Vh(qh((j=L).field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction));var j}));let v=null;t.limit&&(v=function(L){let j;return j="object"==typeof L?L.value:L,Oh(j)?null:j}(t.limit));let w=null;var L;t.startAt&&(w=new Lh((L=t.startAt).values||[],!!L.before));let x=null;return t.endAt&&(x=function(L){return new Lh(L.values||[],!L.before)}(t.endAt)),X_(e,a,p,l,v,"F",w,x)}function vE(n){return n?void 0!==n.unaryFilter?[ZD(n)]:void 0!==n.fieldFilter?[KD(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>vE(e)).reduce((e,t)=>e.concat(t)):yt():[]}function _E(n){return pw[n]}function EE(n){return gw[n]}function Gh(n){return{fieldPath:n.canonicalString()}}function qh(n){return gi.fromServerFormat(n.fieldPath)}function KD(n){return os.create(qh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(n.fieldFilter.op),n.fieldFilter.value)}function ZD(n){switch(n.unaryFilter.op){case"IS_NAN":const e=qh(n.unaryFilter.field);return os.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=qh(n.unaryFilter.field);return os.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=qh(n.unaryFilter.field);return os.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=qh(n.unaryFilter.field);return os.create(a,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}function Dw(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function iy(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ri(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=IE(e)),e=bw(n.get(t),e);return IE(e)}function bw(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function IE(n){return n+"\x01\x01"}function oa(n){const e=n.length;if(Nt(e>=2),2===e)return Nt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),fn.emptyPath();const t=e-2,r=[];let a="";for(let l=0;l<e;){const p=n.indexOf("\x01",l);switch((p<0||p>t)&&yt(),n.charAt(p+1)){case"\x01":const v=n.substring(l,p);let w;0===a.length?w=v:(a+=v,w=a,a=""),r.push(w);break;case"\x10":a+=n.substring(l,p),a+="\0";break;case"\x11":a+=n.substring(l,p+1);break;default:yt()}l=p+2}return new fn(r)}class QD{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Vs{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}Vs.store="owner",Vs.key="owner";class ku{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}ku.store="mutationQueues",ku.keyPath="userId";class Qn{constructor(e,t,r,a,l){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=a,this.mutations=l}}Qn.store="mutations",Qn.keyPath="batchId",Qn.userMutationsIndex="userMutationsIndex",Qn.userMutationsKeyPath=["userId","batchId"];class Mi{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,ri(t)]}static key(e,t,r){return[e,ri(t),r]}}Mi.store="documentMutations",Mi.PLACEHOLDER=new Mi;class Tw{constructor(e,t){this.path=e,this.readTime=t}}class as{constructor(e,t){this.path=e,this.version=t}}class Fn{constructor(e,t,r,a,l,p){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=a,this.readTime=l,this.parentPath=p}}Fn.store="remoteDocuments",Fn.readTimeIndex="readTimeIndex",Fn.readTimeIndexPath="readTime",Fn.collectionReadTimeIndex="collectionReadTimeIndex",Fn.collectionReadTimeIndexPath=["parentPath","readTime"];class qa{constructor(e){this.byteSize=e}}qa.store="remoteDocumentGlobal",qa.key="remoteDocumentGlobalKey";class Us{constructor(e,t,r,a,l,p,v){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=a,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=p,this.query=v}}Us.store="targets",Us.keyPath="targetId",Us.queryTargetsIndexName="queryTargetsIndex",Us.queryTargetsKeyPath=["canonicalId","targetId"];class xi{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}xi.store="targetDocuments",xi.keyPath=["targetId","path"],xi.documentTargetsIndex="documentTargetsIndex",xi.documentTargetsKeyPath=["path","targetId"];class Ri{constructor(e,t,r,a){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=a}}Ri.key="targetGlobalKey",Ri.store="targetGlobal";class yd{constructor(e,t){this.collectionId=e,this.parent=t}}yd.store="collectionParents",yd.keyPath=["collectionId","parent"];class aa{constructor(e,t,r,a){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=a}}aa.store="clientMetadata",aa.keyPath="clientId";class vd{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}vd.store="bundles",vd.keyPath="bundleId";class _d{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}_d.store="namedQueries",_d.keyPath="name";class js{constructor(e,t,r){this.indexId=e,this.collectionGroup=t,this.fields=r}}js.store="indexConfiguration",js.keyPath="indexId",js.collectionGroupIndex="collectionGroupIndex",js.collectionGroupIndexPath="collectionGroup";class ao{constructor(e,t,r,a,l,p){this.indexId=e,this.uid=t,this.sequenceNumber=r,this.readTime=a,this.documentKey=l,this.largestBatchId=p}}ao.store="indexState",ao.keyPath=["indexId","uid"],ao.sequenceNumberIndex="sequenceNumberIndex",ao.sequenceNumberIndexPath=["uid","sequenceNumber"];class Bs{constructor(e,t,r,a,l){this.indexId=e,this.uid=t,this.arrayValue=r,this.directionalValue=a,this.documentKey=l}}Bs.store="indexEntries",Bs.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],Bs.documentKeyIndex="documentKeyIndex",Bs.documentKeyIndexPath=["indexId","uid","documentKey"];class ii{constructor(e,t,r,a,l,p){this.userId=e,this.collectionPath=t,this.documentId=r,this.collectionGroup=a,this.largestBatchId=l,this.overlayMutation=p}}ii.store="documentOverlays",ii.keyPath=["userId","collectionPath","documentId"],ii.collectionPathOverlayIndex="collectionPathOverlayIndex",ii.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],ii.collectionGroupOverlayIndex="collectionGroupOverlayIndex",ii.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];const wE=[ku.store,Qn.store,Mi.store,Fn.store,Us.store,Vs.store,Ri.store,xi.store,aa.store,qa.store,yd.store,vd.store,_d.store],jp=[...wE,ii.store],CE=[...jp,js.store,ao.store,Bs.store],Sw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ce((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ce?t:Ce.resolve(t)}catch(t){return Ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.reject(t)}static resolve(e){return new Ce((t,r)=>{t(e)})}static reject(e){return new Ce((t,r)=>{r(e)})}static waitFor(e){return new Ce((t,r)=>{let a=0,l=0,p=!1;e.forEach(v=>{++a,v.next(()=>{++l,p&&l===a&&t()},w=>r(w))}),p=!0,l===a&&t()})}static or(e){let t=Ce.resolve(!1);for(const r of e)t=t.next(a=>a?Ce.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,l)=>{r.push(t.call(this,a,l))}),this.waitFor(r)}}class zh{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new mr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Bp(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const a=$p(r.target.error);this.At.reject(new Bp(e,a))}}static open(e,t,r,a){try{return new zh(t,e.transaction(a,r))}catch(l){throw new Bp(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(qe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new bE(t)}}class us{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===us.vt((0,Lt.z$)())&&gr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return qe("SimpleDb","Removing database:",e),$l(window.indexedDB.deleteDatabase(e)).toPromise()}static Vt(){if(!(0,Lt.hl)())return!1;if(us.St())return!0;const e=(0,Lt.z$)(),t=us.vt(e),r=0<t&&t<10,a=us.Dt(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static Nt(e,t){return e.store(t)}static vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}xt(e){var t=this;return(0,we.Z)(function*(){return t.db||(qe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,a)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=p=>{r(p.target.result)},l.onblocked=()=>{a(new Bp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=p=>{const v=p.target.error;a("VersionError"===v.name?new Ue(ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===v.name?new Ue(ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+v):new Bp(e,v))},l.onupgradeneeded=p=>{qe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',p.oldVersion),t.bt.kt(p.target.result,l.transaction,p.oldVersion,t.version).next(()=>{qe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Ot&&(t.db.onversionchange=r=>t.Ot(r)),t.db})()}Mt(e){this.Ot=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,a){var l=this;return(0,we.Z)(function*(){const p="readonly"===t;let v=0;for(;;){++v;try{l.db=yield l.xt(e);const w=zh.open(l.db,e,p?"readonly":"readwrite",r),x=a(w).next(L=>(w.Pt(),L)).catch(L=>(w.abort(L),Ce.reject(L))).toPromise();return x.catch(()=>{}),yield w.Rt,x}catch(w){const x="FirebaseError"!==w.name&&v<3;if(qe("SimpleDb","Transaction failed with error:",w.message,"Retrying:",x),l.close(),!x)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Aw{constructor(e){this.$t=e,this.Ft=!1,this.Bt=null}get isDone(){return this.Ft}get Lt(){return this.Bt}set cursor(e){this.$t=e}done(){this.Ft=!0}Ut(e){this.Bt=e}delete(){return $l(this.$t.delete())}}class Bp extends Ue{constructor(e,t){super(ve.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Fu(n){return"IndexedDbTransactionError"===n.name}class bE{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(qe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(qe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),$l(r)}add(e){return qe("SimpleDb","ADD",this.store.name,e,e),$l(this.store.add(e))}get(e){return $l(this.store.get(e)).next(t=>(void 0===t&&(t=null),qe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return qe("SimpleDb","DELETE",this.store.name,e),$l(this.store.delete(e))}count(){return qe("SimpleDb","COUNT",this.store.name),$l(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const a=this.cursor(r),l=[];return this.Kt(a,(p,v)=>{l.push(v)}).next(()=>l)}{const a=this.store.getAll(r.range);return new Ce((l,p)=>{a.onerror=v=>{p(v.target.error)},a.onsuccess=v=>{l(v.target.result)}})}}Gt(e,t){qe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const a=this.cursor(r);return this.Kt(a,(l,p,v)=>v.delete())}Qt(e,t){let r;t?r=e:(r={},t=e);const a=this.cursor(r);return this.Kt(a,t)}Wt(e){const t=this.cursor({});return new Ce((r,a)=>{t.onerror=l=>{const p=$p(l.target.error);a(p)},t.onsuccess=l=>{const p=l.target.result;p?e(p.primaryKey,p.value).next(v=>{v?p.continue():r()}):r()}})}Kt(e,t){const r=[];return new Ce((a,l)=>{e.onerror=p=>{l(p.target.error)},e.onsuccess=p=>{const v=p.target.result;if(!v)return void a();const w=new Aw(v),x=t(v.primaryKey,v.value,w);if(x instanceof Ce){const L=x.catch(j=>(w.done(),Ce.reject(j)));r.push(L)}w.isDone?a():null===w.Lt?v.continue():v.continue(w.Lt)}}).next(()=>Ce.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function $l(n){return new Ce((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const a=$p(r.target.error);t(a)}})}let Mw=!1;function $p(n){const e=us.vt((0,Lt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Mw||(Mw=!0,setTimeout(()=>{throw r},0)),r}}return n}class TE extends DE{constructor(e,t){super(),this.zt=e,this.currentSequenceNumber=t}}function si(n,e){const t=et(n);return us.Nt(t.zt,e)}class SE{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&ow(l,e,r[a])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Jm(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Jm(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),a=r;this.applyToLocalView(a),r.isValidDocument()||a.convertToNoDocument(At.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),wn())}isEqual(e){return this.batchId===e.batchId&&Mh(this.mutations,e.mutations,(t,r)=>aw(t,r))&&Mh(this.baseMutations,e.baseMutations,(t,r)=>aw(t,r))}}class sy{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Nt(e.mutations.length===r.length);let a=dw;const l=e.mutations;for(let p=0;p<l.length;p++)a=a.insert(l[p].key,r[p].version);return new sy(e,t,r,a)}}class oy{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Hl{constructor(e,t,r,a,l=At.min(),p=At.min(),v=ei.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=v}withSequenceNumber(e){return new Hl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Hl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Hl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class xw{constructor(e){this.Ht=e}}function AE(n,e){let t;if(e.document)t=Ew(n.Ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=at.fromSegments(e.noDocument.path),a=ql(e.noDocument.readTime);t=sr.newNoDocument(r,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return yt();{const r=at.fromSegments(e.unknownDocument.path),a=ql(e.unknownDocument.version);t=sr.newUnknownDocument(r,a)}}return e.readTime&&t.setReadTime(uy(e.readTime)),t}function Rw(n,e){const t=ay(e.readTime),r=e.key.path.popLast().toArray();if(e.isFoundDocument()){const a={name:Pu(p=n.Ht,(v=e).key),fields:v.data.value.mapValue.fields,updateTime:Nu(p,v.version.toTimestamp())};return new Fn(null,null,a,e.hasCommittedMutations,t,r)}var p,v;if(e.isNoDocument()){const a=e.key.path.toArray(),l=Gl(e.version),p=e.hasCommittedMutations;return new Fn(null,new Tw(a,l),null,p,t,r)}if(e.isUnknownDocument()){const a=e.key.path.toArray(),l=Gl(e.version);return new Fn(new as(a,l),null,null,!0,t,r)}return yt()}function ay(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function uy(n){const e=new vr(n[0],n[1]);return At.fromTimestamp(e)}function Gl(n){const e=n.toTimestamp();return new QD(e.seconds,e.nanoseconds)}function ql(n){const e=new vr(n.seconds,n.nanoseconds);return At.fromTimestamp(e)}function Wh(n,e){const t=(e.baseMutations||[]).map(l=>ny(n.Ht,l));for(let l=0;l<e.mutations.length-1;++l){const p=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(p.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>ny(n.Ht,l)),a=vr.fromMillis(e.localWriteTimeMs);return new SE(e.batchId,a,t,r)}function Hp(n){const e=ql(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ql(n.lastLimboFreeSnapshotVersion):At.min();let r;var a;return void 0!==n.query.documents?(Nt(1===(a=n.query).documents.length),r=Ls(Ll(vw(a.documents[0])))):r=Ls(ry(n.query)),new Hl(r,n.targetId,0,n.lastListenSequenceNumber,e,t,ei.fromBase64String(n.resumeToken))}function ME(n,e){const t=Gl(e.snapshotVersion),r=Gl(e.lastLimboFreeSnapshotVersion);let a;a=Hm(e.target)?Cw(n.Ht,e.target):WD(n.Ht,e.target);const l=e.resumeToken.toBase64();return new Us(e.targetId,Fh(e.target),t,l,e.sequenceNumber,r,a)}function ly(n){const e=ry({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?tw(e,e.limit,"L"):e}function cy(n,e){return new oy(e.largestBatchId,ny(n.Ht,e.overlayMutation))}function Ow(n,e){const t=e.path.lastSegment();return[n,ri(e.path.popLast()),t]}class YD{getBundleMetadata(e,t){return Nw(e).get(t).next(r=>{if(r)return{id:(a=r).bundleId,createTime:ql(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Nw(e).put({bundleId:(r=t).id,createTime:Gl(kn(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Pw(e).get(t).next(r=>{if(r)return{name:(a=r).name,query:ly(a.bundledQuery),readTime:ql(a.readTime)};var a})}saveNamedQuery(e,t){return Pw(e).put({name:(r=t).name,readTime:Gl(kn(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Nw(n){return si(n,vd.store)}function Pw(n){return si(n,_d.store)}class xE{constructor(e,t){this.O=e,this.userId=t}static Jt(e,t){return new xE(e,t.uid||"")}getOverlay(e,t){return Gp(e).get(Ow(this.userId,t)).next(r=>r?cy(this.O,r):null)}saveOverlays(e,t,r){const a=[];return r.forEach(l=>{const p=new oy(t,l);a.push(this.Yt(e,p))}),Ce.waitFor(a)}removeOverlaysForBatchId(e,t,r){const a=new Set;t.forEach(p=>a.add(ri(p.getCollectionPath())));const l=[];return a.forEach(p=>{const v=IDBKeyRange.bound([this.userId,p,r],[this.userId,p,r+1],!1,!0);l.push(Gp(e).Gt(ii.collectionPathOverlayIndex,v))}),Ce.waitFor(l)}getOverlaysForCollection(e,t,r){const a=new Map,l=ri(t),p=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Gp(e).qt(ii.collectionPathOverlayIndex,p).next(v=>{for(const w of v){const x=cy(this.O,w);a.set(x.getKey(),x)}return a})}getOverlaysForCollectionGroup(e,t,r,a){const l=new Map;let p;const v=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Gp(e).Qt({index:ii.collectionGroupOverlayIndex,range:v},(w,x,L)=>{const j=cy(this.O,x);l.size<a||j.largestBatchId===p?(l.set(j.getKey(),j),p=j.largestBatchId):L.done()}).next(()=>l)}Yt(e,t){return Gp(e).put(function(r,a,l){const[p,v,w]=Ow(a,l.mutation.key);return new ii(a,v,w,l.mutation.key.getCollectionGroup(),l.largestBatchId,md(r.Ht,l.mutation))}(this.O,this.userId,t))}}function Gp(n){return si(n,ii.store)}class dy{constructor(){}Xt(e,t){this.Zt(e,t),t.te()}Zt(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(ir(e.integerValue));else if("doubleValue"in e){const r=ir(e.doubleValue);isNaN(r)?this.ee(t,13):(this.ee(t,15),km(r)?t.ne(0):t.ne(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ee(t,20),"string"==typeof r?t.se(r):(t.se(`${r.seconds||""}`),t.ne(r.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(Fl(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ee(t,45),t.ne(r.latitude||0),t.ne(r.longitude||0)}else"mapValue"in e?sa(e,ZI)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):yt()}ie(e,t){this.ee(t,25),this.he(e,t)}he(e,t){t.se(e)}ue(e,t){const r=e.fields||{};this.ee(t,55);for(const a of Object.keys(r))this.ie(a,t),this.Zt(r[a],t)}ae(e,t){const r=e.values||[];this.ee(t,50);for(const a of r)this.Zt(a,t)}ce(e,t){this.ee(t,37),at.fromName(e).path.forEach(r=>{this.ee(t,60),this.he(r,t)})}ee(e,t){e.ne(t)}re(e){e.ne(2)}}function hy(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function JD(n){const e=64-function(t){let r=0;for(let a=0;a<8;++a){const l=hy(255&t[a]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}dy.le=new dy;class RE{constructor(){this.buffer=new Uint8Array(1024),this.position=0}fe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.de(r.value),r=t.next();this._e()}we(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.me(r.value),r=t.next();this.ge()}ye(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.de(r);else if(r<2048)this.de(960|r>>>6),this.de(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.de(480|r>>>12),this.de(128|63&r>>>6),this.de(128|63&r);else{const a=t.codePointAt(0);this.de(240|a>>>18),this.de(128|63&a>>>12),this.de(128|63&a>>>6),this.de(128|63&a)}}this._e()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.me(r);else if(r<2048)this.me(960|r>>>6),this.me(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.me(480|r>>>12),this.me(128|63&r>>>6),this.me(128|63&r);else{const a=t.codePointAt(0);this.me(240|a>>>18),this.me(128|63&a>>>12),this.me(128|63&a>>>6),this.me(128|63&a)}}this.ge()}Ie(e){const t=this.Ee(e),r=JD(t);this.Te(1+r),this.buffer[this.position++]=255&r;for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Ae(e){const t=this.Ee(e),r=JD(t);this.Te(1+r),this.buffer[this.position++]=~(255&r);for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}Re(){this.Pe(255),this.Pe(255)}be(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ve(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(a){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,a,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let a=1;a<t.length;++a)t[a]^=r?255:0;return t}de(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}me(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}_e(){this.Pe(0),this.Pe(1)}ge(){this.ve(0),this.ve(1)}Pe(e){this.Te(1),this.buffer[this.position++]=e}ve(e){this.Te(1),this.buffer[this.position++]=~e}Te(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class Kh{constructor(e){this.Se=e}oe(e){this.Se.fe(e)}se(e){this.Se.ye(e)}ne(e){this.Se.Ie(e)}te(){this.Se.Re()}}class kw{constructor(e){this.Se=e}oe(e){this.Se.we(e)}se(e){this.Se.pe(e)}ne(e){this.Se.Ae(e)}te(){this.Se.be()}}class Fw{constructor(){this.Se=new RE,this.De=new Kh(this.Se),this.Ce=new kw(this.Se)}seed(e){this.Se.seed(e)}Ne(e){return 0===e?this.De:this.Ce}Ve(){return this.Se.Ve()}reset(){this.Se.reset()}}class fy{constructor(e,t,r,a){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=a}}function qp(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=at.comparator(n.documentKey,e.documentKey),0!==t?t:(t=OE(n.arrayValue,e.arrayValue),0!==t?t:OE(n.directionalValue,e.directionalValue)))}function OE(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Lw{constructor(){this.xe=new py}addToCollectionParentIndex(e,t){return this.xe.add(t),Ce.resolve()}getCollectionParents(e,t){return Ce.resolve(this.xe.getEntries(t))}addFieldIndex(e,t){return Ce.resolve()}deleteFieldIndex(e,t){return Ce.resolve()}getDocumentsMatchingTarget(e,t,r){return Ce.resolve(wn())}getFieldIndex(e,t){return Ce.resolve(null)}getFieldIndexes(e,t){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}updateCollectionGroup(e,t,r){return Ce.resolve()}updateIndexEntries(e,t){return Ce.resolve()}}class py{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Pn(fn.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Pn(fn.comparator)).toArray()}}class XD{constructor(e){this.user=e,this.ke=new py,this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.ke.has(t)){const r=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.ke.add(t)});const l={collectionId:r,parent:ri(a)};return NE(e).put(l)}return Ce.resolve()}getCollectionParents(e,t){const r=[],a=IDBKeyRange.bound([t,""],[qI(t),""],!1,!0);return NE(e).qt(a).next(l=>{for(const p of l){if(p.collectionId!==t)break;r.push(oa(p.parent))}return r})}addFieldIndex(e,t){const r=zp(e),a=new js((l=t).indexId,l.collectionGroup,l.fields.map(p=>[p.fieldPath.canonicalString(),p.kind]));var l;return delete a.indexId,r.add(a).next()}deleteFieldIndex(e,t){const r=zp(e),a=gy(e),l=Ed(e);return r.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t,r){return Ce.resolve(wn())}getFieldIndex(e,t){return Ce.resolve(null)}Oe(e,t){const r=new Fw;for(const a of e.fields.filter(p=>2!==p.kind)){const l=t.data.field(a.fieldPath);if(null==l)return null;const p=r.Ne(a.kind);dy.le.Xt(l,p)}return r.Ve()}Me(e){const t=new Fw;return dy.le.Xt(e,t.Ne(0)),t.Ve()}getFieldIndexes(e,t){const r=zp(e),a=gy(e);return(t?r.qt(js.collectionGroupIndex,IDBKeyRange.bound(t,t)):r.qt()).next(l=>{const p=[];return Ce.forEach(l,v=>a.get([v.indexId,this.uid]).next(w=>{p.push(function(x,L){const j=L?new kh(L.sequenceNumber,new Bm(ql(L.readTime),new at(oa(L.documentKey)),L.largestBatchId)):kh.empty(),J=x.fields.map(([ye,Le])=>new jm(gi.fromServerFormat(ye),Le));return new Um(x.indexId,x.collectionGroup,J,j)}(v,w))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,a)=>r.indexState.sequenceNumber-a.indexState.sequenceNumber),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const a=zp(e),l=gy(e);return this.$e(e).next(p=>a.qt(js.collectionGroupIndex,IDBKeyRange.bound(t,t)).next(v=>Ce.forEach(v,w=>{return l.put(new ao(w.indexId,this.user.uid||"",p,Gl((J=r).readTime),ri(J.documentKey.path),J.largestBatchId));var J})))}updateIndexEntries(e,t){const r=new Map;return Ce.forEach(t,(a,l)=>{const p=r.get(a.collectionGroup);return(p?Ce.resolve(p):this.getFieldIndexes(e,a.collectionGroup)).next(v=>(r.set(a.collectionGroup,v),Ce.forEach(v,w=>this.Fe(e,a,w).next(x=>{const L=this.Be(l,w);return x.isEqual(L)?Ce.resolve():this.Le(e,l,x,L)}))))})}Ue(e,t,r){return Ed(e).put(new Bs(r.indexId,this.uid,r.arrayValue,r.directionalValue,ri(t.key.path)))}qe(e,t,r){return Ed(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,ri(t.key.path)])}Fe(e,t,r){const a=Ed(e);let l=new Pn(qp);return a.Qt({index:Bs.documentKeyIndex,range:IDBKeyRange.only([r.indexId,this.uid,ri(t.path)])},(p,v)=>{l=l.add(new fy(r.indexId,t,v.arrayValue,v.directionalValue))}).next(()=>l)}Be(e,t){let r=new Pn(qp);const a=this.Oe(t,e);if(null==a)return r;const l=t.fields.find(v=>2===v.kind);if(null!=l){const p=e.data.field(l.fieldPath);if(Lm(p))for(const v of p.arrayValue.values||[])r=r.add(new fy(t.indexId,e.key,this.Me(v),a))}else r=r.add(new fy(t.indexId,e.key,new Uint8Array,a));return r}Le(e,t,r,a){qe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(p,v,w,x,L){const j=p.getIterator(),J=v.getIterator();let ye=gd(j),Le=gd(J);for(;ye||Le;){let tt=!1,It=!1;if(ye&&Le){const cn=w(ye,Le);cn<0?It=!0:cn>0&&(tt=!0)}else null!=ye?It=!0:tt=!0;tt?(x(Le),Le=gd(J)):It?(L(ye),ye=gd(j)):(ye=gd(j),Le=gd(J))}}(r,a,qp,p=>{l.push(this.Ue(e,t,p))},p=>{l.push(this.qe(e,t,p))}),Ce.waitFor(l)}$e(e){let t=1;return gy(e).Qt({index:ao.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,a,l)=>{l.done(),t=a.sequenceNumber+1}).next(()=>t)}}function NE(n){return si(n,yd.store)}function Ed(n){return si(n,Bs.store)}function zp(n){return si(n,js.store)}function gy(n){return si(n,ao.store)}const Vw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ar{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ar(e,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function PE(n,e,t){const r=n.store(Qn.store),a=n.store(Mi.store),l=[],p=IDBKeyRange.only(t.batchId);let v=0;const w=r.Qt({range:p},(L,j,J)=>(v++,J.delete()));l.push(w.next(()=>{Nt(1===v)}));const x=[];for(const L of t.mutations){const j=Mi.key(e,L.key.path,t.batchId);l.push(a.delete(j)),x.push(L.key)}return Ce.waitFor(l).next(()=>x)}function Zh(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw yt();e=n.noDocument}return JSON.stringify(e).length}ar.DEFAULT_COLLECTION_PERCENTILE=10,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ar.DEFAULT=new ar(41943040,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ar.DISABLED=new ar(-1,0,0);class my{constructor(e,t,r,a){this.userId=e,this.O=t,this.indexManager=r,this.referenceDelegate=a,this.Ke={}}static Jt(e,t,r,a){Nt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new my(l,t,r,a)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zl(e).Qt({index:Qn.userMutationsIndex,range:r},(a,l,p)=>{t=!1,p.done()}).next(()=>t)}addMutationBatch(e,t,r,a){const l=Wl(e),p=zl(e);return p.add({}).next(v=>{Nt("number"==typeof v);const w=new SE(v,t,r,a),x=function(J,ye,Le){const tt=Le.baseMutations.map(cn=>md(J.Ht,cn)),It=Le.mutations.map(cn=>md(J.Ht,cn));return new Qn(ye,Le.batchId,Le.localWriteTime.toMillis(),tt,It)}(this.O,this.userId,w),L=[];let j=new Pn((J,ye)=>en(J.canonicalString(),ye.canonicalString()));for(const J of a){const ye=Mi.key(this.userId,J.key.path,v);j=j.add(J.key.path.popLast()),L.push(p.put(x)),L.push(l.put(ye,Mi.PLACEHOLDER))}return j.forEach(J=>{L.push(this.indexManager.addToCollectionParentIndex(e,J))}),e.addOnCommittedListener(()=>{this.Ke[v]=w.keys()}),Ce.waitFor(L).next(()=>w)})}lookupMutationBatch(e,t){return zl(e).get(t).next(r=>r?(Nt(r.userId===this.userId),Wh(this.O,r)):null)}Ge(e,t){return this.Ke[t]?Ce.resolve(this.Ke[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const a=r.keys();return this.Ke[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return zl(e).Qt({index:Qn.userMutationsIndex,range:a},(p,v,w)=>{v.userId===this.userId&&(Nt(v.batchId>=r),l=Wh(this.O,v)),w.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return zl(e).Qt({index:Qn.userMutationsIndex,range:t,reverse:!0},(a,l,p)=>{r=l.batchId,p.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zl(e).qt(Qn.userMutationsIndex,t).next(r=>r.map(a=>Wh(this.O,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Mi.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(r),l=[];return Wl(e).Qt({range:a},(p,v,w)=>{const[x,L,j]=p,J=oa(L);if(x===this.userId&&t.path.isEqual(J))return zl(e).get(j).next(ye=>{if(!ye)throw yt();Nt(ye.userId===this.userId),l.push(Wh(this.O,ye))});w.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pn(en);const a=[];return t.forEach(l=>{const p=Mi.prefixForPath(this.userId,l.path),v=IDBKeyRange.lowerBound(p),w=Wl(e).Qt({range:v},(x,L,j)=>{const[J,ye,Le]=x,tt=oa(ye);J===this.userId&&l.path.isEqual(tt)?r=r.add(Le):j.done()});a.push(w)}),Ce.waitFor(a).next(()=>this.je(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1,l=Mi.prefixForPath(this.userId,r),p=IDBKeyRange.lowerBound(l);let v=new Pn(en);return Wl(e).Qt({range:p},(w,x,L)=>{const[j,J,ye]=w,Le=oa(J);j===this.userId&&r.isPrefixOf(Le)?Le.length===a&&(v=v.add(ye)):L.done()}).next(()=>this.je(e,v))}je(e,t){const r=[],a=[];return t.forEach(l=>{a.push(zl(e).get(l).next(p=>{if(null===p)throw yt();Nt(p.userId===this.userId),r.push(Wh(this.O,p))}))}),Ce.waitFor(a).next(()=>r)}removeMutationBatch(e,t){return PE(e.zt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Qe(t.batchId)}),Ce.forEach(r,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Qe(e){delete this.Ke[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ce.resolve();const r=IDBKeyRange.lowerBound(Mi.prefixForUser(this.userId)),a=[];return Wl(e).Qt({range:r},(l,p,v)=>{if(l[0]===this.userId){const w=oa(l[1]);a.push(w)}else v.done()}).next(()=>{Nt(0===a.length)})})}containsKey(e,t){return Uw(e,this.userId,t)}We(e){return jw(e).get(this.userId).next(t=>t||new ku(this.userId,-1,""))}}function Uw(n,e,t){const r=Mi.prefixForPath(e,t.path),a=r[1],l=IDBKeyRange.lowerBound(r);let p=!1;return Wl(n).Qt({range:l,jt:!0},(v,w,x)=>{const[L,j,J]=v;L===e&&j===a&&(p=!0),x.done()}).next(()=>p)}function zl(n){return si(n,Qn.store)}function Wl(n){return si(n,Mi.store)}function jw(n){return si(n,ku.store)}class oi{constructor(e){this.ze=e}next(){return this.ze+=2,this.ze}static He(){return new oi(0)}static Je(){return new oi(-1)}}class eb{constructor(e,t){this.referenceDelegate=e,this.O=t}allocateTargetId(e){return this.Ye(e).next(t=>{const r=new oi(t.highestTargetId);return t.highestTargetId=r.next(),this.Xe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ye(e).next(t=>At.fromTimestamp(new vr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ye(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Ye(e).next(a=>(a.highestListenSequenceNumber=t,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.Xe(e,a)))}addTargetData(e,t){return this.Ze(e,t).next(()=>this.Ye(e).next(r=>(r.targetCount+=1,this.tn(t,r),this.Xe(e,r))))}updateTargetData(e,t){return this.Ze(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Kl(e).delete(t.targetId)).next(()=>this.Ye(e)).next(r=>(Nt(r.targetCount>0),r.targetCount-=1,this.Xe(e,r)))}removeTargets(e,t,r){let a=0;const l=[];return Kl(e).Qt((p,v)=>{const w=Hp(v);w.sequenceNumber<=t&&null===r.get(w.targetId)&&(a++,l.push(this.removeTargetData(e,w)))}).next(()=>Ce.waitFor(l)).next(()=>a)}forEachTarget(e,t){return Kl(e).Qt((r,a)=>{const l=Hp(a);t(l)})}Ye(e){return Bw(e).get(Ri.key).next(t=>(Nt(null!==t),t))}Xe(e,t){return Bw(e).put(Ri.key,t)}Ze(e,t){return Kl(e).put(ME(this.O,t))}tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Ye(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Fh(t),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Kl(e).Qt({range:a,index:Us.queryTargetsIndexName},(p,v,w)=>{const x=Hp(v);$m(t,x.target)&&(l=x,w.done())}).next(()=>l)}addMatchingKeys(e,t,r){const a=[],l=Zl(e);return t.forEach(p=>{const v=ri(p.path);a.push(l.put(new xi(r,v))),a.push(this.referenceDelegate.addReference(e,r,p))}),Ce.waitFor(a)}removeMatchingKeys(e,t,r){const a=Zl(e);return Ce.forEach(t,l=>{const p=ri(l.path);return Ce.waitFor([a.delete([r,p]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Zl(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),a=Zl(e);let l=wn();return a.Qt({range:r,jt:!0},(p,v,w)=>{const x=oa(p[1]),L=new at(x);l=l.add(L)}).next(()=>l)}containsKey(e,t){const r=ri(t.path),a=IDBKeyRange.bound([r],[qI(r)],!1,!0);let l=0;return Zl(e).Qt({index:xi.documentTargetsIndex,jt:!0,range:a},([p,v],w,x)=>{0!==p&&(l++,x.done())}).next(()=>l>0)}Tt(e,t){return Kl(e).get(t).next(r=>r?Hp(r):null)}}function Kl(n){return si(n,Us.store)}function Bw(n){return si(n,Ri.store)}function Zl(n){return si(n,xi.store)}function Lu(n){return yy.apply(this,arguments)}function yy(){return yy=(0,we.Z)(function*(n){if(n.code!==ve.FAILED_PRECONDITION||n.message!==Sw)throw n;qe("LocalStore","Unexpectedly lost primary lease")}),yy.apply(this,arguments)}function kE([n,e],[t,r]){const a=en(n,t);return 0===a?en(e,r):a}class $w{constructor(e){this.en=e,this.buffer=new Pn(kE),this.nn=0}sn(){return++this.nn}rn(e){const t=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();kE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Hw{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.on=!1,this.cn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}stop(){this.cn&&(this.cn.cancel(),this.cn=null)}get started(){return null!==this.cn}un(e){var t=this;const r=this.on?3e5:6e4;qe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,we.Z)(function*(){t.cn=null,t.on=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(a){Fu(a)?qe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Lu(a)}yield t.un(e)}))}}class FE{constructor(e,t){this.an=e,this.params=t}calculateTargetCount(e,t){return this.an.hn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ce.resolve(Fs.A);const r=new $w(t);return this.an.forEachTarget(e,a=>r.rn(a.sequenceNumber)).next(()=>this.an.ln(e,a=>r.rn(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.an.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.an.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(Vw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vw):this.fn(e,t))}getCacheSize(e){return this.an.getCacheSize(e)}fn(e,t){let r,a,l,p,v,w,x;const L=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(j=>(j>this.params.maximumSequenceNumbersToCollect?(qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${j}`),a=this.params.maximumSequenceNumbersToCollect):a=j,p=Date.now(),this.nthSequenceNumber(e,a))).next(j=>(r=j,v=Date.now(),this.removeTargets(e,r,t))).next(j=>(l=j,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(j=>(x=Date.now(),G_()<=li.in.DEBUG&&qe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-L}ms\n\tDetermined least recently used ${a} in `+(v-p)+`ms\n\tRemoved ${l} targets in `+(w-v)+`ms\n\tRemoved ${j} documents in `+(x-w)+`ms\nTotal Duration: ${x-L}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:j})))}}class tb{constructor(e,t){this.db=e,this.garbageCollector=new FE(this,t)}hn(e){const t=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}dn(e){let t=0;return this.ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ln(e,t){return this._n(e,(r,a)=>t(a))}addReference(e,t,r){return vy(e,r)}removeReference(e,t,r){return vy(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return vy(e,t)}wn(e,t){return function(r,a){let l=!1;return jw(r).Wt(p=>Uw(r,p,a).next(v=>(v&&(l=!0),Ce.resolve(!v)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this._n(e,(p,v)=>{if(v<=t){const w=this.wn(e,p).next(x=>{if(!x)return l++,r.getEntry(e,p).next(()=>(r.removeEntry(p,At.min()),Zl(e).delete([0,ri(p.path)])))});a.push(w)}}).next(()=>Ce.waitFor(a)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return vy(e,t)}_n(e,t){const r=Zl(e);let a,l=Fs.A;return r.Qt({index:xi.documentTargetsIndex},([p,v],{path:w,sequenceNumber:x})=>{0===p?(l!==Fs.A&&t(new at(oa(a)),l),l=x,a=w):l=Fs.A}).next(()=>{l!==Fs.A&&t(new at(oa(a)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function vy(n,e){return Zl(n).put((r=n.currentSequenceNumber,new xi(0,ri(e.path),r)));var r}class Ql{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[a,l]of r)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0!==a){for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return 1===r.length?delete this.inner[t]:r.splice(a,1),!0;return!1}forEach(e){ud(this.inner,(t,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return Ap(this.inner)}}class Oo{constructor(){this.changes=new Ql(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Gw{constructor(e){this.O=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return za(e).put(_y(t),r)}removeEntry(e,t){const r=za(e),a=_y(t);return r.delete(a)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.mn(e,r)))}getEntry(e,t){return za(e).get(_y(t)).next(r=>this.gn(t,r))}yn(e,t){return za(e).get(_y(t)).next(r=>({document:this.gn(t,r),size:Zh(r)}))}getEntries(e,t){let r=oo();return this.pn(e,t,(a,l)=>{const p=this.gn(a,l);r=r.insert(a,p)}).next(()=>r)}In(e,t){let r=oo(),a=new _r(at.comparator);return this.pn(e,t,(l,p)=>{const v=this.gn(l,p);r=r.insert(l,v),a=a.insert(l,Zh(p))}).next(()=>({documents:r,En:a}))}pn(e,t,r){if(t.isEmpty())return Ce.resolve();const a=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator();let p=l.getNext();return za(e).Qt({range:a},(v,w,x)=>{const L=at.fromSegments(v);for(;p&&at.comparator(p,L)<0;)r(p,null),p=l.getNext();p&&p.isEqual(L)&&(r(p,w),p=l.hasNext()?l.getNext():null),p?x.Ut(p.path.toArray()):x.done()}).next(()=>{for(;p;)r(p,null),p=l.hasNext()?l.getNext():null})}getAll(e,t,r){let a=oo();const l=t.length+1,p={};if(r.isEqual(At.min())){const v=t.toArray();p.range=IDBKeyRange.lowerBound(v)}else{const v=t.toArray(),w=ay(r);p.range=IDBKeyRange.lowerBound([v,w],!0),p.index=Fn.collectionReadTimeIndex}return za(e).Qt(p,(v,w,x)=>{if(v.length!==l)return;const L=this.gn(at.fromSegments(v),w);t.isPrefixOf(L.key.path)?a=a.insert(L.key,L):x.done()}).next(()=>a)}newChangeBuffer(e){return new AT(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return LE(e).get(qa.key).next(t=>(Nt(!!t),t))}mn(e,t){return LE(e).put(qa.key,t)}gn(e,t){if(t){const r=AE(this.O,t);if(!r.isNoDocument()||!r.version.isEqual(At.min()))return r}return sr.newInvalidDocument(e)}}class AT extends Oo{constructor(e,t){super(),this.Tn=e,this.trackRemovals=t,this.An=new Ql(r=>r.toString(),(r,a)=>r.isEqual(a))}applyChanges(e){const t=[];let r=0,a=new Pn((l,p)=>en(l.canonicalString(),p.canonicalString()));return this.changes.forEach((l,p)=>{const v=this.An.get(l);if(p.isValidDocument()){const w=Rw(this.Tn.O,p);a=a.add(l.path.popLast()),r+=Zh(w)-v,t.push(this.Tn.addEntry(e,l,w))}else if(r-=v,this.trackRemovals){const w=Rw(this.Tn.O,p.convertToNoDocument(At.min()));t.push(this.Tn.addEntry(e,l,w))}else t.push(this.Tn.removeEntry(e,l))}),a.forEach(l=>{t.push(this.Tn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Tn.updateMetadata(e,r)),Ce.waitFor(t)}getFromCache(e,t){return this.Tn.yn(e,t).next(r=>(this.An.set(t,r.size),r.document))}getAllFromCache(e,t){return this.Tn.In(e,t).next(({documents:r,En:a})=>(a.forEach((l,p)=>{this.An.set(l,p)}),r))}}function LE(n){return si(n,qa.store)}function za(n){return si(n,Fn.store)}function _y(n){return n.path.toArray()}class qw{constructor(e){this.O=e}kt(e,t,r,a){const l=new zh("createOrUpgrade",t);var v;r<1&&a>=1&&(e.createObjectStore(Vs.store),(v=e).createObjectStore(ku.store,{keyPath:ku.keyPath}),v.createObjectStore(Qn.store,{keyPath:Qn.keyPath,autoIncrement:!0}).createIndex(Qn.userMutationsIndex,Qn.userMutationsKeyPath,{unique:!0}),v.createObjectStore(Mi.store),VE(e),function(v){v.createObjectStore(Fn.store)}(e));let p=Ce.resolve();return r<3&&a>=3&&(0!==r&&(function(v){v.deleteObjectStore(xi.store),v.deleteObjectStore(Us.store),v.deleteObjectStore(Ri.store)}(e),VE(e)),p=p.next(()=>function(v){const w=v.store(Ri.store),x=new Ri(0,0,At.min().toTimestamp(),0);return w.put(Ri.key,x)}(l))),r<4&&a>=4&&(0!==r&&(p=p.next(()=>function(v,w){return w.store(Qn.store).qt().next(x=>{v.deleteObjectStore(Qn.store),v.createObjectStore(Qn.store,{keyPath:Qn.keyPath,autoIncrement:!0}).createIndex(Qn.userMutationsIndex,Qn.userMutationsKeyPath,{unique:!0});const L=w.store(Qn.store),j=x.map(J=>L.put(J));return Ce.waitFor(j)})}(e,l))),p=p.next(()=>{!function(v){v.createObjectStore(aa.store,{keyPath:aa.keyPath})}(e)})),r<5&&a>=5&&(p=p.next(()=>this.Rn(l))),r<6&&a>=6&&(p=p.next(()=>(function(v){v.createObjectStore(qa.store)}(e),this.Pn(l)))),r<7&&a>=7&&(p=p.next(()=>this.bn(l))),r<8&&a>=8&&(p=p.next(()=>this.vn(e,l))),r<9&&a>=9&&(p=p.next(()=>{(function(v){v.objectStoreNames.contains("remoteDocumentChanges")&&v.deleteObjectStore("remoteDocumentChanges")})(e),function(v){const w=v.objectStore(Fn.store);w.createIndex(Fn.readTimeIndex,Fn.readTimeIndexPath,{unique:!1}),w.createIndex(Fn.collectionReadTimeIndex,Fn.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&a>=10&&(p=p.next(()=>this.Vn(l))),r<11&&a>=11&&(p=p.next(()=>{(function(v){v.createObjectStore(vd.store,{keyPath:vd.keyPath})})(e),function(v){v.createObjectStore(_d.store,{keyPath:_d.keyPath})}(e)})),r<12&&a>=12&&(p=p.next(()=>{!function(v){const w=v.createObjectStore(ii.store,{keyPath:ii.keyPath});w.createIndex(ii.collectionPathOverlayIndex,ii.collectionPathOverlayIndexPath,{unique:!1}),w.createIndex(ii.collectionGroupOverlayIndex,ii.collectionGroupOverlayIndexPath,{unique:!1})}(e)})),r<13&&a>=13&&(p=p.next(()=>{!function(v){v.createObjectStore(js.store,{keyPath:js.keyPath,autoIncrement:!0}).createIndex(js.collectionGroupIndex,js.collectionGroupIndexPath,{unique:!1}),v.createObjectStore(ao.store,{keyPath:ao.keyPath}).createIndex(ao.sequenceNumberIndex,ao.sequenceNumberIndexPath,{unique:!1}),v.createObjectStore(Bs.store,{keyPath:Bs.keyPath}).createIndex(Bs.documentKeyIndex,Bs.documentKeyIndexPath,{unique:!1})}(e)})),p}Pn(e){let t=0;return e.store(Fn.store).Qt((r,a)=>{t+=Zh(a)}).next(()=>{const r=new qa(t);return e.store(qa.store).put(qa.key,r)})}Rn(e){const t=e.store(ku.store),r=e.store(Qn.store);return t.qt().next(a=>Ce.forEach(a,l=>{const p=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.qt(Qn.userMutationsIndex,p).next(v=>Ce.forEach(v,w=>{Nt(w.userId===l.userId);const x=Wh(this.O,w);return PE(e,l.userId,x).next(()=>{})}))}))}bn(e){const t=e.store(xi.store),r=e.store(Fn.store);return e.store(Ri.store).get(Ri.key).next(a=>{const l=[];return r.Qt((p,v)=>{const w=new fn(p),x=[0,ri(w)];l.push(t.get(x).next(L=>L?Ce.resolve():t.put(new xi(0,ri(w),a.highestListenSequenceNumber))))}).next(()=>Ce.waitFor(l))})}vn(e,t){e.createObjectStore(yd.store,{keyPath:yd.keyPath});const r=t.store(yd.store),a=new py,l=p=>{if(a.add(p)){const v=p.lastSegment(),w=p.popLast();return r.put({collectionId:v,parent:ri(w)})}};return t.store(Fn.store).Qt({jt:!0},(p,v)=>{const w=new fn(p);return l(w.popLast())}).next(()=>t.store(Mi.store).Qt({jt:!0},([p,v,w],x)=>{const L=oa(v);return l(L.popLast())}))}Vn(e){const t=e.store(Us.store);return t.Qt((r,a)=>{const l=Hp(a),p=ME(this.O,l);return t.put(p)})}}function VE(n){n.createObjectStore(xi.store,{keyPath:xi.keyPath}).createIndex(xi.documentTargetsIndex,xi.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Us.store,{keyPath:Us.keyPath}).createIndex(Us.queryTargetsIndexName,Us.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Ri.store)}const Ey="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class UE{constructor(e,t,r,a,l,p,v,w,x,L,j=12){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Sn=l,this.window=p,this.document=v,this.Dn=x,this.Cn=L,this.schemaVersion=j,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=J=>Promise.resolve(),!UE.Vt())throw new Ue(ve.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tb(this,a),this.Bn=t+"main",this.O=new xw(w),this.Ln=new us(this.Bn,this.schemaVersion,new qw(this.O)),this.Un=new eb(this.referenceDelegate,this.O),this.qn=new Gw(this.O),this.Kn=new YD,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===L&&gr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.jn().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ue(ve.FAILED_PRECONDITION,Ey);return this.Qn(),this.Wn(),this.zn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Un.getHighestSequenceNumber(e))}).then(e=>{this.Nn=new Fs(e,this.Dn)}).then(()=>{this.xn=!0}).catch(e=>(this.Ln&&this.Ln.close(),Promise.reject(e)))}Hn(e){var t=this;return this.Fn=function(){var r=(0,we.Z)(function*(a){if(t.started)return e(a)});return function(a){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ln.Mt(function(){var t=(0,we.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget((0,we.Z)(function*(){t.started&&(yield t.jn())})))}jn(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Qh(e).put(new aa(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.Jn(e).next(t=>{t||(this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)))})}).next(()=>this.Yn(e)).next(t=>this.isPrimary&&!t?this.Xn(e).next(()=>!1):!!t&&this.Zn(e).next(()=>!0))).catch(e=>{if(Fu(e))return qe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return qe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Sn.enqueueRetryable(()=>this.Fn(e)),this.isPrimary=e})}Jn(e){return Id(e).get(Vs.key).next(t=>Ce.resolve(this.ts(t)))}es(e){return Qh(e).delete(this.clientId)}ns(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.ss(e.$n,18e5)){e.$n=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const a=si(r,aa.store);return a.qt().next(l=>{const p=e.rs(l,18e5),v=l.filter(w=>-1===p.indexOf(w));return Ce.forEach(v,w=>a.delete(w.clientId)).next(()=>v)})}).catch(()=>[]);if(e.Gn)for(const r of t)e.Gn.removeItem(e.os(r.clientId))}})()}zn(){this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.jn().then(()=>this.ns()).then(()=>this.zn()))}ts(e){return!!e&&e.ownerId===this.clientId}Yn(e){return this.Cn?Ce.resolve(!0):Id(e).get(Vs.key).next(t=>{if(null!==t&&this.ss(t.leaseTimestampMs,5e3)&&!this.cs(t.ownerId)){if(this.ts(t)&&this.networkEnabled)return!0;if(!this.ts(t)){if(!t.allowTabSynchronization)throw new Ue(ve.FAILED_PRECONDITION,Ey);return!1}}return!(!this.networkEnabled||!this.inForeground)||Qh(e).qt().next(r=>void 0===this.rs(r,5e3).find(a=>{if(this.clientId!==a.clientId){const p=!this.inForeground&&a.inForeground,v=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||p&&v)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&qe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,we.Z)(function*(){e.xn=!1,e.us(),e.Mn&&(e.Mn.cancel(),e.Mn=null),e.hs(),e.ls(),yield e.Ln.runTransaction("shutdown","readwrite",[Vs.store,aa.store],t=>{const r=new TE(t,Fs.A);return e.Xn(r).next(()=>e.es(r))}),e.Ln.close(),e.fs()})()}rs(e,t){return e.filter(r=>this.ss(r.updateTimeMs,t)&&!this.cs(r.clientId))}ds(){return this.runTransaction("getActiveClients","readonly",e=>Qh(e).qt().next(t=>this.rs(t,18e5).map(r=>r.clientId)))}get started(){return this.xn}getMutationQueue(e,t){return my.Jt(e,this.O,t,this.referenceDelegate)}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getIndexManager(e){return new XD(e)}getDocumentOverlayCache(e){return xE.Jt(this.O,e)}getBundleCache(){return this.Kn}runTransaction(e,t,r){qe("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",l=13===(p=this.schemaVersion)?CE:12===p?jp:11===p?wE:void yt();var p;let v;return this.Ln.runTransaction(e,a,l,w=>(v=new TE(w,this.Nn?this.Nn.next():Fs.A),"readwrite-primary"===t?this.Jn(v).next(x=>!!x||this.Yn(v)).next(x=>{if(!x)throw gr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)),new Ue(ve.FAILED_PRECONDITION,Sw);return r(v)}).next(x=>this.Zn(v).next(()=>x)):this._s(v).next(()=>r(v)))).then(w=>(v.raiseOnCommittedEvent(),w))}_s(e){return Id(e).get(Vs.key).next(t=>{if(null!==t&&this.ss(t.leaseTimestampMs,5e3)&&!this.cs(t.ownerId)&&!this.ts(t)&&!(this.Cn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ue(ve.FAILED_PRECONDITION,Ey)})}Zn(e){const t=new Vs(this.clientId,this.allowTabSynchronization,Date.now());return Id(e).put(Vs.key,t)}static Vt(){return us.Vt()}Xn(e){const t=Id(e);return t.get(Vs.key).next(r=>this.ts(r)?(qe("IndexedDbPersistence","Releasing primary lease."),t.delete(Vs.key)):Ce.resolve())}ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(gr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Qn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=()=>{this.Sn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.jn()))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}hs(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}Wn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=()=>{this.us(),(0,Lt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Sn.enterRestrictedMode(!0),this.Sn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.kn))}ls(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}cs(e){var t;try{const r=null!==(null===(t=this.Gn)||void 0===t?void 0:t.getItem(this.os(e)));return qe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return gr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}us(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(e){gr("Failed to set zombie client id.",e)}}fs(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(e){}}os(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Id(n){return si(n,Vs.store)}function Qh(n){return si(n,aa.store)}function jE(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class nb{constructor(e,t){this.progress=e,this.ws=t}}class zw{constructor(e,t,r){this.qn=e,this.gs=t,this.indexManager=r}ys(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.ps(e,t,r))}ps(e,t,r){return this.qn.getEntry(e,t).next(a=>{for(const l of r)l.applyToLocalView(a);return a})}Is(e,t){e.forEach((r,a)=>{for(const l of t)l.applyToLocalView(a)})}Es(e,t){return this.qn.getEntries(e,t).next(r=>this.Ts(e,r).next(()=>r))}Ts(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Is(t,r))}As(e,t,r){return at.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.Rs(e,t.path):Pp(t)?this.Ps(e,t,r):this.bs(e,t,r);var a}Rs(e,t){return this.ys(e,new at(t)).next(r=>{let a=ty();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}Ps(e,t,r){const a=t.collectionGroup;let l=ty();return this.indexManager.getCollectionParents(e,a).next(p=>Ce.forEach(p,v=>{const w=(x=t,L=v.child(a),new Ba(L,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt));var x,L;return this.bs(e,w,r).next(x=>{x.forEach((L,j)=>{l=l.insert(L,j)})})}).next(()=>l))}bs(e,t,r){let a;return this.qn.getAll(e,t.path,r).next(l=>(a=l,this.gs.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const p of l)for(const v of p.mutations){const w=v.key;let x=a.get(w);null==x&&(x=sr.newInvalidDocument(w),a=a.insert(w,x)),Jm(v,x,p.localWriteTime),x.isFoundDocument()||(a=a.remove(w))}}).next(()=>(a.forEach((l,p)=>{Wm(t,p)||(a=a.remove(l))}),a))}}class wd{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.vs=r,this.Vs=a}static Ss(e,t){let r=wn(),a=wn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new wd(e,t.fromCache,r,a)}}class Iy{Ds(e){this.Cs=e}As(e,t,r,a){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(At.min())?this.Ns(e,t):this.Cs.Es(e,a).next(l=>{const p=this.xs(t,l);return(Rp(t)||Op(t))&&this.ks(t.limitType,p,a,r)?this.Ns(e,t):(G_()<=li.in.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),tE(t)),this.Cs.As(e,t,r).next(v=>(p.forEach(w=>{v=v.insert(w.key,w)}),v)))});var l}xs(e,t){let r=new Pn(nE(e));return t.forEach((a,l)=>{Wm(e,l)&&(r=r.add(l))}),r}ks(e,t,r,a){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ns(e,t){return G_()<=li.in.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",tE(t)),this.Cs.As(e,t,At.min())}}class Ww{constructor(e,t,r,a){this.persistence=e,this.Os=t,this.O=a,this.Ms=new _r(en),this.$s=new Ql(l=>Fh(l),$m),this.Fs=At.min(),this.Bs=e.getRemoteDocumentCache(),this.Un=e.getTargetCache(),this.Kn=e.getBundleCache(),this.Ls(r)}Ls(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new zw(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Kw(n,e,t,r){return new Ww(n,e,t,r)}function BE(n,e){return wy.apply(this,arguments)}function wy(){return wy=(0,we.Z)(function*(n,e){const t=et(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.gs.getAllMutationBatches(r).next(l=>(a=l,t.Ls(e),t.gs.getAllMutationBatches(r))).next(l=>{const p=[],v=[];let w=wn();for(const x of a){p.push(x.batchId);for(const L of x.mutations)w=w.add(L.key)}for(const x of l){v.push(x.batchId);for(const L of x.mutations)w=w.add(L.key)}return t.Us.Es(r,w).next(x=>({qs:x,removedBatchIds:p,addedBatchIds:v}))})})}),wy.apply(this,arguments)}function rb(n,e){const t=et(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(p,v,w,x){const L=w.batch,j=L.keys();let J=Ce.resolve();return j.forEach(ye=>{J=J.next(()=>x.getEntry(v,ye)).next(Le=>{const tt=w.docVersions.get(ye);Nt(null!==tt),Le.version.compareTo(tt)<0&&(L.applyToRemoteDocument(Le,w),Le.isValidDocument()&&(Le.setReadTime(w.commitVersion),x.addEntry(Le)))})}),J.next(()=>p.gs.removeMutationBatch(v,L))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.gs.performConsistencyCheck(r)).next(()=>t.Us.Es(r,a))})}function Zw(n){const e=et(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Un.getLastRemoteSnapshotVersion(t))}function ib(n,e){const t=et(n),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const p=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.Ms;const v=[];e.targetChanges.forEach((x,L)=>{const j=a.get(L);if(!j)return;v.push(t.Un.removeMatchingKeys(l,x.removedDocuments,L).next(()=>t.Un.addMatchingKeys(l,x.addedDocuments,L)));let J=j.withSequenceNumber(l.currentSequenceNumber);var ye,Le,tt;e.targetMismatches.has(L)?J=J.withResumeToken(ei.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):x.resumeToken.approximateByteSize()>0&&(J=J.withResumeToken(x.resumeToken,r)),a=a.insert(L,J),Le=J,tt=x,(0===(ye=j).resumeToken.approximateByteSize()||Le.snapshotVersion.toMicroseconds()-ye.snapshotVersion.toMicroseconds()>=3e8||tt.addedDocuments.size+tt.modifiedDocuments.size+tt.removedDocuments.size>0)&&v.push(t.Un.updateTargetData(l,J))});let w=oo();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&v.push(t.persistence.referenceDelegate.updateLimboDocument(l,x))}),v.push(Qw(l,p,e.documentUpdates).next(x=>{w=x})),!r.isEqual(At.min())){const x=t.Un.getLastRemoteSnapshotVersion(l).next(L=>t.Un.setTargetsMetadata(l,l.currentSequenceNumber,r));v.push(x)}return Ce.waitFor(v).next(()=>p.apply(l)).next(()=>t.Us.Ts(l,w)).next(()=>w)}).then(l=>(t.Ms=a,l))}function Qw(n,e,t){let r=wn();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=oo();return t.forEach((p,v)=>{const w=a.get(p);v.isNoDocument()&&v.version.isEqual(At.min())?(e.removeEntry(p,v.readTime),l=l.insert(p,v)):!w.isValidDocument()||v.version.compareTo(w.version)>0||0===v.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(v),l=l.insert(p,v)):qe("LocalStore","Ignoring outdated watch update for ",p,". Current version:",w.version," Watch version:",v.version)}),l})}function Yw(n,e){const t=et(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.gs.getNextMutationBatchAfterBatchId(r,e)))}function Cd(n,e){const t=et(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.Un.getTargetData(r,e).next(l=>l?(a=l,Ce.resolve(a)):t.Un.allocateTargetId(r).next(p=>(a=new Hl(e,p,0,r.currentSequenceNumber),t.Un.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ms.get(r.targetId);return(null===a||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.$s.set(e,r.targetId)),r})}function Dd(n,e,t){return $E.apply(this,arguments)}function $E(){return $E=(0,we.Z)(function*(n,e,t){const r=et(n),a=r.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,p=>r.persistence.referenceDelegate.removeTarget(p,a)))}catch(p){if(!Fu(p))throw p;qe("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}r.Ms=r.Ms.remove(e),r.$s.delete(a.target)}),$E.apply(this,arguments)}function Wp(n,e,t){const r=et(n);let a=At.min(),l=wn();return r.persistence.runTransaction("Execute query","readonly",p=>function(v,w,x){const L=et(v),j=L.$s.get(x);return void 0!==j?Ce.resolve(L.Ms.get(j)):L.Un.getTargetData(w,x)}(r,p,Ls(e)).next(v=>{if(v)return a=v.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(p,v.targetId).next(w=>{l=w})}).next(()=>r.Os.As(p,e,t?a:At.min(),t?l:wn())).next(v=>({documents:v,Ks:l})))}function Jw(n,e){const t=et(n),r=et(t.Un),a=t.Ms.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Tt(l,e).next(p=>p?p.target:null))}function sb(n){const e=et(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,a,l){const p=et(r);let v=oo(),w=ay(l);const x=za(a),L=IDBKeyRange.lowerBound(w,!0);return x.Qt({index:Fn.readTimeIndex,range:L},(j,J)=>{const ye=AE(p.O,J);v=v.insert(ye.key,ye),w=J.readTime}).next(()=>({ws:v,readTime:uy(w)}))}(e.Bs,t,e.Fs)).then(({ws:t,readTime:r})=>(e.Fs=r,t))}function HE(){return HE=(0,we.Z)(function*(n){const e=et(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const a=za(r);let l=At.min();return a.Qt({index:Fn.readTimeIndex,reverse:!0},(p,v,w)=>{v.readTime&&(l=uy(v.readTime)),w.done()}).next(()=>l)}(t)).then(t=>{e.Fs=t})}),HE.apply(this,arguments)}function bd(){return bd=(0,we.Z)(function*(n,e,t,r){const a=et(n);let l=wn(),p=oo();for(const x of t){const L=e.Gs(x.metadata.name);x.document&&(l=l.add(L));const j=e.js(x);j.setReadTime(e.Qs(x.metadata.readTime)),p=p.insert(L,j)}const v=a.Bs.newChangeBuffer({trackRemovals:!0}),w=yield Cd(a,(x=r,Ls(Ll(fn.fromString(`__bundle__/docs/${x}`)))));var x;return a.persistence.runTransaction("Apply bundle documents","readwrite",x=>Qw(x,v,p).next(L=>(v.apply(x),L)).next(L=>a.Un.removeMatchingKeysForTargetId(x,w.targetId).next(()=>a.Un.addMatchingKeys(x,l,w.targetId)).next(()=>a.Us.Ts(x,L)).next(()=>L)))}),bd.apply(this,arguments)}function ab(n,e){return qE.apply(this,arguments)}function qE(){return qE=(0,we.Z)(function*(n,e,t=wn()){const r=yield Cd(n,Ls(ly(e.bundledQuery))),a=et(n);return a.persistence.runTransaction("Save named query","readwrite",l=>{const p=kn(e.readTime);if(r.snapshotVersion.compareTo(p)>=0)return a.Kn.saveNamedQuery(l,e);const v=r.withResumeToken(ei.EMPTY_BYTE_STRING,p);return a.Ms=a.Ms.insert(v.targetId,v),a.Un.updateTargetData(l,v).next(()=>a.Un.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>a.Un.addMatchingKeys(l,t,r.targetId)).next(()=>a.Kn.saveNamedQuery(l,e))})}),qE.apply(this,arguments)}class Xw{constructor(e){this.O=e,this.Ws=new Map,this.zs=new Map}getBundleMetadata(e,t){return Ce.resolve(this.Ws.get(t))}saveBundleMetadata(e,t){var r;return this.Ws.set(t.id,{id:(r=t).id,version:r.version,createTime:kn(r.createTime)}),Ce.resolve()}getNamedQuery(e,t){return Ce.resolve(this.zs.get(t))}saveNamedQuery(e,t){return this.zs.set(t.name,{name:(r=t).name,query:ly(r.bundledQuery),readTime:kn(r.readTime)}),Ce.resolve();var r}}class Td{constructor(){this.overlays=new _r(at.comparator),this.Hs=new Map}getOverlay(e,t){return Ce.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach(a=>{this.Yt(e,t,a)}),Ce.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Hs.get(r);return void 0!==a&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Hs.delete(r)),Ce.resolve()}getOverlaysForCollection(e,t,r){const a=new Map,l=t.length+1,p=new at(t.child("")),v=this.overlays.getIteratorFrom(p);for(;v.hasNext();){const w=v.getNext().value,x=w.getKey();if(!t.isPrefixOf(x.path))break;x.path.length===l&&w.largestBatchId>r&&a.set(w.getKey(),w)}return Ce.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new _r((x,L)=>x-L);const p=this.overlays.getIterator();for(;p.hasNext();){const x=p.getNext().value;if(x.getKey().getCollectionGroup()===t&&x.largestBatchId>r){let L=l.get(x.largestBatchId);null===L&&(L=new Map,l=l.insert(x.largestBatchId,L)),L.set(x.getKey(),x)}}const v=new Map,w=l.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((x,L)=>v.set(L,x)),!(v.size>=a)););return Ce.resolve(v)}Yt(e,t,r){if(null===r)return;const a=this.overlays.get(r.key);null!==a&&this.Hs.get(a.largestBatchId).delete(r.key),this.overlays=this.overlays.insert(r.key,new oy(t,r));let l=this.Hs.get(t);void 0===l&&(l=new Set,this.Hs.set(t,l)),l.add(r.key)}}class Cy{constructor(){this.Js=new Pn(Gr.Ys),this.Xs=new Pn(Gr.Zs)}isEmpty(){return this.Js.isEmpty()}addReference(e,t){const r=new Gr(e,t);this.Js=this.Js.add(r),this.Xs=this.Xs.add(r)}ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ei(new Gr(e,t))}ni(e,t){e.forEach(r=>this.removeReference(r,t))}si(e){const t=new at(new fn([])),r=new Gr(t,e),a=new Gr(t,e+1),l=[];return this.Xs.forEachInRange([r,a],p=>{this.ei(p),l.push(p.key)}),l}ii(){this.Js.forEach(e=>this.ei(e))}ei(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}ri(e){const t=new at(new fn([])),r=new Gr(t,e),a=new Gr(t,e+1);let l=wn();return this.Xs.forEachInRange([r,a],p=>{l=l.add(p.key)}),l}containsKey(e){const t=new Gr(e,0),r=this.Js.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Gr{constructor(e,t){this.key=e,this.oi=t}static Ys(e,t){return at.comparator(e.key,t.key)||en(e.oi,t.oi)}static Zs(e,t){return en(e.oi,t.oi)||at.comparator(e.key,t.key)}}class zE{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.gs=[],this.ci=1,this.ui=new Pn(Gr.Ys)}checkEmpty(e){return Ce.resolve(0===this.gs.length)}addMutationBatch(e,t,r,a){const l=this.ci;this.ci++;const p=new SE(l,t,r,a);this.gs.push(p);for(const v of a)this.ui=this.ui.add(new Gr(v.key,l)),this.indexManager.addToCollectionParentIndex(e,v.key.path.popLast());return Ce.resolve(p)}lookupMutationBatch(e,t){return Ce.resolve(this.ai(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.hi(t+1),l=a<0?0:a;return Ce.resolve(this.gs.length>l?this.gs[l]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(0===this.gs.length?-1:this.ci-1)}getAllMutationBatches(e){return Ce.resolve(this.gs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Gr(t,0),a=new Gr(t,Number.POSITIVE_INFINITY),l=[];return this.ui.forEachInRange([r,a],p=>{const v=this.ai(p.oi);l.push(v)}),Ce.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pn(en);return t.forEach(a=>{const l=new Gr(a,0),p=new Gr(a,Number.POSITIVE_INFINITY);this.ui.forEachInRange([l,p],v=>{r=r.add(v.oi)})}),Ce.resolve(this.li(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;at.isDocumentKey(l)||(l=l.child(""));const p=new Gr(new at(l),0);let v=new Pn(en);return this.ui.forEachWhile(w=>{const x=w.key.path;return!!r.isPrefixOf(x)&&(x.length===a&&(v=v.add(w.oi)),!0)},p),Ce.resolve(this.li(v))}li(e){const t=[];return e.forEach(r=>{const a=this.ai(r);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Nt(0===this.fi(t.batchId,"removed")),this.gs.shift();let r=this.ui;return Ce.forEach(t.mutations,a=>{const l=new Gr(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ui=r})}Qe(e){}containsKey(e,t){const r=new Gr(t,0),a=this.ui.firstAfterOrEqual(r);return Ce.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Ce.resolve()}fi(e,t){return this.hi(e)}hi(e){return 0===this.gs.length?0:e-this.gs[0].batchId}ai(e){const t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}class ub{constructor(e){this.di=e,this.docs=new _r(at.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,p=this.di(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:p}),this.size+=p-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ce.resolve(r?r.document.mutableCopy():sr.newInvalidDocument(t))}getEntries(e,t){let r=oo();return t.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():sr.newInvalidDocument(a))}),Ce.resolve(r)}getAll(e,t,r){let a=oo();const l=new at(t.child("")),p=this.docs.getIteratorFrom(l);for(;p.hasNext();){const{key:v,value:{document:w}}=p.getNext();if(!t.isPrefixOf(v.path))break;v.path.length>t.length+1||w.readTime.compareTo(r)<=0||(a=a.insert(w.key,w.mutableCopy()))}return Ce.resolve(a)}_i(e,t){return Ce.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new WE(this)}getSize(e){return Ce.resolve(this.size)}}class WE extends Oo{constructor(e){super(),this.Tn=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.Tn.addEntry(e,a)):this.Tn.removeEntry(r)}),Ce.waitFor(t)}getFromCache(e,t){return this.Tn.getEntry(e,t)}getAllFromCache(e,t){return this.Tn.getEntries(e,t)}}class KE{constructor(e){this.persistence=e,this.wi=new Ql(t=>Fh(t),$m),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.mi=0,this.gi=new Cy,this.targetCount=0,this.yi=oi.He()}forEachTarget(e,t){return this.wi.forEach((r,a)=>t(a)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.mi)}allocateTargetId(e){return this.highestTargetId=this.yi.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.mi&&(this.mi=t),Ce.resolve()}Ze(e){this.wi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.yi=new oi(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}addTargetData(e,t){return this.Ze(t),this.targetCount+=1,Ce.resolve()}updateTargetData(e,t){return this.Ze(t),Ce.resolve()}removeTargetData(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.wi.forEach((p,v)=>{v.sequenceNumber<=t&&null===r.get(v.targetId)&&(this.wi.delete(p),l.push(this.removeMatchingKeysForTargetId(e,v.targetId)),a++)}),Ce.waitFor(l).next(()=>a)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.wi.get(t)||null;return Ce.resolve(r)}addMatchingKeys(e,t,r){return this.gi.ti(t,r),Ce.resolve()}removeMatchingKeys(e,t,r){this.gi.ni(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(p=>{l.push(a.markPotentiallyOrphaned(e,p))}),Ce.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.gi.si(t),Ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this.gi.ri(t);return Ce.resolve(r)}containsKey(e,t){return Ce.resolve(this.gi.containsKey(t))}}class ZE{constructor(e,t){this.pi={},this.overlays={},this.Nn=new Fs(0),this.xn=!1,this.xn=!0,this.referenceDelegate=e(this),this.Un=new KE(this),this.indexManager=new Lw,this.qn=new ub(r=>this.referenceDelegate.Ii(r)),this.O=new xw(t),this.Kn=new Xw(this.O)}start(){return Promise.resolve()}shutdown(){return this.xn=!1,Promise.resolve()}get started(){return this.xn}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Td,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.pi[e.toKey()];return r||(r=new zE(t,this.referenceDelegate),this.pi[e.toKey()]=r),r}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getBundleCache(){return this.Kn}runTransaction(e,t,r){qe("MemoryPersistence","Starting transaction:",e);const a=new Dy(this.Nn.next());return this.referenceDelegate.Ei(),r(a).next(l=>this.referenceDelegate.Ti(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ai(e,t){return Ce.or(Object.values(this.pi).map(r=>()=>r.containsKey(e,t)))}}class Dy extends DE{constructor(e){super(),this.currentSequenceNumber=e}}class QE{constructor(e){this.persistence=e,this.Ri=new Cy,this.Pi=null}static bi(e){return new QE(e)}get vi(){if(this.Pi)return this.Pi;throw yt()}addReference(e,t,r){return this.Ri.addReference(r,t),this.vi.delete(r.toString()),Ce.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.vi.add(r.toString()),Ce.resolve()}markPotentiallyOrphaned(e,t){return this.vi.add(t.toString()),Ce.resolve()}removeTarget(e,t){this.Ri.si(t.targetId).forEach(a=>this.vi.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.vi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Pi=new Set}Ti(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.vi,r=>{const a=at.fromPath(r);return this.Vi(e,a).next(l=>{l||t.removeEntry(a,At.min())})}).next(()=>(this.Pi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Vi(e,t).next(r=>{r?this.vi.delete(t.toString()):this.vi.add(t.toString())})}Ii(e){return 0}Vi(e,t){return Ce.or([()=>Ce.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}function eC(n,e){return`firestore_clients_${n}_${e}`}function lb(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function tC(n,e){return`firestore_targets_${n}_${e}`}class YE{constructor(e,t,r,a){this.user=e,this.batchId=t,this.state=r,this.error=a}static Si(e,t,r){const a=JSON.parse(r);let l,p="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(l=new Ue(a.error.code,a.error.message))),p?new YE(e,t,a.state,l):(gr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Kp{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Si(e,t){const r=JSON.parse(t);let a,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(a=new Ue(r.error.code,r.error.message))),l?new Kp(e,r.state,a):(gr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class by{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Si(e,t){const r=JSON.parse(t);let a="object"==typeof r&&r.activeTargetIds instanceof Array,l=jl();for(let p=0;a&&p<r.activeTargetIds.length;++p)a=OD(r.activeTargetIds[p]),l=l.add(r.activeTargetIds[p]);return a?new by(e,l):(gr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Ty{constructor(e,t){this.clientId=e,this.onlineState=t}static Si(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Ty(t.clientId,t.onlineState):(gr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class JE{constructor(){this.activeTargetIds=jl()}Ci(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ni(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Di(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Sy{constructor(e,t,r,a,l){this.window=e,this.Sn=t,this.persistenceKey=r,this.xi=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new _r(en),this.started=!1,this.$i=[];const p=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Fi=eC(this.persistenceKey,this.xi),this.Bi=`firestore_sequence_number_${this.persistenceKey}`,this.Mi=this.Mi.insert(this.xi,new JE),this.Li=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.Ui=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.qi=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.Ki=`firestore_online_state_${this.persistenceKey}`,this.Gi=function(v){return`firestore_bundle_loaded_${v}`}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}static Vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const t=yield e.syncEngine.ds();for(const a of t){if(a===e.xi)continue;const l=e.getItem(eC(e.persistenceKey,a));if(l){const p=by.Si(a,l);p&&(e.Mi=e.Mi.insert(p.clientId,p))}}e.ji();const r=e.storage.getItem(e.Ki);if(r){const a=e.Qi(r);a&&e.Wi(a)}for(const a of e.$i)e.Oi(a);e.$i=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Bi,JSON.stringify(e))}getAllActiveQueryTargets(){return this.zi(this.Mi)}isActiveQueryTarget(e){let t=!1;return this.Mi.forEach((r,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Hi(e,"pending")}updateMutationState(e,t,r){this.Hi(e,t,r),this.Ji(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(tC(this.persistenceKey,e));if(r){const a=Kp.Si(e,r);a&&(t=a.state)}}return this.Yi.Ci(e),this.ji(),t}removeLocalQueryTarget(e){this.Yi.Ni(e),this.ji()}isLocalQueryTarget(e){return this.Yi.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(tC(this.persistenceKey,e))}updateQueryState(e,t,r){this.Xi(e,t,r)}handleUserChange(e,t,r){t.forEach(a=>{this.Ji(a)}),this.currentUser=e,r.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Zi(e)}notifyBundleLoaded(){this.tr()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return qe("SharedClientState","READ",e,t),t}setItem(e,t){qe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){qe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Oi(e){var t=this;const r=e;if(r.storageArea===this.storage){if(qe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Fi)return void gr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable((0,we.Z)(function*(){if(t.started){if(null!==r.key)if(t.Li.test(r.key)){if(null==r.newValue){const a=t.er(r.key);return t.nr(a,null)}{const a=t.sr(r.key,r.newValue);if(a)return t.nr(a.clientId,a)}}else if(t.Ui.test(r.key)){if(null!==r.newValue){const a=t.ir(r.key,r.newValue);if(a)return t.rr(a)}}else if(t.qi.test(r.key)){if(null!==r.newValue){const a=t.cr(r.key,r.newValue);if(a)return t.ur(a)}}else if(r.key===t.Ki){if(null!==r.newValue){const a=t.Qi(r.newValue);if(a)return t.Wi(a)}}else if(r.key===t.Bi){const a=function(l){let p=Fs.A;if(null!=l)try{const v=JSON.parse(l);Nt("number"==typeof v),p=v}catch(v){gr("SharedClientState","Failed to read sequence number from WebStorage",v)}return p}(r.newValue);a!==Fs.A&&t.sequenceNumberHandler(a)}else if(r.key===t.Gi)return t.syncEngine.ar()}else t.$i.push(r)}))}}get Yi(){return this.Mi.get(this.xi)}ji(){this.setItem(this.Fi,this.Yi.Di())}Hi(e,t,r){const a=new YE(this.currentUser,e,t,r),l=lb(this.persistenceKey,this.currentUser,e);this.setItem(l,a.Di())}Ji(e){const t=lb(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Zi(e){this.storage.setItem(this.Ki,JSON.stringify({clientId:this.xi,onlineState:e}))}Xi(e,t,r){const a=tC(this.persistenceKey,e),l=new Kp(e,t,r);this.setItem(a,l.Di())}tr(){this.setItem(this.Gi,"value-not-used")}er(e){const t=this.Li.exec(e);return t?t[1]:null}sr(e,t){const r=this.er(e);return by.Si(r,t)}ir(e,t){const r=this.Ui.exec(e),a=Number(r[1]);return YE.Si(new Xr(void 0!==r[2]?r[2]:null),a,t)}cr(e,t){const r=this.qi.exec(e),a=Number(r[1]);return Kp.Si(a,t)}Qi(e){return Ty.Si(e)}rr(e){var t=this;return(0,we.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.hr(e.batchId,e.state,e.error);qe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}ur(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}nr(e,t){const r=t?this.Mi.insert(e,t):this.Mi.remove(e),a=this.zi(this.Mi),l=this.zi(r),p=[],v=[];return l.forEach(w=>{a.has(w)||p.push(w)}),a.forEach(w=>{l.has(w)||v.push(w)}),this.syncEngine.dr(p,v).then(()=>{this.Mi=r})}Wi(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}zi(e){let t=jl();return e.forEach((r,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class nC{constructor(){this._r=new JE,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this._r.Ci(e),this.wr[e]||"not-current"}updateQueryState(e,t,r){this.wr[e]=t}removeLocalQueryTarget(e){this._r.Ni(e)}isLocalQueryTarget(e){return this._r.activeTargetIds.has(e)}clearQueryState(e){delete this.wr[e]}getAllActiveQueryTargets(){return this._r.activeTargetIds}isActiveQueryTarget(e){return this._r.activeTargetIds.has(e)}start(){return this._r=new JE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class cb{mr(e){}shutdown(){}}class XE{constructor(){this.gr=()=>this.yr(),this.pr=()=>this.Ir(),this.Er=[],this.Tr()}mr(e){this.Er.push(e)}shutdown(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}Tr(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}yr(){qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Er)e(0)}Ir(){qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Er)e(1)}static Vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const rC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class iC{constructor(e){this.Ar=e.Ar,this.Rr=e.Rr}Pr(e){this.br=e}vr(e){this.Vr=e}onMessage(e){this.Sr=e}close(){this.Rr()}send(e){this.Ar(e)}Dr(){this.br()}Cr(e){this.Vr(e)}Nr(e){this.Sr(e)}}class db extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.kr=(e.ssl?"https":"http")+"://"+e.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Mr(e,t,r,a,l){const p=this.$r(e,t);qe("RestConnection","Sending: ",p,r);const v={};return this.Fr(v,a,l),this.Br(e,p,v,r).then(w=>(qe("RestConnection","Received: ",w),w),w=>{throw Sp("RestConnection",`${e} failed with error: `,w,"url: ",p,"request:",r),w})}Lr(e,t,r,a,l){return this.Mr(e,t,r,a,l)}Fr(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ro,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),r&&r.headers.forEach((a,l)=>e[l]=a)}$r(e,t){return`${this.kr}/v1/${t}:${rC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Br(e,t,r,a){return new Promise((l,p)=>{const v=new H_;v.listenOnce(j_.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Tp.NO_ERROR:const x=v.getResponseJson();qe("Connection","XHR received:",JSON.stringify(x)),l(x);break;case Tp.TIMEOUT:qe("Connection",'RPC "'+e+'" timed out'),p(new Ue(ve.DEADLINE_EXCEEDED,"Request time out"));break;case Tp.HTTP_ERROR:const L=v.getStatus();if(qe("Connection",'RPC "'+e+'" failed with status:',L,"response text:",v.getResponseText()),L>0){const j=v.getResponseJson().error;if(j&&j.status&&j.message){const J=function(ye){const Le=ye.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(Le)>=0?Le:ve.UNKNOWN}(j.status);p(new Ue(J,j.message))}else p(new Ue(ve.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new Ue(ve.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{qe("Connection",'RPC "'+e+'" completed.')}});const w=JSON.stringify(a);v.send(t,"POST",w,r,15)})}Ur(e,t,r){const a=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=V_(),p=U_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(v.xmlHttpFactory=new $_({})),this.Fr(v.initMessageHeaders,t,r),(0,Lt.uI)()||(0,Lt.b$)()||(0,Lt.d)()||(0,Lt.w1)()||(0,Lt.Mn)()||(0,Lt.ru)()||(v.httpHeadersOverwriteParam="$httpHeaders");const w=a.join("");qe("Connection","Creating WebChannel: "+w,v);const x=l.createWebChannel(w,v);let L=!1,j=!1;const J=new iC({Ar:Le=>{j?qe("Connection","Not sending because WebChannel is closed:",Le):(L||(qe("Connection","Opening WebChannel transport."),x.open(),L=!0),qe("Connection","WebChannel sending:",Le),x.send(Le))},Rr:()=>x.close()}),ye=(Le,tt,It)=>{Le.listen(tt,cn=>{try{It(cn)}catch(lr){setTimeout(()=>{throw lr},0)}})};return ye(x,Sh.EventType.OPEN,()=>{j||qe("Connection","WebChannel transport opened.")}),ye(x,Sh.EventType.CLOSE,()=>{j||(j=!0,qe("Connection","WebChannel transport closed"),J.Cr())}),ye(x,Sh.EventType.ERROR,Le=>{j||(j=!0,Sp("Connection","WebChannel transport errored:",Le),J.Cr(new Ue(ve.UNAVAILABLE,"The operation could not be completed")))}),ye(x,Sh.EventType.MESSAGE,Le=>{var tt;if(!j){const It=Le.data[0];Nt(!!It);const cn=It,lr=cn.error||(null===(tt=cn[0])||void 0===tt?void 0:tt.error);if(lr){qe("Connection","WebChannel received error:",lr);const Sr=lr.status;let dn=function(Vu){const MC=ti[Vu];if(void 0!==MC)return GD(MC)}(Sr),qr=lr.message;void 0===dn&&(dn=ve.INTERNAL,qr="Unknown error status: "+Sr+" with message "+lr.message),j=!0,J.Cr(new Ue(dn,qr)),x.close()}else qe("Connection","WebChannel received:",It),J.Nr(It)}}),ye(p,B_.STAT_EVENT,Le=>{Le.stat===Mm.PROXY?qe("Connection","Detected buffering proxy"):Le.stat===Mm.NOPROXY&&qe("Connection","Detected no buffering proxy")}),setTimeout(()=>{J.Dr()},0),J}}function sC(){return"undefined"!=typeof window?window:null}function Zp(){return"undefined"!=typeof document?document:null}function Yl(n){return new mw(n,!0)}class oC{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Sn=e,this.timerId=t,this.qr=r,this.Kr=a,this.Gr=l,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}reset(){this.jr=0}zr(){this.jr=this.Gr}Hr(e){this.cancel();const t=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),a=Math.max(0,t-r);a>0&&qe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.jr} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,a,()=>(this.Wr=Date.now(),e())),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}Yr(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}cancel(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}Jr(){return(Math.random()-.5)*this.jr}}class e0{constructor(e,t,r,a,l,p,v,w){this.Sn=e,this.Xr=r,this.Zr=a,this.eo=l,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=v,this.listener=w,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new oC(e,t)}oo(){return 1===this.state||5===this.state||this.co()}co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.uo()}stop(){var e=this;return(0,we.Z)(function*(){e.oo()&&(yield e.close(0))})()}ao(){this.state=0,this.ro.reset()}ho(){this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,()=>this.lo()))}fo(e){this._o(),this.stream.send(e)}lo(){var e=this;return(0,we.Z)(function*(){if(e.co())return e.close(0)})()}_o(){this.so&&(this.so.cancel(),this.so=null)}wo(){this.io&&(this.io.cancel(),this.io=null)}close(e,t){var r=this;return(0,we.Z)(function*(){r._o(),r.wo(),r.ro.cancel(),r.no++,4!==e?r.ro.reset():t&&t.code===ve.RESOURCE_EXHAUSTED?(gr(t.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),r.ro.zr()):t&&t.code===ve.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.mo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.vr(t)})()}mo(){}auth(){this.state=1;const e=this.yo(this.no),t=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.no===t&&this.po(r,a)},r=>{e(()=>{const a=new Ue(ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Io(a)})})}po(e,t){const r=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr(()=>{r(()=>(this.state=2,this.io=this.Sn.enqueueAfterDelay(this.Zr,1e4,()=>(this.co()&&(this.state=3),Promise.resolve())),this.listener.Pr()))}),this.stream.vr(a=>{r(()=>this.Io(a))}),this.stream.onMessage(a=>{r(()=>this.onMessage(a))})}uo(){var e=this;this.state=5,this.ro.Hr((0,we.Z)(function*(){e.state=0,e.start()}))}Io(e){return qe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}yo(e){return t=>{this.Sn.enqueueAndForget(()=>this.no===e?t():(qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ay extends e0{constructor(e,t,r,a,l,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,p),this.O=l}Eo(e,t){return this.eo.Ur("Listen",e,t)}onMessage(e){this.ro.reset();const t=function ww(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:yt(),a=e.targetChange.targetIds||[],l=function(w,x){return w.N?(Nt(void 0===x||"string"==typeof x),ei.fromBase64String(x||"")):(Nt(void 0===x||x instanceof Uint8Array),ei.fromUint8Array(x||new Uint8Array))}(n,e.targetChange.resumeToken),p=e.targetChange.cause,v=p&&function(w){const x=void 0===w.code?ve.UNKNOWN:GD(w.code);return new Ue(x,w.message||"")}(p);t=new cE(r,a,l,v||null)}else if("documentChange"in e){const r=e.documentChange,a=Ga(n,r.document.name),l=kn(r.document.updateTime),p=new Hi({mapValue:{fields:r.document.fields}}),v=sr.newFoundDocument(a,l,p);t=new Lp(r.targetIds||[],r.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const r=e.documentDelete,a=Ga(n,r.document),l=r.readTime?kn(r.readTime):At.min(),p=sr.newNoDocument(a,l);t=new Lp([],r.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const r=e.documentRemove,a=Ga(n,r.document);t=new Lp([],r.removedTargetIds||[],a,null)}else{if(!("filter"in e))return yt();{const r=e.filter,l=new Bh(r.count||0);t=new lE(r.targetId,l)}}var w;return t}(this.O,e),r=function(a){if(!("targetChange"in a))return At.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?At.min():l.readTime?kn(l.readTime):At.min()}(e);return this.listener.To(t,r)}Ao(e){const t={};t.database=Bl(this.O),t.addTarget=function(a,l){let p;const v=l.target;return p=Hm(v)?{documents:Cw(a,v)}:{query:WD(a,v)},p.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?p.resumeToken=yw(a,l.resumeToken):l.snapshotVersion.compareTo(At.min())>0&&(p.readTime=Nu(a,l.snapshotVersion.toTimestamp())),p}(this.O,e);const r=function yE(n,e){const t=function(r,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return yt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.fo(t)}Ro(e){const t={};t.database=Bl(this.O),t.removeTarget=e,this.fo(t)}}class hb extends e0{constructor(e,t,r,a,l,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,p),this.O=l,this.Po=!1}get bo(){return this.Po}start(){this.Po=!1,this.lastStreamToken=void 0,super.start()}mo(){this.Po&&this.vo([])}Eo(e,t){return this.eo.Ur("Write",e,t)}onMessage(e){if(Nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();const t=function zD(n,e){return n&&n.length>0?(Nt(void 0!==e),n.map(t=>function(r,a){let l=kn(r.updateTime?r.updateTime:a);return l.isEqual(At.min())&&(l=kn(a)),new Qm(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=kn(e.commitTime);return this.listener.Vo(r,t)}return Nt(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}Do(){const e={};e.database=Bl(this.O),this.fo(e)}vo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>md(this.O,r))};this.fo(t)}}class fb extends class{}{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.eo=r,this.O=a,this.Co=!1}No(){if(this.Co)throw new Ue(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Mr(e,t,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.eo.Mr(e,t,r,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ue(ve.UNKNOWN,a.toString())})}Lr(e,t,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.eo.Lr(e,t,r,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ue(ve.UNKNOWN,a.toString())})}terminate(){this.Co=!0}}class aC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}Mo(){0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ko=null,this.Fo("Backend didn't respond within 10 seconds."),this.$o("Offline"),Promise.resolve())))}Bo(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.$o("Offline")))}set(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}$o(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Fo(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Oo?(gr(t),this.Oo=!1):qe("OnlineStateTracker",t)}Lo(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}class uC{constructor(e,t,r,a,l){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=l,this.jo.mr(v=>{r.enqueueAndForget((0,we.Z)(function*(){var w;Jl(p)&&(qe("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,we.Z)(function*(x){const L=et(x);L.Ko.add(4),yield Yh(L),L.Qo.set("Unknown"),L.Ko.delete(4),yield My(L)}),function(x){return w.apply(this,arguments)})(p))}))}),this.Qo=new aC(r,a)}}function My(n){return t0.apply(this,arguments)}function t0(){return t0=(0,we.Z)(function*(n){if(Jl(n))for(const e of n.Go)yield e(!0)}),t0.apply(this,arguments)}function Yh(n){return n0.apply(this,arguments)}function n0(){return n0=(0,we.Z)(function*(n){for(const e of n.Go)yield e(!1)}),n0.apply(this,arguments)}function xy(n,e){const t=et(n);t.qo.has(e.targetId)||(t.qo.set(e.targetId,e),o0(t)?s0(t):jt(t).co()&&r0(t,e))}function Qp(n,e){const t=et(n),r=jt(t);t.qo.delete(e),r.co()&&lC(t,e),0===t.qo.size&&(r.co()?r.ho():Jl(t)&&t.Qo.set("Unknown"))}function r0(n,e){n.Wo.Z(e.targetId),jt(n).Ao(e)}function lC(n,e){n.Wo.Z(e),jt(n).Ro(e)}function s0(n){n.Wo=new qD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.qo.get(e)||null}),jt(n).start(),n.Qo.Mo()}function o0(n){return Jl(n)&&!jt(n).oo()&&n.qo.size>0}function Jl(n){return 0===et(n).Ko.size}function cC(n){n.Wo=void 0}function pb(n){return a0.apply(this,arguments)}function a0(){return a0=(0,we.Z)(function*(n){n.qo.forEach((e,t)=>{r0(n,e)})}),a0.apply(this,arguments)}function gb(n,e){return u0.apply(this,arguments)}function u0(){return u0=(0,we.Z)(function*(n,e){cC(n),o0(n)?(n.Qo.Bo(e),s0(n)):n.Qo.set("Unknown")}),u0.apply(this,arguments)}function mb(n,e,t){return l0.apply(this,arguments)}function l0(){return l0=(0,we.Z)(function*(n,e,t){if(n.Qo.set("Online"),e instanceof cE&&2===e.state&&e.cause)try{yield(r=(0,we.Z)(function*(a,l){const p=l.cause;for(const v of l.targetIds)a.qo.has(v)&&(yield a.remoteSyncer.rejectListen(v,p),a.qo.delete(v),a.Wo.removeTarget(v))}),function(a,l){return r.apply(this,arguments)})(n,e)}catch(r){qe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ry(n,r)}else if(e instanceof Lp?n.Wo.ct(e):e instanceof lE?n.Wo._t(e):n.Wo.ht(e),!t.isEqual(At.min()))try{const r=yield Zw(n.localStore);t.compareTo(r)>=0&&(yield function(a,l){const p=a.Wo.yt(l);return p.targetChanges.forEach((v,w)=>{if(v.resumeToken.approximateByteSize()>0){const x=a.qo.get(w);x&&a.qo.set(w,x.withResumeToken(v.resumeToken,l))}}),p.targetMismatches.forEach(v=>{const w=a.qo.get(v);if(!w)return;a.qo.set(v,w.withResumeToken(ei.EMPTY_BYTE_STRING,w.snapshotVersion)),lC(a,v);const x=new Hl(w.target,v,1,w.sequenceNumber);r0(a,x)}),a.remoteSyncer.applyRemoteEvent(p)}(n,t))}catch(r){qe("RemoteStore","Failed to raise snapshot:",r),yield Ry(n,r)}var r}),l0.apply(this,arguments)}function Ry(n,e,t){return i.apply(this,arguments)}function i(){return i=(0,we.Z)(function*(n,e,t){if(!Fu(e))throw e;n.Ko.add(1),yield Yh(n),n.Qo.set("Offline"),t||(t=()=>Zw(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){qe("RemoteStore","Retrying IndexedDB access"),yield t(),n.Ko.delete(1),yield My(n)}))}),i.apply(this,arguments)}function s(n,e){return e().catch(t=>Ry(n,t,e))}function o(n){return u.apply(this,arguments)}function u(){return u=(0,we.Z)(function*(n){const e=et(n),t=Jt(e);let r=e.Uo.length>0?e.Uo[e.Uo.length-1].batchId:-1;for(;c(e);)try{const a=yield Yw(e.localStore,r);if(null===a){0===e.Uo.length&&t.ho();break}r=a.batchId,g(e,a)}catch(a){yield Ry(e,a)}y(e)&&E(e)}),u.apply(this,arguments)}function c(n){return Jl(n)&&n.Uo.length<10}function g(n,e){n.Uo.push(e);const t=Jt(n);t.co()&&t.bo&&t.vo(e.mutations)}function y(n){return Jl(n)&&!Jt(n).oo()&&n.Uo.length>0}function E(n){Jt(n).start()}function C(n){return M.apply(this,arguments)}function M(){return M=(0,we.Z)(function*(n){Jt(n).Do()}),M.apply(this,arguments)}function O(n){return U.apply(this,arguments)}function U(){return U=(0,we.Z)(function*(n){const e=Jt(n);for(const t of n.Uo)e.vo(t.mutations)}),U.apply(this,arguments)}function K(n,e,t){return ee.apply(this,arguments)}function ee(){return ee=(0,we.Z)(function*(n,e,t){const r=n.Uo.shift(),a=sy.from(r,e,t);yield s(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield o(n)}),ee.apply(this,arguments)}function Se(n,e){return Ge.apply(this,arguments)}function Ge(){return Ge=(0,we.Z)(function*(n,e){var t;e&&Jt(n).bo&&(yield(t=(0,we.Z)(function*(r,a){if(aE(l=a.code)&&l!==ve.ABORTED){const p=r.Uo.shift();Jt(r).ao(),yield s(r,()=>r.remoteSyncer.rejectFailedWrite(p.batchId,a)),yield o(r)}var l}),function(r,a){return t.apply(this,arguments)})(n,e)),y(n)&&E(n)}),Ge.apply(this,arguments)}function Ze(n,e){return st.apply(this,arguments)}function st(){return st=(0,we.Z)(function*(n,e){const t=et(n);t.asyncQueue.verifyOperationInProgress(),qe("RemoteStore","RemoteStore received new credentials");const r=Jl(t);t.Ko.add(3),yield Yh(t),r&&t.Qo.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ko.delete(3),yield My(t)}),st.apply(this,arguments)}function Ne(n,e){return Dt.apply(this,arguments)}function Dt(){return Dt=(0,we.Z)(function*(n,e){const t=et(n);e?(t.Ko.delete(2),yield My(t)):e||(t.Ko.add(2),yield Yh(t),t.Qo.set("Unknown"))}),Dt.apply(this,arguments)}function jt(n){return n.zo||(n.zo=function(e,t,r){const a=et(e);return a.No(),new Ay(t,a.eo,a.authCredentials,a.appCheckCredentials,a.O,r)}(n.datastore,n.asyncQueue,{Pr:pb.bind(null,n),vr:gb.bind(null,n),To:mb.bind(null,n)}),n.Go.push(function(){var e=(0,we.Z)(function*(t){t?(n.zo.ao(),o0(n)?s0(n):n.Qo.set("Unknown")):(yield n.zo.stop(),cC(n))});return function(t){return e.apply(this,arguments)}}())),n.zo}function Jt(n){return n.Ho||(n.Ho=function(e,t,r){const a=et(e);return a.No(),new hb(t,a.eo,a.authCredentials,a.appCheckCredentials,a.O,r)}(n.datastore,n.asyncQueue,{Pr:C.bind(null,n),vr:Se.bind(null,n),So:O.bind(null,n),Vo:K.bind(null,n)}),n.Go.push(function(){var e=(0,we.Z)(function*(t){t?(n.Ho.ao(),yield o(n)):(yield n.Ho.stop(),n.Uo.length>0&&(qe("RemoteStore",`Stopping write stream with ${n.Uo.length} pending writes`),n.Uo=[]))});return function(t){return e.apply(this,arguments)}}())),n.Ho}class ls{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,r,a,l){const p=Date.now()+r,v=new ls(e,t,p,a,l);return v.start(r),v}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ue(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function No(n,e){if(gr("AsyncQueue",`${e}: ${n}`),Fu(n))return new Ue(ve.UNAVAILABLE,`${e}: ${n}`);throw n}class Xl{constructor(e){this.comparator=e?(t,r)=>e(t,r)||at.comparator(t.key,r.key):(t,r)=>at.comparator(t.key,r.key),this.keyedMap=ty(),this.sortedSet=new _r(this.comparator)}static emptySet(e){return new Xl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Xl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Oy{constructor(){this.Jo=new _r(at.comparator)}track(e){const t=e.doc.key,r=this.Jo.get(t);r?0!==e.type&&3===r.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==r.type?this.Jo=this.Jo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Jo=this.Jo.remove(t):1===e.type&&2===r.type?this.Jo=this.Jo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):yt():this.Jo=this.Jo.insert(t,e)}Yo(){const e=[];return this.Jo.inorderTraversal((t,r)=>{e.push(r)}),e}}class ec{constructor(e,t,r,a,l,p,v,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=p,this.syncStateChanged=v,this.excludesMetadataChanges=w}static fromInitialDocuments(e,t,r,a){const l=[];return t.forEach(p=>{l.push({type:0,doc:p})}),new ec(e,t,Xl.emptySet(t),l,r,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class c0{constructor(){this.Xo=void 0,this.listeners=[]}}class d0{constructor(){this.queries=new Ql(e=>zm(e),kp),this.onlineState="Unknown",this.Zo=new Set}}function Yp(n,e){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,we.Z)(function*(n,e){const t=et(n),r=e.query;let a=!1,l=t.queries.get(r);if(l||(a=!0,l=new c0),a)try{l.Xo=yield t.onListen(r)}catch(p){const v=No(p,`Initialization of query '${tE(e.query)}' failed`);return void e.onError(v)}t.queries.set(r,l),l.listeners.push(e),e.tc(t.onlineState),l.Xo&&e.ec(l.Xo)&&yb(t)}),Jp.apply(this,arguments)}function Xp(n,e){return eg.apply(this,arguments)}function eg(){return eg=(0,we.Z)(function*(n,e){const t=et(n),r=e.query;let a=!1;const l=t.queries.get(r);if(l){const p=l.listeners.indexOf(e);p>=0&&(l.listeners.splice(p,1),a=0===l.listeners.length)}if(a)return t.queries.delete(r),t.onUnlisten(r)}),eg.apply(this,arguments)}function GS(n,e){const t=et(n);let r=!1;for(const a of e){const p=t.queries.get(a.query);if(p){for(const v of p.listeners)v.ec(a)&&(r=!0);p.Xo=a}}r&&yb(t)}function qS(n,e,t){const r=et(n),a=r.queries.get(e);if(a)for(const l of a.listeners)l.onError(t);r.queries.delete(e)}function yb(n){n.Zo.forEach(e=>{e.next()})}class vb{constructor(e,t,r){this.query=e,this.nc=t,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}ec(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)3!==a.type&&r.push(a);e=new ec(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.sc?this.rc(e)&&(this.nc.next(e),t=!0):this.oc(e,this.onlineState)&&(this.cc(e),t=!0),this.ic=e,t}onError(e){this.nc.error(e)}tc(e){this.onlineState=e;let t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}oc(e,t){return!e.fromCache||!(this.options.uc&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}rc(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}cc(e){e=ec.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}class zS{constructor(e,t){this.payload=e,this.byteLength=t}ac(){return"metadata"in this.payload}}class MT{constructor(e){this.O=e}Gs(e){return Ga(this.O,e)}js(e){return e.metadata.exists?Ew(this.O,e.document,!1):sr.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}Qs(e){return kn(e)}}class WS{constructor(e,t,r){this.hc=e,this.localStore=t,this.O=r,this.queries=[],this.documents=[],this.progress=xT(e)}lc(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}fc(e){const t=new Map,r=new MT(this.O);for(const a of e)if(a.metadata.queries){const l=r.Gs(a.metadata.name);for(const p of a.metadata.queries){const v=(t.get(p)||wn()).add(l);t.set(p,v)}}return t}complete(){var e=this;return(0,we.Z)(function*(){const t=yield function GE(n,e,t,r){return bd.apply(this,arguments)}(e.localStore,new MT(e.O),e.documents,e.hc.id),r=e.fc(e.documents);for(const a of e.queries)yield ab(e.localStore,a,r.get(a.name));return e.progress.taskState="Success",new nb(Object.assign({},e.progress),t)})()}}function xT(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class RT{constructor(e){this.key=e}}class OT{constructor(e){this.key=e}}class NT{constructor(e,t){this.query=e,this.dc=t,this._c=null,this.current=!1,this.wc=wn(),this.mutatedKeys=wn(),this.mc=nE(e),this.gc=new Xl(this.mc)}get yc(){return this.dc}Ic(e,t){const r=t?t.Ec:new Oy,a=t?t.gc:this.gc;let l=t?t.mutatedKeys:this.mutatedKeys,p=a,v=!1;const w=Rp(this.query)&&a.size===this.query.limit?a.last():null,x=Op(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((L,j)=>{const J=a.get(L),ye=Wm(this.query,j)?j:null,Le=!!J&&this.mutatedKeys.has(J.key),tt=!!ye&&(ye.hasLocalMutations||this.mutatedKeys.has(ye.key)&&ye.hasCommittedMutations);let It=!1;J&&ye?J.data.isEqual(ye.data)?Le!==tt&&(r.track({type:3,doc:ye}),It=!0):this.Tc(J,ye)||(r.track({type:2,doc:ye}),It=!0,(w&&this.mc(ye,w)>0||x&&this.mc(ye,x)<0)&&(v=!0)):!J&&ye?(r.track({type:0,doc:ye}),It=!0):J&&!ye&&(r.track({type:1,doc:J}),It=!0,(w||x)&&(v=!0)),It&&(ye?(p=p.add(ye),l=tt?l.add(L):l.delete(L)):(p=p.delete(L),l=l.delete(L)))}),Rp(this.query)||Op(this.query))for(;p.size>this.query.limit;){const L=Rp(this.query)?p.last():p.first();p=p.delete(L.key),l=l.delete(L.key),r.track({type:1,doc:L})}return{gc:p,Ec:r,ks:v,mutatedKeys:l}}Tc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const a=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;const l=e.Ec.Yo();l.sort((x,L)=>function(j,J){const ye=Le=>{switch(Le){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return ye(j)-ye(J)}(x.type,L.type)||this.mc(x.doc,L.doc)),this.Ac(r);const p=t?this.Rc():[],v=0===this.wc.size&&this.current?1:0,w=v!==this._c;return this._c=v,0!==l.length||w?{snapshot:new ec(this.query,e.gc,a,l,e.mutatedKeys,0===v,w,!1),Pc:p}:{Pc:p}}tc(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new Oy,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}bc(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}Ac(e){e&&(e.addedDocuments.forEach(t=>this.dc=this.dc.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.dc=this.dc.delete(t)),this.current=e.current)}Rc(){if(!this.current)return[];const e=this.wc;this.wc=wn(),this.gc.forEach(r=>{this.bc(r.key)&&(this.wc=this.wc.add(r.key))});const t=[];return e.forEach(r=>{this.wc.has(r)||t.push(new OT(r))}),this.wc.forEach(r=>{e.has(r)||t.push(new RT(r))}),t}vc(e){this.dc=e.Ks,this.wc=wn();const t=this.Ic(e.documents);return this.applyChanges(t,!0)}Vc(){return ec.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}class KS{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ZS{constructor(e){this.key=e,this.Sc=!1}}class QS{constructor(e,t,r,a,l,p){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=p,this.Dc={},this.Cc=new Ql(v=>zm(v),kp),this.Nc=new Map,this.xc=new Set,this.kc=new _r(at.comparator),this.Oc=new Map,this.Mc=new Cy,this.$c={},this.Fc=new Map,this.Bc=oi.Je(),this.onlineState="Unknown",this.Lc=void 0}get isPrimaryClient(){return!0===this.Lc}}function YS(n,e){return _b.apply(this,arguments)}function _b(){return _b=(0,we.Z)(function*(n,e){const t=$b(n);let r,a;const l=t.Cc.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),a=l.view.Vc();else{const p=yield Cd(t.localStore,Ls(e));t.isPrimaryClient&&xy(t.remoteStore,p);const v=t.sharedClientState.addLocalQueryTarget(p.targetId);r=p.targetId,a=yield Eb(t,e,r,"current"===v)}return a}),_b.apply(this,arguments)}function Eb(n,e,t,r){return Ib.apply(this,arguments)}function Ib(){return Ib=(0,we.Z)(function*(n,e,t,r){n.Uc=(L,j,J)=>{return(ye=(0,we.Z)(function*(Le,tt,It,cn){let lr=tt.view.Ic(It);lr.ks&&(lr=yield Wp(Le.localStore,tt.query,!1).then(({documents:qr})=>tt.view.Ic(qr,lr)));const Sr=cn&&cn.targetChanges.get(tt.targetId),dn=tt.view.applyChanges(lr,Le.isPrimaryClient,Sr);return Rb(Le,tt.targetId,dn.Pc),dn.snapshot}),function(Le,tt,It,cn){return ye.apply(this,arguments)})(n,L,j,J);var ye};const a=yield Wp(n.localStore,e,!0),l=new NT(e,a.Ks),p=l.Ic(a.documents),v=Hh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),w=l.applyChanges(p,n.isPrimaryClient,v);Rb(n,t,w.Pc);const x=new KS(e,t,l);return n.Cc.set(e,x),n.Nc.has(t)?n.Nc.get(t).push(e):n.Nc.set(t,[e]),w.snapshot}),Ib.apply(this,arguments)}function JS(n,e){return wb.apply(this,arguments)}function wb(){return wb=(0,we.Z)(function*(n,e){const t=et(n),r=t.Cc.get(e),a=t.Nc.get(r.targetId);if(a.length>1)return t.Nc.set(r.targetId,a.filter(l=>!kp(l,e))),void t.Cc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Dd(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Qp(t.remoteStore,r.targetId),Ny(t,r.targetId)}).catch(Lu))):(Ny(t,r.targetId),yield Dd(t.localStore,r.targetId,!0))}),wb.apply(this,arguments)}function Cb(){return Cb=(0,we.Z)(function*(n,e,t){const r=Hb(n);try{const a=yield function(l,p){const v=et(l),w=vr.now(),x=p.reduce((j,J)=>j.add(J.key),wn());let L;return v.persistence.runTransaction("Locally write mutations","readwrite",j=>v.Us.Es(j,x).next(J=>{L=J;const ye=[];for(const Le of p){const tt=$D(Le,L.get(Le.key));null!=tt&&ye.push(new pd(Le.key,tt,Q_(tt.value.mapValue),or.exists(!0)))}return v.gs.addMutationBatch(j,w,ye,p)})).then(j=>(j.applyToLocalDocumentSet(L),{batchId:j.batchId,changes:L}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(l,p,v){let w=l.$c[l.currentUser.toKey()];w||(w=new _r(en)),w=w.insert(p,v),l.$c[l.currentUser.toKey()]=w}(r,a.batchId,t),yield Sd(r,a.changes),yield o(r.remoteStore)}catch(a){const l=No(a,"Failed to persist write");t.reject(l)}}),Cb.apply(this,arguments)}function PT(n,e){return Db.apply(this,arguments)}function Db(){return Db=(0,we.Z)(function*(n,e){const t=et(n);try{const r=yield ib(t.localStore,e);e.targetChanges.forEach((a,l)=>{const p=t.Oc.get(l);p&&(Nt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.Sc=!0:a.modifiedDocuments.size>0?Nt(p.Sc):a.removedDocuments.size>0&&(Nt(p.Sc),p.Sc=!1))}),yield Sd(t,r,e)}catch(r){yield Lu(r)}}),Db.apply(this,arguments)}function kT(n,e,t){const r=et(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const a=[];r.Cc.forEach((l,p)=>{const v=p.view.tc(e);v.snapshot&&a.push(v.snapshot)}),function(l,p){const v=et(l);v.onlineState=p;let w=!1;v.queries.forEach((x,L)=>{for(const j of L.listeners)j.tc(p)&&(w=!0)}),w&&yb(v)}(r.eventManager,e),a.length&&r.Dc.To(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function eA(n,e,t){return bb.apply(this,arguments)}function bb(){return bb=(0,we.Z)(function*(n,e,t){const r=et(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Oc.get(e),l=a&&a.key;if(l){let p=new _r(at.comparator);p=p.insert(l,sr.newNoDocument(l,At.min()));const v=wn().add(l),w=new $h(At.min(),new Map,new Pn(en),p,v);yield PT(r,w),r.kc=r.kc.remove(l),r.Oc.delete(e),Ob(r)}else yield Dd(r.localStore,e,!1).then(()=>Ny(r,e,t)).catch(Lu)}),bb.apply(this,arguments)}function tA(n,e){return Tb.apply(this,arguments)}function Tb(){return Tb=(0,we.Z)(function*(n,e){const t=et(n),r=e.batch.batchId;try{const a=yield rb(t.localStore,e);xb(t,r,null),Mb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Sd(t,a)}catch(a){yield Lu(a)}}),Tb.apply(this,arguments)}function nA(n,e,t){return Sb.apply(this,arguments)}function Sb(){return Sb=(0,we.Z)(function*(n,e,t){const r=et(n);try{const a=yield function(l,p){const v=et(l);return v.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let x;return v.gs.lookupMutationBatch(w,p).next(L=>(Nt(null!==L),x=L.keys(),v.gs.removeMutationBatch(w,L))).next(()=>v.gs.performConsistencyCheck(w)).next(()=>v.Us.Es(w,x))})}(r.localStore,e);xb(r,e,t),Mb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Sd(r,a)}catch(a){yield Lu(a)}}),Sb.apply(this,arguments)}function Ab(){return Ab=(0,we.Z)(function*(n,e){const t=et(n);Jl(t.remoteStore)||qe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const p=et(l);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",v=>p.gs.getHighestUnacknowledgedBatchId(v))}(t.localStore);if(-1===r)return void e.resolve();const a=t.Fc.get(r)||[];a.push(e),t.Fc.set(r,a)}catch(r){const a=No(r,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Ab.apply(this,arguments)}function Mb(n,e){(n.Fc.get(e)||[]).forEach(t=>{t.resolve()}),n.Fc.delete(e)}function xb(n,e,t){const r=et(n);let a=r.$c[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.$c[r.currentUser.toKey()]=a}}function Ny(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Nc.get(e))n.Cc.delete(r),t&&n.Dc.qc(r,t);n.Nc.delete(e),n.isPrimaryClient&&n.Mc.si(e).forEach(r=>{n.Mc.containsKey(r)||FT(n,r)})}function FT(n,e){n.xc.delete(e.path.canonicalString());const t=n.kc.get(e);null!==t&&(Qp(n.remoteStore,t),n.kc=n.kc.remove(e),n.Oc.delete(t),Ob(n))}function Rb(n,e,t){for(const r of t)r instanceof RT?(n.Mc.addReference(r.key,e),iA(n,r)):r instanceof OT?(qe("SyncEngine","Document no longer in limbo: "+r.key),n.Mc.removeReference(r.key,e),n.Mc.containsKey(r.key)||FT(n,r.key)):yt()}function iA(n,e){const t=e.key,r=t.path.canonicalString();n.kc.get(t)||n.xc.has(r)||(qe("SyncEngine","New document in limbo: "+t),n.xc.add(r),Ob(n))}function Ob(n){for(;n.xc.size>0&&n.kc.size<n.maxConcurrentLimboResolutions;){const e=n.xc.values().next().value;n.xc.delete(e);const t=new at(fn.fromString(e)),r=n.Bc.next();n.Oc.set(r,new ZS(t)),n.kc=n.kc.insert(t,r),xy(n.remoteStore,new Hl(Ls(Ll(t.path)),r,2,Fs.A))}}function Sd(n,e,t){return Nb.apply(this,arguments)}function Nb(){return Nb=(0,we.Z)(function*(n,e,t){const r=et(n),a=[],l=[],p=[];var v;r.Cc.isEmpty()||(r.Cc.forEach((v,w)=>{p.push(r.Uc(w,e,t).then(x=>{if(x){r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,x.fromCache?"not-current":"current"),a.push(x);const L=wd.Ss(w.targetId,x);l.push(L)}}))}),yield Promise.all(p),r.Dc.To(a),yield(v=(0,we.Z)(function*(w,x){const L=et(w);try{yield L.persistence.runTransaction("notifyLocalViewChanges","readwrite",j=>Ce.forEach(x,J=>Ce.forEach(J.vs,ye=>L.persistence.referenceDelegate.addReference(j,J.targetId,ye)).next(()=>Ce.forEach(J.Vs,ye=>L.persistence.referenceDelegate.removeReference(j,J.targetId,ye)))))}catch(j){if(!Fu(j))throw j;qe("LocalStore","Failed to update sequence numbers: "+j)}for(const j of x){const J=j.targetId;if(!j.fromCache){const ye=L.Ms.get(J),tt=ye.withLastLimboFreeSnapshotVersion(ye.snapshotVersion);L.Ms=L.Ms.insert(J,tt)}}}),function(w,x){return v.apply(this,arguments)})(r.localStore,l))}),Nb.apply(this,arguments)}function sA(n,e){return Pb.apply(this,arguments)}function Pb(){return Pb=(0,we.Z)(function*(n,e){const t=et(n);if(!t.currentUser.isEqual(e)){qe("SyncEngine","User change. New user:",e.toKey());const r=yield BE(t.localStore,e);t.currentUser=e,(a=t).Fc.forEach(p=>{p.forEach(v=>{v.reject(new Ue(ve.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Fc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Sd(t,r.qs)}var a}),Pb.apply(this,arguments)}function oA(n,e){const t=et(n),r=t.Oc.get(e);if(r&&r.Sc)return wn().add(r.key);{let a=wn();const l=t.Nc.get(e);if(!l)return a;for(const p of l){const v=t.Cc.get(p);a=a.unionWith(v.view.yc)}return a}}function aA(n,e){return kb.apply(this,arguments)}function kb(){return kb=(0,we.Z)(function*(n,e){const t=et(n),r=yield Wp(t.localStore,e.query,!0),a=e.view.vc(r);return t.isPrimaryClient&&Rb(t,e.targetId,a.Pc),a}),kb.apply(this,arguments)}function uA(n){return Fb.apply(this,arguments)}function Fb(){return Fb=(0,we.Z)(function*(n){const e=et(n);return sb(e.localStore).then(t=>Sd(e,t))}),Fb.apply(this,arguments)}function lA(n,e,t,r){return Lb.apply(this,arguments)}function Lb(){return Lb=(0,we.Z)(function*(n,e,t,r){const a=et(n),l=yield function(p,v){const w=et(p),x=et(w.gs);return w.persistence.runTransaction("Lookup mutation documents","readonly",L=>x.Ge(L,v).next(j=>j?w.Us.Es(L,j):Ce.resolve(null)))}(a.localStore,e);var v;null!==l?("pending"===t?yield o(a.remoteStore):"acknowledged"===t||"rejected"===t?(xb(a,e,r||null),Mb(a,e),v=e,et(et(a.localStore).gs).Qe(v)):yt(),yield Sd(a,l)):qe("SyncEngine","Cannot apply mutation batch with id: "+e)}),Lb.apply(this,arguments)}function Vb(){return Vb=(0,we.Z)(function*(n,e){const t=et(n);if($b(t),Hb(t),!0===e&&!0!==t.Lc){const r=t.sharedClientState.getAllActiveQueryTargets(),a=yield LT(t,r.toArray());t.Lc=!0,yield Ne(t.remoteStore,!0);for(const l of a)xy(t.remoteStore,l)}else if(!1===e&&!1!==t.Lc){const r=[];let a=Promise.resolve();t.Nc.forEach((l,p)=>{t.sharedClientState.isLocalQueryTarget(p)?r.push(p):a=a.then(()=>(Ny(t,p),Dd(t.localStore,p,!0))),Qp(t.remoteStore,p)}),yield a,yield LT(t,r),function(l){const p=et(l);p.Oc.forEach((v,w)=>{Qp(p.remoteStore,w)}),p.Mc.ii(),p.Oc=new Map,p.kc=new _r(at.comparator)}(t),t.Lc=!1,yield Ne(t.remoteStore,!1)}}),Vb.apply(this,arguments)}function LT(n,e,t){return Ub.apply(this,arguments)}function Ub(){return Ub=(0,we.Z)(function*(n,e,t){const r=et(n),a=[],l=[];for(const p of e){let v;const w=r.Nc.get(p);if(w&&0!==w.length){v=yield Cd(r.localStore,Ls(w[0]));for(const x of w){const L=r.Cc.get(x),j=yield aA(r,L);j.snapshot&&l.push(j.snapshot)}}else{const x=yield Jw(r.localStore,p);v=yield Cd(r.localStore,x),yield Eb(r,VT(x),p,!1)}a.push(v)}return r.Dc.To(l),a}),Ub.apply(this,arguments)}function VT(n){return X_(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function dA(n){const e=et(n);return et(et(e.localStore).persistence).ds()}function hA(n,e,t,r){return jb.apply(this,arguments)}function jb(){return jb=(0,we.Z)(function*(n,e,t,r){const a=et(n);if(a.Lc)qe("SyncEngine","Ignoring unexpected query state notification.");else if(a.Nc.has(e))switch(t){case"current":case"not-current":{const l=yield sb(a.localStore),p=$h.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Sd(a,l,p);break}case"rejected":yield Dd(a.localStore,e,!0),Ny(a,e,r);break;default:yt()}}),jb.apply(this,arguments)}function fA(n,e,t){return Bb.apply(this,arguments)}function Bb(){return Bb=(0,we.Z)(function*(n,e,t){const r=$b(n);if(r.Lc){for(const a of e){if(r.Nc.has(a)){qe("SyncEngine","Adding an already active target "+a);continue}const l=yield Jw(r.localStore,a),p=yield Cd(r.localStore,l);yield Eb(r,VT(l),p.targetId,!1),xy(r.remoteStore,p)}for(const a of t)r.Nc.has(a)&&(yield Dd(r.localStore,a,!1).then(()=>{Qp(r.remoteStore,a),Ny(r,a)}).catch(Lu))}}),Bb.apply(this,arguments)}function $b(n){const e=et(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=PT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eA.bind(null,e),e.Dc.To=GS.bind(null,e.eventManager),e.Dc.qc=qS.bind(null,e.eventManager),e}function Hb(n){const e=et(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nA.bind(null,e),e}class UT{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,we.Z)(function*(){t.O=Yl(e.databaseInfo.databaseId),t.sharedClientState=t.Gc(e),t.persistence=t.jc(e),yield t.persistence.start(),t.gcScheduler=t.Qc(e),t.localStore=t.Wc(e)})()}Qc(e){return null}Wc(e){return Kw(this.persistence,new Iy,e.initialUser,this.O)}jc(e){return new ZE(QE.bi,this.O)}Gc(e){return new nC}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jT extends UT{constructor(e,t,r){super(),this.zc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e),yield function ob(n){return HE.apply(this,arguments)}(r.localStore),yield r.zc.initialize(r,e),yield Hb(r.zc.syncEngine),yield o(r.zc.remoteStore),yield r.persistence.Hn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Wc(e){return Kw(this.persistence,new Iy,e.initialUser,this.O)}Qc(e){return new Hw(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}jc(e){const t=jE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ar.withCacheSize(this.cacheSizeBytes):ar.DEFAULT;return new UE(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,sC(),Zp(),this.O,this.sharedClientState,!!this.forceOwnership)}Gc(e){return new nC}}class gA extends jT{constructor(e,t){super(e,t,!1),this.zc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e);const a=r.zc.syncEngine;r.sharedClientState instanceof Sy&&(r.sharedClientState.syncEngine={hr:lA.bind(null,a),lr:hA.bind(null,a),dr:fA.bind(null,a),ds:dA.bind(null,a),ar:uA.bind(null,a)},yield r.sharedClientState.start()),yield r.persistence.Hn(function(){var l=(0,we.Z)(function*(p){yield function cA(n,e){return Vb.apply(this,arguments)}(r.zc.syncEngine,p),r.gcScheduler&&(p&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):p||r.gcScheduler.stop())});return function(p){return l.apply(this,arguments)}}())})()}Gc(e){const t=sC();if(!Sy.Vt(t))throw new Ue(ve.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=jE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Sy(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Gb{initialize(e,t){var r=this;return(0,we.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=a=>kT(r.syncEngine,a,1),r.remoteStore.remoteSyncer.handleCredentialChange=sA.bind(null,r.syncEngine),yield Ne(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new d0}createDatastore(e){const t=Yl(e.databaseInfo.databaseId),r=new db(e.databaseInfo);return new fb(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,a=e.asyncQueue,l=v=>kT(this.syncEngine,v,0),p=XE.Vt()?new XE:new cb,new uC(t,r,a,l,p);var t,r,a,l,p}createSyncEngine(e,t){return function(r,a,l,p,v,w,x){const L=new QS(r,a,l,p,v,w);return x&&(L.Lc=!0),L}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,we.Z)(function*(t){const r=et(t);qe("RemoteStore","RemoteStore shutting down."),r.Ko.add(5),yield Yh(r),r.jo.shutdown(),r.Qo.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function BT(n,e=10240){let t=0;return{read:()=>(0,we.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class dC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Hc(this.observer.next,e)}error(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Jc(){this.muted=!0}Hc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class mA{constructor(e,t){this.Yc=e,this.O=t,this.metadata=new mr,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then(r=>{r&&r.ac()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Yc.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}Kc(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.Zc()})()}Zc(){var e=this;return(0,we.Z)(function*(){const t=yield e.tu();if(null===t)return null;const r=e.Xc.decode(t),a=Number(r);isNaN(a)&&e.eu(`length string (${r}) is not valid number`);const l=yield e.nu(a);return new zS(JSON.parse(l),t.length+a)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}tu(){var e=this;return(0,we.Z)(function*(){for(;e.su()<0&&!(yield e.iu()););if(0===e.buffer.length)return null;const t=e.su();t<0&&e.eu("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}nu(e){var t=this;return(0,we.Z)(function*(){for(;t.buffer.length<e;)(yield t.iu())&&t.eu("Reached the end of bundle when more is expected.");const r=t.Xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}eu(e){throw this.Yc.cancel(),new Error(`Invalid bundle format: ${e}`)}iu(){var e=this;return(0,we.Z)(function*(){const t=yield e.Yc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class yA{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ue(ve.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(a=(0,we.Z)(function*(l,p){const v=et(l),w=Bl(v.O)+"/documents",x={documents:p.map(ye=>Pu(v.O,ye))},L=yield v.Lr("BatchGetDocuments",w,x),j=new Map;L.forEach(ye=>{const Le=function Iw(n,e){return"found"in e?function(t,r){Nt(!!r.found);const a=Ga(t,r.found.name),l=kn(r.found.updateTime),p=new Hi({mapValue:{fields:r.found.fields}});return sr.newFoundDocument(a,l,p)}(n,e):"missing"in e?function(t,r){Nt(!!r.missing),Nt(!!r.readTime);const a=Ga(t,r.missing),l=kn(r.readTime);return sr.newNoDocument(a,l)}(n,e):yt()}(v.O,ye);j.set(Le.key.toString(),Le)});const J=[];return p.forEach(ye=>{const Le=j.get(ye.toString());Nt(!!Le),J.push(Le)}),J}),function(l,p){return a.apply(this,arguments)})(t.datastore,e);var a;return r.forEach(a=>t.recordVersion(a)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ha(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,a)=>{const l=at.fromPath(a);e.mutations.push(new Xm(l,e.precondition(l)))}),yield(r=(0,we.Z)(function*(a,l){const p=et(a),v=Bl(p.O)+"/documents",w={writes:l.map(x=>md(p.O,x))};yield p.Mr("Commit",v,w)}),function(a,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw yt();t=At.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ue(ve.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?or.updateTime(t):or.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(At.min()))throw new Ue(ve.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return or.updateTime(t)}return or.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class vA{constructor(e,t,r,a){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=a,this.ru=5,this.ro=new oC(this.asyncQueue,"transaction_retry")}run(){this.ru-=1,this.ou()}ou(){var e=this;this.ro.Hr((0,we.Z)(function*(){const t=new yA(e.datastore),r=e.cu(t);r&&r.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(l=>{e.uu(l)}))}).catch(a=>{e.uu(a)})}))}cu(e){try{const t=this.updateFunction(e);return!Oh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}uu(e){this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget(()=>(this.ou(),Promise.resolve()))):this.deferred.reject(e)}au(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!aE(t)}return!1}}class _A{constructor(e,t,r,a){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=Xr.UNAUTHENTICATED,this.clientId=z_.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var p=(0,we.Z)(function*(v){qe("FirestoreClient","Received user=",v.uid),yield l.authCredentialListener(v),l.user=v});return function(v){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(r,p=>(qe("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ue(ve.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const a=No(r,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function $T(n,e){return qb.apply(this,arguments)}function qb(){return qb=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),qe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,we.Z)(function*(l){r.isEqual(l)||(yield BE(e.localStore,l),r=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),qb.apply(this,arguments)}function HT(n,e){return zb.apply(this,arguments)}function zb(){return zb=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Wb(n);qe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(a=>Ze(e.remoteStore,a)),n.setAppCheckTokenChangeListener((a,l)=>Ze(e.remoteStore,l)),n.onlineComponents=e}),zb.apply(this,arguments)}function Wb(n){return Kb.apply(this,arguments)}function Kb(){return Kb=(0,we.Z)(function*(n){return n.offlineComponents||(qe("FirestoreClient","Using default OfflineComponentProvider"),yield $T(n,new UT)),n.offlineComponents}),Kb.apply(this,arguments)}function hC(n){return Zb.apply(this,arguments)}function Zb(){return Zb=(0,we.Z)(function*(n){return n.onlineComponents||(qe("FirestoreClient","Using default OnlineComponentProvider"),yield HT(n,new Gb)),n.onlineComponents}),Zb.apply(this,arguments)}function GT(n){return Wb(n).then(e=>e.persistence)}function Qb(n){return Wb(n).then(e=>e.localStore)}function qT(n){return hC(n).then(e=>e.remoteStore)}function Yb(n){return hC(n).then(e=>e.syncEngine)}function Py(n){return Jb.apply(this,arguments)}function Jb(){return Jb=(0,we.Z)(function*(n){const e=yield hC(n),t=e.eventManager;return t.onListen=YS.bind(null,e.syncEngine),t.onUnlisten=JS.bind(null,e.syncEngine),t}),Jb.apply(this,arguments)}function zT(n,e,t={}){const r=new mr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(a,l,p,v,w){const x=new dC({next:j=>{l.enqueueAndForget(()=>Xp(a,L));const J=j.docs.has(p);!J&&j.fromCache?w.reject(new Ue(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):J&&j.fromCache&&v&&"server"===v.source?w.reject(new Ue(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(j)},error:j=>w.reject(j)}),L=new vb(Ll(p.path),x,{includeMetadataChanges:!0,uc:!0});return Yp(a,L)}(yield Py(n),n.asyncQueue,e,t,r)})),r.promise}function WT(n,e,t={}){const r=new mr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(a,l,p,v,w){const x=new dC({next:j=>{l.enqueueAndForget(()=>Xp(a,L)),j.fromCache&&"server"===v.source?w.reject(new Ue(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(j)},error:j=>w.reject(j)}),L=new vb(p,x,{includeMetadataChanges:!0,uc:!0});return Yp(a,L)}(yield Py(n),n.asyncQueue,e,t,r)})),r.promise}const KT=new Map;function Xb(n,e,t){if(!t)throw new Ue(ve.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ZT(n,e,t,r){if(!0===e&&!0===r)throw new Ue(ve.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function QT(n){if(!at.isDocumentKey(n))throw new Ue(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function YT(n){if(at.isDocumentKey(n))throw new Ue(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":yt()}function pn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ue(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fC(n);throw new Ue(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function JT(n,e){if(e<=0)throw new Ue(ve.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class XT{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ue(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ue(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,ZT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class h0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XT({}),this._settingsFrozen=!1,e instanceof ld?this._databaseId=e:(this._app=e,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Ue(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ld(a.options.projectId)}(e))}get app(){if(!this._app)throw new Ue(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ue(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XT(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Om;switch(t.type){case"gapi":const r=t.client;return Nt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new HI(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ue(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=KT.get(e);t&&(qe("ComponentProvider","Removing Datastore"),KT.delete(e),t.terminate())}(this),Promise.resolve()}}class ur{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ur(this.firestore,e,this._key)}}class $s{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $s(this.firestore,e,this._query)}}class tc extends $s{constructor(e,t,r){super(e,t,Ll(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ur(this.firestore,null,new at(e))}withConverter(e){return new tc(this.firestore,e,this._path)}}function eS(n,e,...t){if(n=(0,Lt.m9)(n),Xb("collection","path",e),n instanceof h0){const r=fn.fromString(e,...t);return YT(r),new tc(n,null,r)}{if(!(n instanceof ur||n instanceof tc))throw new Ue(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(fn.fromString(e,...t));return YT(r),new tc(n.firestore,null,r)}}function pC(n,e,...t){if(n=(0,Lt.m9)(n),1===arguments.length&&(e=z_.R()),Xb("doc","path",e),n instanceof h0){const r=fn.fromString(e,...t);return QT(r),new ur(n,null,new at(r))}{if(!(n instanceof ur||n instanceof tc))throw new Ue(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(fn.fromString(e,...t));return QT(r),new ur(n.firestore,n instanceof tc?n.converter:null,new at(r))}}function tS(n,e){return n=(0,Lt.m9)(n),e=(0,Lt.m9)(e),(n instanceof ur||n instanceof tc)&&(e instanceof ur||e instanceof tc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function nS(n,e){return n=(0,Lt.m9)(n),e=(0,Lt.m9)(e),n instanceof $s&&e instanceof $s&&n.firestore===e.firestore&&kp(n._query,e._query)&&n.converter===e.converter}class xA{constructor(){this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new oC(this,"async_queue_retry"),this.yu=()=>{const t=Zp();t&&qe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ro.Yr()};const e=Zp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.yu)}get isShuttingDown(){return this.fu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.fu){this.fu=!0,this.mu=e||!1;const t=Zp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}enqueue(e){if(this.pu(),this.fu)return new Promise(()=>{});const t=new mr;return this.Iu(()=>this.fu&&this.mu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.lu.push(e),this.Eu()))}Eu(){var e=this;return(0,we.Z)(function*(){if(0!==e.lu.length){try{yield e.lu[0](),e.lu.shift(),e.ro.reset()}catch(t){if(!Fu(t))throw t;qe("AsyncQueue","Operation failed with retryable error: "+t)}e.lu.length>0&&e.ro.Hr(()=>e.Eu())}})()}Iu(e){const t=this.hu.then(()=>(this.wu=!0,e().catch(r=>{throw this._u=r,this.wu=!1,gr("INTERNAL UNHANDLED ERROR: ",function(l){let p=l.message||"";return l.stack&&(p=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),p}(r)),r}).then(r=>(this.wu=!1,r))));return this.hu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.gu.indexOf(e)>-1&&(t=0);const a=ls.createAndSchedule(this,e,t,r,l=>this.Tu(l));return this.du.push(a),a}pu(){this._u&&yt()}verifyOperationInProgress(){}Au(){var e=this;return(0,we.Z)(function*(){let t;do{t=e.hu,yield t}while(t!==e.hu)})()}Ru(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}Pu(e){return this.Au().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Au()})}bu(e){this.gu.push(e)}Tu(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function eT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(n)}class RA{constructor(){this._progressObserver={},this._taskCompletionResolver=new mr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Er extends h0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new xA,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||rS(this),this._firestoreClient.terminate()}}function mi(n){return n._firestoreClient||rS(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function rS(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new RD(n._databaseId,l,n._persistenceKey,(v=t).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,v.useFetchStreams));var l,v;n._firestoreClient=new _A(n._authCredentials,n._appCheckCredentials,n._queue,r)}function iS(n,e,t){const r=new mr;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield $T(n,t),yield HT(n,e),r.resolve()}catch(a){if(!("FirebaseError"===(l=a).name?l.code===ve.FAILED_PRECONDITION||l.code===ve.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var l})).then(()=>r.promise)}function sS(n){if(n._initialized||n._terminated)throw new Ue(ve.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ad{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ue(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class nc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nc(ei.fromBase64String(e))}catch(t){throw new Ue(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new nc(ei.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class tg{constructor(e){this._methodName=e}}class gC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ue(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ue(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return en(this._lat,e._lat)||en(this._long,e._long)}}const BA=/^__.*__$/;class $A{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new pd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ul(e,this.data,t,this.fieldTransforms)}}class oS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new pd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function aS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class mC{constructor(e,t,r,a,l,p){this.settings=e,this.databaseId=t,this.O=r,this.ignoreUndefinedProperties=a,void 0===l&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}Su(e){return new mC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Du(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Su({path:r,Cu:!1});return a.Nu(e),a}xu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Su({path:r,Cu:!1});return a.vu(),a}ku(e){return this.Su({path:void 0,Cu:!0})}Ou(e){return _C(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}Nu(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(aS(this.Vu)&&BA.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}class HA{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.O=r||Yl(e)}Fu(e,t,r,a=!1){return new mC({Vu:e,methodName:t,$u:r,path:gi.emptyPath(),Cu:!1,Mu:a},this.databaseId,this.O,this.ignoreUndefinedProperties)}}function ng(n){const e=n._freezeSettings(),t=Yl(n._databaseId);return new HA(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yC(n,e,t,r,a,l={}){const p=n.Fu(l.merge||l.mergeFields?2:0,e,t,a);iT("Data must be an object, but it was:",p,r);const v=cS(r,p);let w,x;if(l.merge)w=new Va(p.fieldMask),x=p.fieldTransforms;else if(l.mergeFields){const L=[];for(const j of l.mergeFields){const J=sT(e,j,t);if(!p.contains(J))throw new Ue(ve.INVALID_ARGUMENT,`Field '${J}' is specified in your field mask but missing from your input data.`);hS(L,J)||L.push(J)}w=new Va(L),x=p.fieldTransforms.filter(j=>w.covers(j.field))}else w=null,x=p.fieldTransforms;return new $A(new Hi(v),w,x)}class f0 extends tg{_toFieldTransform(e){if(2!==e.Vu)throw e.Ou(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof f0}}function uS(n,e,t){return new mC({Vu:3,$u:e.settings.$u,methodName:n._methodName,Cu:t},e.databaseId,e.O,e.ignoreUndefinedProperties)}class tT extends tg{_toFieldTransform(e){return new jh(e.path,new $a)}isEqual(e){return e instanceof tT}}class GA extends tg{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=uS(this,e,!0),r=this.Bu.map(l=>rg(l,t)),a=new fd(r);return new jh(e.path,a)}isEqual(e){return this===e}}class qA extends tg{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=uS(this,e,!0),r=this.Bu.map(l=>rg(l,t)),a=new Vl(r);return new jh(e.path,a)}isEqual(e){return this===e}}class zA extends tg{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=new Uh(e.O,UD(e.O,this.Lu));return new jh(e.path,t)}isEqual(e){return this===e}}function nT(n,e,t,r){const a=n.Fu(1,e,t);iT("Data must be an object, but it was:",a,r);const l=[],p=Hi.empty();ud(r,(w,x)=>{const L=vC(e,w,t);x=(0,Lt.m9)(x);const j=a.xu(L);if(x instanceof f0)l.push(L);else{const J=rg(x,j);null!=J&&(l.push(L),p.set(L,J))}});const v=new Va(l);return new oS(p,v,a.fieldTransforms)}function rT(n,e,t,r,a,l){const p=n.Fu(1,e,t),v=[sT(e,r,t)],w=[a];if(l.length%2!=0)throw new Ue(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let J=0;J<l.length;J+=2)v.push(sT(e,l[J])),w.push(l[J+1]);const x=[],L=Hi.empty();for(let J=v.length-1;J>=0;--J)if(!hS(x,v[J])){const ye=v[J];let Le=w[J];Le=(0,Lt.m9)(Le);const tt=p.xu(ye);if(Le instanceof f0)x.push(ye);else{const It=rg(Le,tt);null!=It&&(x.push(ye),L.set(ye,It))}}const j=new Va(x);return new oS(L,j,p.fieldTransforms)}function lS(n,e,t,r=!1){return rg(t,n.Fu(r?4:3,e))}function rg(n,e){if(dS(n=(0,Lt.m9)(n)))return iT("Unsupported field value:",e,n),cS(n,e);if(n instanceof tg)return function(t,r){if(!aS(r.Vu))throw r.Ou(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ou(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Cu&&4!==e.Vu)throw e.Ou("Nested arrays are not supported");return function(t,r){const a=[];let l=0;for(const p of t){let v=rg(p,r.ku(l));null==v&&(v={nullValue:"NULL_VALUE"}),a.push(v),l++}return{arrayValue:{values:a}}}(n,e)}return function(t,r){if(null===(t=(0,Lt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return UD(r.O,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=vr.fromDate(t);return{timestampValue:Nu(r.O,a)}}if(t instanceof vr){const a=new vr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Nu(r.O,a)}}if(t instanceof gC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof nc)return{bytesValue:yw(r.O,t._byteString)};if(t instanceof ur){const a=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(a))throw r.Ou(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:gE(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Ou(`Unsupported field value: ${fC(t)}`)}(n,e)}function cS(n,e){const t={};return Ap(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ud(n,(r,a)=>{const l=rg(a,e.Du(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function dS(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof vr||n instanceof gC||n instanceof nc||n instanceof ur||n instanceof tg)}function iT(n,e,t){if(!dS(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=fC(t);throw e.Ou("an object"===r?n+" a custom object":n+" "+r)}var r}function sT(n,e,t){if((e=(0,Lt.m9)(e))instanceof Ad)return e._internalPath;if("string"==typeof e)return vC(n,e);throw _C("Field path arguments must be of type string or ",n,!1,void 0,t)}const WA=new RegExp("[~\\*/\\[\\]]");function vC(n,e,t){if(e.search(WA)>=0)throw _C(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ad(...e.split("."))._internalPath}catch(r){throw _C(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _C(n,e,t,r,a){const l=r&&!r.isEmpty(),p=void 0!==a;let v=`Function ${e}() called with invalid data`;t&&(v+=" (via `toFirestore()`)"),v+=". ";let w="";return(l||p)&&(w+=" (found",l&&(w+=` in field ${r}`),p&&(w+=` in document ${a}`),w+=")"),new Ue(ve.INVALID_ARGUMENT,v+n+w)}function hS(n,e){return n.some(t=>t.isEqual(e))}class p0{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ur(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new KA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(EC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class KA extends p0{data(){return super.data()}}function EC(n,e){return"string"==typeof e?vC(n,e):e instanceof Ad?e._internalPath:e._delegate._internalPath}class ig{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Md extends p0{constructor(e,t,r,a,l,p){super(e,t,r,a,p),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new g0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(EC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class g0 extends Md{data(e={}){return super.data(e)}}class Jh{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new ig(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new g0(this._firestore,this._userDataWriter,r.key,r,new ig(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ue(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(p=>({type:"added",doc:new g0(r._firestore,r._userDataWriter,p.doc.key,p.doc,new ig(r._snapshot.mutatedKeys.has(p.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(p=>a||3!==p.type).map(p=>{const v=new g0(r._firestore,r._userDataWriter,p.doc.key,p.doc,new ig(r._snapshot.mutatedKeys.has(p.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,x=-1;return 0!==p.type&&(w=l.indexOf(p.doc.key),l=l.delete(p.doc.key)),1!==p.type&&(l=l.add(p.doc),x=l.indexOf(p.doc.key)),{type:ZA(p.type),doc:v,oldIndex:w,newIndex:x}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ZA(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}function fS(n,e){return n instanceof Md&&e instanceof Md?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Jh&&e instanceof Jh&&n._firestore===e._firestore&&nS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function pS(n){if(Op(n)&&0===n.explicitOrderBy.length)throw new Ue(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class m0{}function Xh(n,...e){for(const t of e)n=t._apply(n);return n}class QA extends m0{constructor(e,t,r){super(),this.Uu=e,this.qu=t,this.Ku=r,this.type="where"}_apply(e){const t=ng(e.firestore),r=function(a,l,p,v,w,x,L){let j;if(w.isKeyField()){if("array-contains"===x||"array-contains-any"===x)throw new Ue(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if("in"===x||"not-in"===x){ES(L,x);const ye=[];for(const Le of L)ye.push(_S(v,a,Le));j={arrayValue:{values:ye}}}else j=_S(v,a,L)}else"in"!==x&&"not-in"!==x&&"array-contains-any"!==x||ES(L,x),j=lS(p,"where",L,"in"===x||"not-in"===x);const J=os.create(w,x,j);return function(ye,Le){if(Le.S()){const It=Np(ye);if(null!==It&&!It.isEqual(Le.field))throw new Ue(ve.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${It.toString()}' and '${Le.field.toString()}'`);const cn=eE(ye);null!==cn&&IS(0,Le.field,cn)}const tt=function(It,cn){for(const lr of It.filters)if(cn.indexOf(lr.op)>=0)return lr.op;return null}(ye,function(It){switch(It){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Le.op));if(null!==tt)throw new Ue(ve.INVALID_ARGUMENT,tt===Le.op?`Invalid query. You cannot use more than one '${Le.op.toString()}' filter.`:`Invalid query. You cannot use '${Le.op.toString()}' filters with '${tt.toString()}' filters.`)}(a,J),J}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new $s(e.firestore,e.converter,function(a,l){const p=a.filters.concat([l]);return new Ba(a.path,a.collectionGroup,a.explicitOrderBy.slice(),p,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,r))}}class JA extends m0{constructor(e,t){super(),this.Uu=e,this.Gu=t,this.type="orderBy"}_apply(e){const t=function(r,a,l){if(null!==r.startAt)throw new Ue(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ue(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new Vh(a,l);return function(v,w){if(null===eE(v)){const x=Np(v);null!==x&&IS(0,x,w.field)}}(r,p),p}(e._query,this.Uu,this.Gu);return new $s(e.firestore,e.converter,function(r,a){const l=r.explicitOrderBy.concat([a]);return new Ba(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class gS extends m0{constructor(e,t,r){super(),this.type=e,this.ju=t,this.Qu=r}_apply(e){return new $s(e.firestore,e.converter,tw(e._query,this.ju,this.Qu))}}class mS extends m0{constructor(e,t,r){super(),this.type=e,this.Wu=t,this.zu=r}_apply(e){const t=vS(e,this.type,this.Wu,this.zu);return new $s(e.firestore,e.converter,(a=t,new Ba((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,a,r.endAt)));var r,a}}class yS extends m0{constructor(e,t,r){super(),this.type=e,this.Wu=t,this.zu=r}_apply(e){const t=vS(e,this.type,this.Wu,this.zu);return new $s(e.firestore,e.converter,(a=t,new Ba((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,a)));var r,a}}function vS(n,e,t,r){if(t[0]=(0,Lt.m9)(t[0]),t[0]instanceof p0)return function(a,l,p,v,w){if(!v)throw new Ue(ve.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const x=[];for(const L of dd(a))if(L.field.isKeyField())x.push(Fm(l,v.key));else{const j=v.data.field(L.field);if(Pm(j))throw new Ue(ve.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+L.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===j){const J=L.field.canonicalString();throw new Ue(ve.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${J}' (used as the orderBy) does not exist.`)}x.push(j)}return new Lh(x,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=ng(n.firestore);return function(l,p,v,w,x,L){const j=l.explicitOrderBy;if(x.length>j.length)throw new Ue(ve.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const J=[];for(let ye=0;ye<x.length;ye++){const Le=x[ye];if(j[ye].field.isKeyField()){if("string"!=typeof Le)throw new Ue(ve.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof Le}`);if(!Pp(l)&&-1!==Le.indexOf("/"))throw new Ue(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${Le}' contains a slash.`);const tt=l.path.child(fn.fromString(Le));if(!at.isDocumentKey(tt))throw new Ue(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${tt}' is not because it contains an odd number of segments.`);const It=new at(tt);J.push(Fm(p,It))}else{const tt=lS(v,w,Le);J.push(tt)}}return new Lh(J,L)}(n._query,n.firestore._databaseId,a,e,t,r)}}function _S(n,e,t){if("string"==typeof(t=(0,Lt.m9)(t))){if(""===t)throw new Ue(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pp(e)&&-1!==t.indexOf("/"))throw new Ue(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(fn.fromString(t));if(!at.isDocumentKey(r))throw new Ue(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fm(n,new at(r))}if(t instanceof ur)return Fm(n,t._key);throw new Ue(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fC(t)}.`)}function ES(n,e){if(!Array.isArray(n)||0===n.length)throw new Ue(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ue(ve.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function IS(n,e,t){if(!t.isEqual(e))throw new Ue(ve.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class oT{convertValue(e,t="none"){switch(Ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ir(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw yt()}}convertObject(e,t){const r={};return ud(e.fields,(a,l)=>{r[a]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new gC(ir(e.latitude),ir(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=KI(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Rh(e));default:return null}}convertTimestamp(e){const t=kl(e);return new vr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=fn.fromString(e);Nt(iy(r));const a=new ld(r.get(1),r.get(3)),l=new at(r.popFirst(5));return a.isEqual(t)||gr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function IC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class oM extends oT{constructor(e){super(),this.firestore=e}convertBytes(e){return new nc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ur(this.firestore,null,t)}}class wS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ng(e)}set(e,t,r){this._verifyNotCommitted();const a=ef(e,this._firestore),l=IC(a.converter,t,r),p=yC(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,r);return this._mutations.push(p.toMutation(a._key,or.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const l=ef(e,this._firestore);let p;return p="string"==typeof(t=(0,Lt.m9)(t))||t instanceof Ad?rT(this._dataReader,"WriteBatch.update",l._key,t,r,a):nT(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(p.toMutation(l._key,or.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ef(e,this._firestore);return this._mutations=this._mutations.concat(new Ha(t._key,or.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ue(ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ef(n,e){if((n=(0,Lt.m9)(n)).firestore!==e)throw new Ue(ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class sg extends oT{constructor(e){super(),this.firestore=e}convertBytes(e){return new nc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ur(this.firestore,null,t)}}function CS(n,e,t){n=pn(n,ur);const r=pn(n.firestore,Er),a=IC(n.converter,e,t);return ky(r,[yC(ng(r),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,or.none())])}function DS(n,e,t,...r){n=pn(n,ur);const a=pn(n.firestore,Er),l=ng(a);let p;return p="string"==typeof(e=(0,Lt.m9)(e))||e instanceof Ad?rT(l,"updateDoc",n._key,e,t,r):nT(l,"updateDoc",n._key,e),ky(a,[p.toMutation(n._key,or.exists(!0))])}function bS(n,...e){var t,r,a;n=(0,Lt.m9)(n);let l={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||eT(e[p])||(l=e[p],p++);const v={includeMetadataChanges:l.includeMetadataChanges};if(eT(e[p])){const j=e[p];e[p]=null===(t=j.next)||void 0===t?void 0:t.bind(j),e[p+1]=null===(r=j.error)||void 0===r?void 0:r.bind(j),e[p+2]=null===(a=j.complete)||void 0===a?void 0:a.bind(j)}let w,x,L;if(n instanceof ur)x=pn(n.firestore,Er),L=Ll(n._key.path),w={next:j=>{e[p]&&e[p](aT(x,n,j))},error:e[p+1],complete:e[p+2]};else{const j=pn(n,$s);x=pn(j.firestore,Er),L=j._query;const J=new sg(x);w={next:ye=>{e[p]&&e[p](new Jh(x,J,j,ye))},error:e[p+1],complete:e[p+2]},pS(n._query)}return function(j,J,ye,Le){const tt=new dC(Le),It=new vb(J,tt,ye);return j.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return Yp(yield Py(j),It)})),()=>{tt.Jc(),j.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return Xp(yield Py(j),It)}))}}(mi(x),L,v,w)}function ky(n,e){return function(t,r){const a=new mr;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function XS(n,e,t){return Cb.apply(this,arguments)}(yield Yb(t),r,a)})),a.promise}(mi(n),e)}function aT(n,e,t){const r=t.docs.get(e._key),a=new sg(n);return new Md(n,a,e._key,r,new ig(t.hasPendingWrites,t.fromCache),e.converter)}class mM extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ng(e)}get(e){const t=ef(e,this._firestore),r=new oM(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return yt();const l=a[0];if(l.isFoundDocument())return new p0(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new p0(this._firestore,r,t._key,null,t.converter);throw yt()})}set(e,t,r){const a=ef(e,this._firestore),l=IC(a.converter,t,r),p=yC(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,r);return this._transaction.set(a._key,p),this}update(e,t,r,...a){const l=ef(e,this._firestore);let p;return p="string"==typeof(t=(0,Lt.m9)(t))||t instanceof Ad?rT(this._dataReader,"Transaction.update",l._key,t,r,a):nT(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,p),this}delete(e){const t=ef(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ef(e,this._firestore),r=new sg(this._firestore);return super.get(e).then(a=>new Md(this._firestore,r,t._key,a._document,new ig(!1,!1),t.converter))}}function uT(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ue("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function SS(){if("undefined"==typeof Uint8Array)throw new Ue("unimplemented","Uint8Arrays are not available in this environment.")}function AS(){if(!function Mp(){return"undefined"!=typeof atob}())throw new Ue("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Ro=qs.SDK_VERSION,(0,qs._registerComponent)(new ho.wA("firestore",(t,{options:r})=>{const a=t.getProvider("app").getImmediate(),l=new Er(a,new yr(t.getProvider("auth-internal")),new AD(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,qs.registerVersion)(xm,"3.4.5",n),(0,qs.registerVersion)(xm,"3.4.5","esm2017")}();class y0{constructor(e){this._delegate=e}static fromBase64String(e){return AS(),new y0(nc.fromBase64String(e))}static fromUint8Array(e){return SS(),new y0(nc.fromUint8Array(e))}toBase64(){return AS(),this._delegate.toBase64()}toUint8Array(){return SS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function lT(n){return function bM(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class TM{enableIndexedDbPersistence(e,t){return function NA(n,e){sS(n=pn(n,Er));const t=mi(n),r=n._freezeSettings(),a=new Gb;return iS(t,a,new jT(a,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function PA(n){sS(n=pn(n,Er));const e=mi(n),t=n._freezeSettings(),r=new Gb;return iS(e,r,new gA(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function kA(n){if(n._initialized&&!n._terminated)throw new Ue(ve.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new mr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(t=(0,we.Z)(function*(r){if(!us.Vt())return Promise.resolve();const a=r+"main";yield us.delete(a)}),function(r){return t.apply(this,arguments)})(jE(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class MS{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ld||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Sp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function AA(n,e,t,r={}){var a;const l=(n=pn(n,h0))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Sp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let p,v;if("string"==typeof r.mockUserToken)p=r.mockUserToken,v=Xr.MOCK_USER;else{p=(0,Lt.Sg)(r.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Ue(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Xr(w)}n._authCredentials=new Nm(new $I(p,v))}}(this._delegate,e,t,r)}enableNetwork(){return function LA(n){return function EA(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield GT(n),t=yield qT(n);return e.setNetworkEnabled(!0),function(r){const a=et(r);return a.Ko.delete(0),My(a)}(t)}))}(mi(n=pn(n,Er)))}(this._delegate)}disableNetwork(){return function VA(n){return function IA(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield GT(n),t=yield qT(n);return e.setNetworkEnabled(!1),(r=(0,we.Z)(function*(a){const l=et(a);l.Ko.add(0),yield Yh(l),l.Qo.set("Offline")}),function(a){return r.apply(this,arguments)})(t);var r}))}(mi(n=pn(n,Er)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,ZT("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function FA(n){return function(e){const t=new mr;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function rA(n,e){return Ab.apply(this,arguments)}(yield Yb(e),t)})),t.promise}(mi(n=pn(n,Er)))}(this._delegate)}onSnapshotsInSync(e){return function gM(n,e){return function DA(n,e){const t=new dC(e);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield Py(n),a=t,et(r).Zo.add(a),void a.next();var r,a})),()=>{t.Jc(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield Py(n),a=t,void et(r).Zo.delete(a);var r,a}))}}(mi(n=pn(n,Er)),eT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ue("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Fy(this,eS(this._delegate,e))}catch(t){throw uo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Wa(this,pC(this._delegate,e))}catch(t){throw uo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new lo(this,function MA(n,e){if(n=pn(n,h0),Xb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ue(ve.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $s(n,null,(t=e,new Ba(fn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw uo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function yM(n,e){return function bA(n,e){const t=new mr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const r=yield(a=n,hC(a).then(l=>l.datastore));var a;new vA(n.asyncQueue,r,e,t).run()})),t.promise}(mi(n=pn(n,Er)),t=>e(new mM(n,t)))}(this._delegate,t=>e(new xS(this,t)))}batch(){return mi(this._delegate),new RS(new wS(this._delegate,e=>ky(this._delegate,e)))}loadBundle(e){return function UA(n,e){const t=mi(n=pn(n,Er)),r=new RA;return function TA(n,e,t,r){const a=function(l,p){let v;return v="string"==typeof l?(new TextEncoder).encode(l):l,w=function(w,x){if(w instanceof Uint8Array)return BT(w,x);if(w instanceof ArrayBuffer)return BT(new Uint8Array(w),x);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(v),new mA(w,p);var w}(t,Yl(e));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function pA(n,e,t){const r=et(n);var a;(a=(0,we.Z)(function*(l,p,v){try{const w=yield p.getMetadata();if(yield function(J,ye){const Le=et(J),tt=kn(ye.createTime);return Le.persistence.runTransaction("hasNewerBundle","readonly",It=>Le.Kn.getBundleMetadata(It,ye.id)).then(It=>!!It&&It.createTime.compareTo(tt)>=0)}(l.localStore,w))return yield p.close(),void v._completeWith((J=w,{taskState:"Success",documentsLoaded:J.totalDocuments,bytesLoaded:J.totalBytes,totalDocuments:J.totalDocuments,totalBytes:J.totalBytes}));v._updateProgress(xT(w));const x=new WS(w,l.localStore,p.O);let L=yield p.Kc();for(;L;){const J=yield x.lc(L);J&&v._updateProgress(J),L=yield p.Kc()}const j=yield x.complete();yield Sd(l,j.ws,void 0),yield function(J,ye){const Le=et(J);return Le.persistence.runTransaction("Save bundle","readwrite",tt=>Le.Kn.saveBundleMetadata(tt,ye))}(l.localStore,w),v._completeWith(j.progress)}catch(w){Sp("SyncEngine",`Loading bundle failed with ${w}`),v._failWith(w)}var J}),function(l,p,v){return a.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield Yb(n),a,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function jA(n,e){return function SA(n,e){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(t,r){const a=et(t);return a.persistence.runTransaction("Get named query","readonly",l=>a.Kn.getNamedQuery(l,r))}(yield Qb(n),e)}))}(mi(n=pn(n,Er)),e).then(t=>t?new $s(n,null,t.query):null)}(this._delegate,e).then(t=>t?new lo(this,t):null)}}class wC extends oT{constructor(e){super(),this.firestore=e}convertBytes(e){return new y0(new nc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Wa.forKey(t,this.firestore,null)}}class xS{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new wC(e)}get(e){const t=ag(e);return this._delegate.get(t).then(r=>new v0(this._firestore,new Md(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const a=ag(e);return r?(uT("Transaction.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const l=ag(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...a),this}delete(e){const t=ag(e);return this._delegate.delete(t),this}}class RS{constructor(e){this._delegate=e}set(e,t,r){const a=ag(e);return r?(uT("WriteBatch.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const l=ag(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...a),this}delete(e){const t=ag(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class og{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new g0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new _0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=og.INSTANCES;let a=r.get(e);a||(a=new WeakMap,r.set(e,a));let l=a.get(t);return l||(l=new og(e,new wC(e),t),a.set(t,l)),l}}og.INSTANCES=new WeakMap;class Wa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ue("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Wa(t,new ur(t._delegate,r,new at(e)))}static forKey(e,t,r){return new Wa(t,new ur(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Fy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Fy(this.firestore,eS(this._delegate,e))}catch(t){throw uo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Lt.m9)(e))instanceof ur&&tS(this._delegate,e)}set(e,t){t=uT("DocumentReference.set",t);try{return t?CS(this._delegate,e,t):CS(this._delegate,e)}catch(r){throw uo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?DS(this._delegate,e):DS(this._delegate,e,t,...r)}catch(a){throw uo(a,"updateDoc()","DocumentReference.update()")}}delete(){return function fM(n){return ky(pn(n.firestore,Er),[new Ha(n._key,or.none())])}(this._delegate)}onSnapshot(...e){const t=OS(e),r=NS(e,a=>new v0(this.firestore,new Md(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return bS(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function uM(n){n=pn(n,ur);const e=pn(n.firestore,Er),t=mi(e),r=new sg(e);return function wA(n,e){const t=new mr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(a,l,p){try{const v=yield function(w,x){const L=et(w);return L.persistence.runTransaction("read document","readonly",j=>L.Us.ys(j,x))}(a,l);v.isFoundDocument()?p.resolve(v):v.isNoDocument()?p.resolve(null):p.reject(new Ue(ve.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(v){const w=No(v,`Failed to get document '${l} from cache`);p.reject(w)}}),function(a,l,p){return r.apply(this,arguments)})(yield Qb(n),e,t);var r})),t.promise}(t,n._key).then(a=>new Md(e,r,n._key,a,new ig(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function lM(n){n=pn(n,ur);const e=pn(n.firestore,Er);return zT(mi(e),n._key,{source:"server"}).then(t=>aT(e,n,t))}(this._delegate):function aM(n){n=pn(n,ur);const e=pn(n.firestore,Er);return zT(mi(e),n._key).then(t=>aT(e,n,t))}(this._delegate),t.then(r=>new v0(this.firestore,new Md(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Wa(this.firestore,this._delegate.withConverter(e?og.getInstance(this.firestore,e):null))}}function uo(n,e,t){return n.message=n.message.replace(e,t),n}function OS(n){for(const e of n)if("object"==typeof e&&!lT(e))return e;return{}}function NS(n,e){var t,r;let a;return a=lT(n[0])?n[0]:lT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{a.next&&a.next(e(l))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(r=a.complete)||void 0===r?void 0:r.bind(a)}}class v0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Wa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return fS(this._delegate,e._delegate)}}class _0 extends v0{data(e){const t=this._delegate.data(e);return function St(n,e){n||yt()}(void 0!==t),t}}class lo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wC(e)}where(e,t,r){try{return new lo(this.firestore,Xh(this._delegate,function YA(n,e,t){const r=e,a=EC("where",n);return new QA(a,r,t)}(e,t,r)))}catch(a){throw uo(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new lo(this.firestore,Xh(this._delegate,function XA(n,e="asc"){const t=e,r=EC("orderBy",n);return new JA(r,t)}(e,t)))}catch(r){throw uo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new lo(this.firestore,Xh(this._delegate,function eM(n){return JT("limit",n),new gS("limit",n,"F")}(e)))}catch(t){throw uo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new lo(this.firestore,Xh(this._delegate,function tM(n){return JT("limitToLast",n),new gS("limitToLast",n,"L")}(e)))}catch(t){throw uo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new lo(this.firestore,Xh(this._delegate,function nM(...n){return new mS("startAt",n,!0)}(...e)))}catch(t){throw uo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new lo(this.firestore,Xh(this._delegate,function rM(...n){return new mS("startAfter",n,!1)}(...e)))}catch(t){throw uo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new lo(this.firestore,Xh(this._delegate,function iM(...n){return new yS("endBefore",n,!1)}(...e)))}catch(t){throw uo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new lo(this.firestore,Xh(this._delegate,function sM(...n){return new yS("endAt",n,!0)}(...e)))}catch(t){throw uo(t,"endAt()","Query.endAt()")}}isEqual(e){return nS(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function dM(n){n=pn(n,$s);const e=pn(n.firestore,Er),t=mi(e),r=new sg(e);return function CA(n,e){const t=new mr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(a,l,p){try{const v=yield Wp(a,l,!0),w=new NT(l,v.Ks),x=w.Ic(v.documents),L=w.applyChanges(x,!1);p.resolve(L.snapshot)}catch(v){const w=No(v,`Failed to execute query '${l} against cache`);p.reject(w)}}),function(a,l,p){return r.apply(this,arguments)})(yield Qb(n),e,t);var r})),t.promise}(t,n._query).then(a=>new Jh(e,r,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function hM(n){n=pn(n,$s);const e=pn(n.firestore,Er),t=mi(e),r=new sg(e);return WT(t,n._query,{source:"server"}).then(a=>new Jh(e,r,n,a))}(this._delegate):function cM(n){n=pn(n,$s);const e=pn(n.firestore,Er),t=mi(e),r=new sg(e);return pS(n._query),WT(t,n._query).then(a=>new Jh(e,r,n,a))}(this._delegate),t.then(r=>new cT(this.firestore,new Jh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=OS(e),r=NS(e,a=>new cT(this.firestore,new Jh(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return bS(this._delegate,t,r)}withConverter(e){return new lo(this.firestore,this._delegate.withConverter(e?og.getInstance(this.firestore,e):null))}}class AM{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new _0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class cT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new lo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new _0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new AM(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new _0(this._firestore,r))})}isEqual(e){return fS(this._delegate,e._delegate)}}class Fy extends lo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Wa(this.firestore,e):null}doc(e){try{return new Wa(this.firestore,void 0===e?pC(this._delegate):pC(this._delegate,e))}catch(t){throw uo(t,"doc()","CollectionReference.doc()")}}add(e){return function pM(n,e){const t=pn(n.firestore,Er),r=pC(n),a=IC(n.converter,e);return ky(t,[yC(ng(n.firestore),"addDoc",r._key,a,null!==n.converter,{}).toMutation(r._key,or.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Wa(this.firestore,t))}isEqual(e){return tS(this._delegate,e._delegate)}withConverter(e){return new Fy(this.firestore,this._delegate.withConverter(e?og.getInstance(this.firestore,e):null))}}function ag(n){return pn(n,ur)}class dT{constructor(...e){this._delegate=new Ad(...e)}static documentId(){return new dT(gi.keyField().canonicalString())}isEqual(e){return(e=(0,Lt.m9)(e))instanceof Ad&&this._delegate._internalPath.isEqual(e._internalPath)}}class ug{constructor(e){this._delegate=e}static serverTimestamp(){const e=function _M(){return new tT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new ug(e)}static delete(){const e=function vM(){return new f0("deleteField")}();return e._methodName="FieldValue.delete",new ug(e)}static arrayUnion(...e){const t=function EM(...n){return new GA("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new ug(t)}static arrayRemove(...e){const t=function IM(...n){return new qA("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new ug(t)}static increment(e){const t=function wM(n){return new zA("increment",n)}(e);return t._methodName="FieldValue.increment",new ug(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const MM={Firestore:MS,GeoPoint:gC,Timestamp:vr,Blob:y0,Transaction:xS,WriteBatch:RS,DocumentReference:Wa,DocumentSnapshot:v0,Query:lo,QueryDocumentSnapshot:_0,QuerySnapshot:cT,CollectionReference:Fy,FieldPath:dT,FieldValue:ug,setLogLevel:function SM(n){!function Ah(n){Pl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function PS(n,e){return function OM(n,e=Fv.z){return new an.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function hT(n,e){return PS(n,e).pipe((0,bt.U)(t=>({payload:t,type:"query"})))}function CC(n,e){return hT(n,e).pipe(th(void 0),em(),(0,bt.U)(([t,r])=>{const a=r.payload.docChanges(),l=a.map(p=>({type:p.type,payload:p}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((p,v)=>{const w=a.find(L=>L.doc.ref.isEqual(p.ref)),x=null==t?void 0:t.payload.docs.find(L=>L.ref.isEqual(p.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(p.metadata)||!w&&x&&JSON.stringify(x.metadata)===JSON.stringify(p.metadata)||l.push({type:"modified",payload:{oldIndex:v,newIndex:v,type:"modified",doc:p}})}),l}))}function kS(n,e,t){return CC(n,t).pipe(Mc((r,a)=>function PM(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function kM(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return fT(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return fT(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return fT(n,e.oldIndex,1)}return n}(n,r))}),n}(r,a.map(l=>l.payload),e),[]),function hD(n,e=Tt.y){return n=null!=n?n:Lv,(0,Gn.e)((t,r)=>{let a,l=!0;t.subscribe(new Ln.Q(r,p=>{const v=e(p);(l||!n(a,v))&&(l=!1,a=v,r.next(p))}))})}(),(0,bt.U)(r=>r.map(a=>({type:a.type,payload:a}))))}function fT(n,e,t,...r){const a=n.slice();return a.splice(e,t,...r),a}function FS(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function RM(n){(function xM(n,e){n.INTERNAL.registerComponent(new ho.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(r,a)},"PUBLIC").setServiceProps(Object.assign({},MM)))})(n,(e,t)=>new MS(e,t,new TM)),n.registerVersion("@firebase/firestore-compat","0.1.14")}(fD.Z);class LS{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=CC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,bt.U)(r=>r.filter(a=>e.indexOf(a.type)>-1)))),t.pipe(th(void 0),em(),mn(([r,a])=>a.length>0||!r),(0,bt.U)(([r,a])=>a),Ht.iC)}auditTrail(e){return this.stateChanges(e).pipe(Mc((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=FS(e);return kS(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ht.iC)}valueChanges(e={}){return hT(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Ht.iC)}get(e){return(0,kt.D)(this.query.get(e)).pipe(Ht.iC)}add(e){return this.ref.add(e)}doc(e){return new VS(this.ref.doc(e),this.afs)}}class VS{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:a,query:l}=US(r,t);return new LS(a,l,this.afs)}snapshotChanges(){return function NM(n,e){return PS(n,e).pipe(th(void 0),em(),(0,bt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ht.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,bt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,kt.D)(this.ref.get(e)).pipe(Ht.iC)}}class FM{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?CC(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),mn(t=>t.length>0),Ht.iC):CC(this.query,this.afs.schedulers.outsideAngular).pipe(Ht.iC)}auditTrail(e){return this.stateChanges(e).pipe(Mc((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=FS(e);return kS(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ht.iC)}valueChanges(e={}){return hT(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(r=>r.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),Ht.iC)}get(e){return(0,kt.D)(this.query.get(e)).pipe(Ht.iC)}}const LM=new h.InjectionToken("angularfire2.enableFirestorePersistence"),VM=new h.InjectionToken("angularfire2.firestore.persistenceSettings"),UM=new h.InjectionToken("angularfire2.firestore.settings"),jM=new h.InjectionToken("angularfire2.firestore.use-emulator");function US(n,e=(t=>t)){return{query:e(n),ref:n}}let jS=(()=>{class n{constructor(t,r,a,l,p,v,w,x,L,j,J,ye,Le,tt,It,cn,lr){this.schedulers=w;const Sr=(0,rr.on)(t,v,r),dn=L;j&&uc(Sr,v,J,Le,tt,It,ye,cn),[this.firestore,this.persistenceEnabled$]=(0,rr.cc)(`${Sr.name}.firestore`,"AngularFirestore",Sr.name,()=>{const qr=v.runOutsideAngular(()=>Sr.firestore());if(l&&qr.settings(l),dn&&qr.useEmulator(...dn),a&&!(0,I.isPlatformServer)(p)){const Vu=()=>{try{return(0,kt.D)(qr.enablePersistence(x||void 0).then(()=>!0,()=>!1))}catch(MC){return"undefined"!=typeof console&&console.warn(MC),mt(!1)}};return[qr,v.runOutsideAngular(Vu)]}return[qr,mt(!1)]},[l,dn,a])}collection(t,r){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:p}=US(a,r),v=this.schedulers.ngZone.run(()=>l);return new LS(v,p,this)}collectionGroup(t,r){const a=r||(p=>p),l=this.firestore.collectionGroup(t);return new FM(a(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>r);return new VS(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(rr.Dh),h.\u0275\u0275inject(rr.xv,8),h.\u0275\u0275inject(LM,8),h.\u0275\u0275inject(UM,8),h.\u0275\u0275inject(h.PLATFORM_ID),h.\u0275\u0275inject(h.NgZone),h.\u0275\u0275inject(Ht.HU),h.\u0275\u0275inject(VM,8),h.\u0275\u0275inject(jM,8),h.\u0275\u0275inject(_o,8),h.\u0275\u0275inject(Ca,8),h.\u0275\u0275inject(Qu,8),h.\u0275\u0275inject(jo,8),h.\u0275\u0275inject(Yu,8),h.\u0275\u0275inject(of,8),h.\u0275\u0275inject(lu,8),h.\u0275\u0275inject(Mn,8))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),DC=(()=>{class n{constructor(t){this.db=t,this.id="1"}getConfiguracion(){return this.configuracionDoc=this.db.doc(`configuracion/${this.id}`),this.configuracion=this.configuracionDoc.valueChanges(),this.configuracion}getConfiguracion2(){return this.configuracionDoc=this.db.doc(`configuracion/${this.id}`),this.configuracion=this.configuracionDoc.valueChanges(),this.configuracion}modificarConfiguracion(t){this.configuracionDoc=this.db.doc(`configuracion/${this.id}`),this.configuracionDoc.update(t)}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(jS))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),BM=(()=>{class n{constructor(t,r){this.router=t,this.configuracionServicio=r,this.permitirRegistro=!1}ngOnInit(){this.configuracionServicio.getConfiguracion().subscribe(t=>{null!=t&&(this.permitirRegistro=t.permitirRegistro)})}guardar(){this.configuracionServicio.modificarConfiguracion({permitirRegistro:this.permitirRegistro}),this.router.navigate(["/"])}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(jr),h.\u0275\u0275directiveInject(DC))},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-configuracion"]],decls:34,vars:3,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"cold-md-6"],[1,"fas","fa-user"],["id","actions",1,"py-4","mb-4","bg-light"],[1,"col-md-3"],["routerLink","/",1,"btn","btn-light","btn-block"],[1,"fas","fa-arrow-left"],["type","submit",1,"btn","btn-success","btn-block",3,"click"],[1,"fas","fa-check"],["id","configuracion",1,"py-4","mb-4","bg-light"],[1,"col"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group"],[1,"form-check"],[1,"form-check-laber"],["type","checkbox","name","permitirRegistro",1,"form-check-input",3,"ngModel","checked","ngModelChange"]],template:function(t,r){1&t&&(h.\u0275\u0275elementStart(0,"header",0),h.\u0275\u0275elementStart(1,"div",1),h.\u0275\u0275elementStart(2,"div",2),h.\u0275\u0275elementStart(3,"div",3),h.\u0275\u0275elementStart(4,"h1"),h.\u0275\u0275element(5,"i",4),h.\u0275\u0275text(6,"Login"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(7,"section",5),h.\u0275\u0275elementStart(8,"div",1),h.\u0275\u0275elementStart(9,"div",2),h.\u0275\u0275elementStart(10,"div",6),h.\u0275\u0275elementStart(11,"a",7),h.\u0275\u0275element(12,"i",8),h.\u0275\u0275text(13,"Regresar al Inicio "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(14,"div",6),h.\u0275\u0275elementStart(15,"button",9),h.\u0275\u0275listener("click",function(){return r.guardar()}),h.\u0275\u0275element(16,"i",10),h.\u0275\u0275text(17," Guardar Cambios "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(18,"section",11),h.\u0275\u0275elementStart(19,"div",1),h.\u0275\u0275elementStart(20,"div",2),h.\u0275\u0275elementStart(21,"div",12),h.\u0275\u0275elementStart(22,"div",13),h.\u0275\u0275elementStart(23,"div",14),h.\u0275\u0275elementStart(24,"h4"),h.\u0275\u0275text(25,"Editar Configuracion"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(26,"div",15),h.\u0275\u0275elementStart(27,"fieldset",16),h.\u0275\u0275elementStart(28,"legend"),h.\u0275\u0275text(29,"Permitir Registro de Usuario"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(30,"div",17),h.\u0275\u0275elementStart(31,"label",18),h.\u0275\u0275elementStart(32,"input",19),h.\u0275\u0275listener("ngModelChange",function(l){return r.permitirRegistro=l}),h.\u0275\u0275elementEnd(),h.\u0275\u0275text(33),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&t&&(h.\u0275\u0275advance(32),h.\u0275\u0275property("ngModel",r.permitirRegistro)("checked",r.permitirRegistro),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",r.permitirRegistro?"Si":"No"," "))},directives:[Fa,Ta,Cs,Qo],styles:[""]}),n})(),pT=(()=>{class n{constructor(t){this.db=t,this.clientesColeccion=t.collection("clientes",r=>r.orderBy("nombre","asc"))}getClientes(){return this.clientes=this.clientesColeccion.snapshotChanges().pipe((0,bt.U)(t=>t.map(r=>{const a=r.payload.doc.data();return a.id=r.payload.doc.id,a}))),this.clientes}agregarCliente(t){this.clientesColeccion.add(t)}getCliente(t){return this.clienteDoc=this.db.doc("clientes/"+t),this.cliente=this.clienteDoc.snapshotChanges().pipe((0,bt.U)(r=>{if(!1===r.payload.exists)return null;{const a=r.payload.data();return a.id=r.payload.id,a}})),this.cliente}modificarCliente(t){this.clienteDoc=this.db.doc(`clientes/${t.id}`),this.clienteDoc.update(t)}eliminarCliente(t){this.clienteDoc=this.db.doc(`clientes/${t.id}`),this.clienteDoc.delete()}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(jS))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const $M=["clienteForm"],bC=function(n){return{"is-invalid":n}};let HM=(()=>{class n{constructor(t,r,a,l){this.flashMessages=t,this.clientesServicio=r,this.router=a,this.route=l,this.cliente={nombre:"",apellido:"",email:"",saldo:0}}ngOnInit(){this.id=this.route.snapshot.params.id,this.clientesServicio.getCliente(this.id).subscribe(t=>{null!=t&&(this.cliente=t)})}eliminar(){confirm("\xbfSeguro que quieres eliminar?")&&(this.clientesServicio.eliminarCliente(this.cliente),this.router.navigate(["/"]))}guardar({value:t,valid:r}){r?(t.id=this.id,this.clientesServicio.modificarCliente(t),this.router.navigate(["/"])):this.flashMessages.show("Por favor llene el formulario correctamente",{cssClass:"alert-danger",timeout:4e3})}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(Ys.GQ),h.\u0275\u0275directiveInject(pT),h.\u0275\u0275directiveInject(jr),h.\u0275\u0275directiveInject(Cl))},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-editar-clientes"]],viewQuery:function(t,r){if(1&t&&h.\u0275\u0275viewQuery($M,5),2&t){let a;h.\u0275\u0275queryRefresh(a=h.\u0275\u0275loadQuery())&&(r.clienteForm=a.first)}},decls:68,vars:23,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"cold-md-6"],[1,"fas","fa-user"],[3,"ngSubmit"],["clienteForm","ngForm"],["id","actions",1,"py-4","mb-4","bg-light"],[1,"col-md-3"],["routerLink","/",1,"btn","btn-light","btn-block"],[1,"fas","fa-arrow-left"],["type","submit",1,"btn","btn-success","btn-block"],[1,"fas","fa-check"],["href","#",1,"btn","btn-danger","btn-block",3,"click"],[1,"fas","fa-trash"],["id","details"],[1,"col"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group"],["for","nombre"],["type","text","name","nombre","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nombre","ngModel"],[1,"invalid-feedback",3,"hidden"],["for","apellido"],["type","text","name","apellido","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["apellido","ngModel"],["for","email"],["type","email","name","email","required","","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["email","ngModel"],["for","saldo"],["type","number","name","saldo","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["saldo","ngModel"]],template:function(t,r){if(1&t){const a=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"header",0),h.\u0275\u0275elementStart(1,"div",1),h.\u0275\u0275elementStart(2,"div",2),h.\u0275\u0275elementStart(3,"div",3),h.\u0275\u0275elementStart(4,"h1"),h.\u0275\u0275element(5,"i",4),h.\u0275\u0275text(6,"Editar Cliente"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(7,"form",5,6),h.\u0275\u0275listener("ngSubmit",function(){h.\u0275\u0275restoreView(a);const p=h.\u0275\u0275reference(8);return r.guardar(p)}),h.\u0275\u0275element(9,"flash-messages"),h.\u0275\u0275elementStart(10,"section",7),h.\u0275\u0275elementStart(11,"div",1),h.\u0275\u0275elementStart(12,"div",2),h.\u0275\u0275elementStart(13,"div",8),h.\u0275\u0275elementStart(14,"a",9),h.\u0275\u0275element(15,"i",10),h.\u0275\u0275text(16," Regresar al Inicio "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(17,"div",8),h.\u0275\u0275elementStart(18,"button",11),h.\u0275\u0275element(19,"i",12),h.\u0275\u0275text(20," Guardar Cliente "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(21,"div",8),h.\u0275\u0275elementStart(22,"a",13),h.\u0275\u0275listener("click",function(){return r.eliminar()}),h.\u0275\u0275element(23,"i",14),h.\u0275\u0275text(24," Eliminar Cliente "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(25,"section",15),h.\u0275\u0275elementStart(26,"div",1),h.\u0275\u0275elementStart(27,"div",2),h.\u0275\u0275elementStart(28,"div",16),h.\u0275\u0275elementStart(29,"div",17),h.\u0275\u0275elementStart(30,"div",18),h.\u0275\u0275elementStart(31,"h4"),h.\u0275\u0275text(32,"Editar Cliente"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(33,"div",19),h.\u0275\u0275elementStart(34,"div",20),h.\u0275\u0275elementStart(35,"label",21),h.\u0275\u0275text(36,"Nombre"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(37,"input",22,23),h.\u0275\u0275listener("ngModelChange",function(p){return r.cliente.nombre=p}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(39,"div",24),h.\u0275\u0275text(40," Nombre requerido "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(41,"div",24),h.\u0275\u0275text(42," Debe contener al menos 2 caracteres "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(43,"div",20),h.\u0275\u0275elementStart(44,"label",25),h.\u0275\u0275text(45,"Apellido"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(46,"input",26,27),h.\u0275\u0275listener("ngModelChange",function(p){return r.cliente.apellido=p}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(48,"div",24),h.\u0275\u0275text(49," Apellido requerido "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(50,"div",24),h.\u0275\u0275text(51," Debe contener al menos 2 caracteres "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(52,"div",20),h.\u0275\u0275elementStart(53,"label",28),h.\u0275\u0275text(54,"Email"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(55,"input",29,30),h.\u0275\u0275listener("ngModelChange",function(p){return r.cliente.email=p}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(57,"div",24),h.\u0275\u0275text(58," Email requerido "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(59,"div",24),h.\u0275\u0275text(60," Email Incorrecto "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(61,"div",20),h.\u0275\u0275elementStart(62,"label",31),h.\u0275\u0275text(63,"Saldo"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(64,"input",32,33),h.\u0275\u0275listener("ngModelChange",function(p){return r.cliente.saldo=p}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(66,"div",24),h.\u0275\u0275text(67," Saldo requerido "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()}if(2&t){const a=h.\u0275\u0275reference(38),l=h.\u0275\u0275reference(47),p=h.\u0275\u0275reference(56),v=h.\u0275\u0275reference(65);h.\u0275\u0275advance(37),h.\u0275\u0275property("ngModel",r.cliente.nombre)("ngClass",h.\u0275\u0275pureFunction1(15,bC,a.errors&&a.touched)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=a.errors&&a.errors.required)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=a.errors&&a.errors.minlength)),h.\u0275\u0275advance(5),h.\u0275\u0275property("ngModel",r.cliente.apellido)("ngClass",h.\u0275\u0275pureFunction1(17,bC,l.errors&&l.touched)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.required)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.minlength)),h.\u0275\u0275advance(5),h.\u0275\u0275property("ngModel",r.cliente.email)("ngClass",h.\u0275\u0275pureFunction1(19,bC,p.errors&&p.touched)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=p.errors&&p.errors.required)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=p.errors&&p.errors.pattern)),h.\u0275\u0275advance(5),h.\u0275\u0275property("ngModel",r.cliente.saldo)("ngClass",h.\u0275\u0275pureFunction1(21,bC,v.errors&&v.touched)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=v.errors&&v.errors.required))}},directives:[Ts,Ds,Do,Ys.cS,Fa,Xs,bo,Sc,Cs,Qo,I.NgClass,mu,wc],styles:[""]}),n})(),TC=(()=>{class n{constructor(t){this.authService=t}login(t,r){return new Promise((a,l)=>{this.authService.signInWithEmailAndPassword(t,r).then(p=>a(p),p=>l(p))})}registrarse(t,r){return new Promise((a,l)=>{this.authService.createUserWithEmailAndPassword(t,r).then(p=>a(p),p=>l(p))})}getAuth(){return this.authService.authState.pipe((0,bt.U)(t=>t))}logiOut(){console.log("voy a entrar"),console.log("voy a salir"),this.authService.signOut(),console.log("ya sali")}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(_o))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),GM=(()=>{class n{constructor(t,r,a){this.router=t,this.flashMessages=r,this.loginService=a,this.email="",this.password=""}ngOnInit(){this.loginService.getAuth().subscribe(t=>{t&&this.router.navigate(["/"])})}login(){this.loginService.login(this.email,this.password).then(t=>{this.router.navigate(["/"])}).catch(t=>{this.flashMessages.show(t.messages,{cssClass:"alert-danger",timeout:4e3})})}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(jr),h.\u0275\u0275directiveInject(Ys.GQ),h.\u0275\u0275directiveInject(TC))},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-login"]],decls:30,vars:2,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"cold-md-6"],[1,"fas","fa-user"],["id","actions",1,"py-4","mb-4","bg-light"],["id","login"],[1,"col-md-6","mx-auto"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"submit"],[1,"form-group"],["for","email"],["type","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","login","clas","btn btn-primary btn-block"]],template:function(t,r){1&t&&(h.\u0275\u0275elementStart(0,"header",0),h.\u0275\u0275elementStart(1,"div",1),h.\u0275\u0275elementStart(2,"div",2),h.\u0275\u0275elementStart(3,"div",3),h.\u0275\u0275elementStart(4,"h1"),h.\u0275\u0275element(5,"i",4),h.\u0275\u0275text(6,"Login"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(7,"section",5),h.\u0275\u0275elementStart(8,"div",1),h.\u0275\u0275element(9,"div",2),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(10,"flash-messages"),h.\u0275\u0275elementStart(11,"section",6),h.\u0275\u0275elementStart(12,"div",1),h.\u0275\u0275elementStart(13,"div",2),h.\u0275\u0275elementStart(14,"div",7),h.\u0275\u0275elementStart(15,"div",8),h.\u0275\u0275elementStart(16,"div",9),h.\u0275\u0275elementStart(17,"h4"),h.\u0275\u0275text(18,"Login"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(19,"div",10),h.\u0275\u0275elementStart(20,"form",11),h.\u0275\u0275listener("submit",function(){return r.login()}),h.\u0275\u0275elementStart(21,"div",12),h.\u0275\u0275elementStart(22,"label",13),h.\u0275\u0275text(23,"Email"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(24,"input",14),h.\u0275\u0275listener("ngModelChange",function(l){return r.email=l}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(25,"div",12),h.\u0275\u0275elementStart(26,"label",15),h.\u0275\u0275text(27,"Password"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(28,"input",16),h.\u0275\u0275listener("ngModelChange",function(l){return r.password=l}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(29,"input",17),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&t&&(h.\u0275\u0275advance(24),h.\u0275\u0275property("ngModel",r.email),h.\u0275\u0275advance(4),h.\u0275\u0275property("ngModel",r.password))},directives:[Ys.cS,Ts,Ds,Do,Xs,bo,Cs,Qo],styles:[""]}),n})(),qM=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-no-encontrado"]],decls:2,vars:0,template:function(t,r){1&t&&(h.\u0275\u0275elementStart(0,"p"),h.\u0275\u0275text(1,"no-encontrado works!"),h.\u0275\u0275elementEnd())},styles:[""]}),n})(),zM=(()=>{class n{constructor(t,r,a){this.router=t,this.flashMessages=r,this.loginService=a,this.email="",this.password=""}ngOnInit(){this.loginService.getAuth().subscribe(t=>{t&&this.router.navigate(["/"])})}registro(){this.loginService.registrarse(this.email,this.password).then(t=>{this.router.navigate(["/"])}).catch(t=>{this.flashMessages.show(t.message,{cssClass:"alert-danger",timeout:4e3})})}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(jr),h.\u0275\u0275directiveInject(Ys.GQ),h.\u0275\u0275directiveInject(TC))},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-registro"]],decls:30,vars:2,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"cold-md-6"],[1,"fas","fa-user"],["id","actions",1,"py-4","mb-4","bg-light"],["id","registro"],[1,"col-md-6","mx-auto"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"submit"],[1,"form-group"],["for","email"],["type","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","registrarse","clas","btn btn-primary btn-block"]],template:function(t,r){1&t&&(h.\u0275\u0275elementStart(0,"header",0),h.\u0275\u0275elementStart(1,"div",1),h.\u0275\u0275elementStart(2,"div",2),h.\u0275\u0275elementStart(3,"div",3),h.\u0275\u0275elementStart(4,"h1"),h.\u0275\u0275element(5,"i",4),h.\u0275\u0275text(6,"Registro"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(7,"section",5),h.\u0275\u0275elementStart(8,"div",1),h.\u0275\u0275element(9,"div",2),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(10,"flash-messages"),h.\u0275\u0275elementStart(11,"section",6),h.\u0275\u0275elementStart(12,"div",1),h.\u0275\u0275elementStart(13,"div",2),h.\u0275\u0275elementStart(14,"div",7),h.\u0275\u0275elementStart(15,"div",8),h.\u0275\u0275elementStart(16,"div",9),h.\u0275\u0275elementStart(17,"h4"),h.\u0275\u0275text(18,"Registro"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(19,"div",10),h.\u0275\u0275elementStart(20,"form",11),h.\u0275\u0275listener("submit",function(){return r.registro()}),h.\u0275\u0275elementStart(21,"div",12),h.\u0275\u0275elementStart(22,"label",13),h.\u0275\u0275text(23,"Email"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(24,"input",14),h.\u0275\u0275listener("ngModelChange",function(l){return r.email=l}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(25,"div",12),h.\u0275\u0275elementStart(26,"label",15),h.\u0275\u0275text(27,"Password"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(28,"input",16),h.\u0275\u0275listener("ngModelChange",function(l){return r.password=l}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(29,"input",17),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&t&&(h.\u0275\u0275advance(24),h.\u0275\u0275property("ngModel",r.email),h.\u0275\u0275advance(4),h.\u0275\u0275property("ngModel",r.password))},directives:[Ys.cS,Ts,Ds,Do,Xs,bo,Cs,Qo],styles:[""]}),n})();const WM=["clienteForm"],KM=["botonCerrar"];function ZM(n,e){if(1&n&&(h.\u0275\u0275elementStart(0,"tr"),h.\u0275\u0275elementStart(1,"td"),h.\u0275\u0275text(2),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(3,"td"),h.\u0275\u0275text(4),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(5,"td"),h.\u0275\u0275text(6),h.\u0275\u0275pipe(7,"currency"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(8,"td"),h.\u0275\u0275elementStart(9,"a",43),h.\u0275\u0275element(10,"i",44),h.\u0275\u0275text(11," Editar "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&n){const t=e.$implicit,r=e.index;h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate(r+1),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate2("",t.nombre,"",t.apellido,""),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate(h.\u0275\u0275pipeBind3(7,5,t.saldo,"MNX","$")),h.\u0275\u0275advance(3),h.\u0275\u0275propertyInterpolate1("routerLink","/cliente/editar/",t.id,"")}}const SC=function(n){return{"is-invalid":n}};let QM=(()=>{class n{constructor(t,r){this.flashMessages=t,this.clientesServicio=r,this.cliente={nombre:"",apellido:"",email:"",saldo:0}}ngOnInit(){this.clientesServicio.getClientes().subscribe(t=>{this.clientes=t})}getSaldoTotal(){let t=0;return this.clientes&&this.clientes.forEach(r=>{t+=r.saldo}),t}agregar3(){}agregar({value:t,valid:r}){console.log("el nombre es.... "+this.cliente.nombre),r?(this.clientesServicio.agregarCliente(t),this.clienteForm.resetForm(),this.cerrarModal()):this.flashMessages.show("Por favor llena el formulario correctamente",{cssClass:"alert-danger",timeout:4e3})}cerrarModal(){this.botonCerrar.nativeElement.click()}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(Ys.GQ),h.\u0275\u0275directiveInject(pT))},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-clientes"]],viewQuery:function(t,r){if(1&t&&(h.\u0275\u0275viewQuery(WM,5),h.\u0275\u0275viewQuery(KM,5)),2&t){let a;h.\u0275\u0275queryRefresh(a=h.\u0275\u0275loadQuery())&&(r.clienteForm=a.first),h.\u0275\u0275queryRefresh(a=h.\u0275\u0275loadQuery())&&(r.botonCerrar=a.first)}},decls:91,vars:30,consts:[["id","actions",1,"py-4","mb-4","bg-light"],[1,"container"],[1,"row"],[1,"col-md-3"],["href","#","data-toggle","modal","data-target","#agregarClienteModal",1,"btn","btn-primary","btn-block"],[1,"fas","fa-plus"],["id","clientes"],[1,"col-md-9"],[1,"card"],[1,"card-header"],[1,"table","table-striped"],[1,"thead-dark"],[4,"ngFor","ngForOf"],["id","kat",1,"card","text-center","#226AA7","text-white","mb-3"],[1,"display-4"],["id","kat2",1,"card","text-center","text-white","mb-3"],[1,"fas","fa-users"],["id","agregarClienteModal",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header","bg-info","text-white"],[1,"modal-title"],["data-dismiss","modal",1,"close"],["botonCerrar",""],[3,"ngSubmit"],["clienteForm","ngForm"],[1,"modal-body"],[1,"form-group"],["for","nombre"],["type","text","name","nombre","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nombre","ngModel"],[1,"invalid-feedback",3,"hidden"],["for","apellido"],["type","text","name","apellido","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["apellido","ngModel"],["for","email"],["type","email","name","email","required","","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["email","ngModel"],["for","saldo"],["type","number","name","saldo","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["saldo","ngModel"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fas","fa-angle-double-right"]],template:function(t,r){if(1&t){const a=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"section",0),h.\u0275\u0275elementStart(1,"div",1),h.\u0275\u0275elementStart(2,"div",2),h.\u0275\u0275elementStart(3,"div",3),h.\u0275\u0275elementStart(4,"a",4),h.\u0275\u0275element(5,"i",5),h.\u0275\u0275text(6,"Agregar Cliente "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(7,"section",6),h.\u0275\u0275elementStart(8,"div",1),h.\u0275\u0275elementStart(9,"div",2),h.\u0275\u0275elementStart(10,"div",7),h.\u0275\u0275elementStart(11,"div",8),h.\u0275\u0275elementStart(12,"div",9),h.\u0275\u0275elementStart(13,"h4"),h.\u0275\u0275text(14,"Listado de Clientes"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(15,"table",10),h.\u0275\u0275elementStart(16,"thead",11),h.\u0275\u0275elementStart(17,"tr"),h.\u0275\u0275elementStart(18,"th"),h.\u0275\u0275text(19,"#"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(20,"th"),h.\u0275\u0275text(21,"Nombre"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(22,"th"),h.\u0275\u0275text(23,"Saldo"),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(24,"th"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(25,"tbody"),h.\u0275\u0275template(26,ZM,12,9,"tr",12),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(27,"div",3),h.\u0275\u0275elementStart(28,"div",13),h.\u0275\u0275elementStart(29,"h3"),h.\u0275\u0275text(30,"Saldo Total"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(31,"h4",14),h.\u0275\u0275text(32),h.\u0275\u0275pipe(33,"currency"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(34,"div",15),h.\u0275\u0275elementStart(35,"h3"),h.\u0275\u0275text(36,"Total Clientes"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(37,"h4",14),h.\u0275\u0275element(38,"i",16),h.\u0275\u0275text(39),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(40,"div",17),h.\u0275\u0275elementStart(41,"div",18),h.\u0275\u0275elementStart(42,"div",19),h.\u0275\u0275elementStart(43,"div",20),h.\u0275\u0275elementStart(44,"h5",21),h.\u0275\u0275text(45,"Agregar Cliente"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(46,"button",22,23),h.\u0275\u0275elementStart(48,"span"),h.\u0275\u0275text(49,"\xd7"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(50,"flash-messages"),h.\u0275\u0275elementStart(51,"form",24,25),h.\u0275\u0275listener("ngSubmit",function(){h.\u0275\u0275restoreView(a);const p=h.\u0275\u0275reference(52);return r.agregar(p)}),h.\u0275\u0275elementStart(53,"div",26),h.\u0275\u0275elementStart(54,"div",27),h.\u0275\u0275elementStart(55,"label",28),h.\u0275\u0275text(56,"Nombre"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(57,"input",29,30),h.\u0275\u0275listener("ngModelChange",function(p){return r.cliente.nombre=p}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(59,"div",31),h.\u0275\u0275text(60," Nombre requerido "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(61,"div",31),h.\u0275\u0275text(62," Debe contener al menos 2 caracteres "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(63,"div",27),h.\u0275\u0275elementStart(64,"label",32),h.\u0275\u0275text(65,"Apellido"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(66,"input",33,34),h.\u0275\u0275listener("ngModelChange",function(p){return r.cliente.apellido=p}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(68,"div",31),h.\u0275\u0275text(69," Apellido requerido "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(70,"div",31),h.\u0275\u0275text(71," Debe contener al menos 2 caracteres "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(72,"div",27),h.\u0275\u0275elementStart(73,"label",35),h.\u0275\u0275text(74,"Email"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(75,"input",36,37),h.\u0275\u0275listener("ngModelChange",function(p){return r.cliente.email=p}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(77,"div",31),h.\u0275\u0275text(78," Email requerido "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(79,"div",31),h.\u0275\u0275text(80," Email Incorrecto "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(81,"div",27),h.\u0275\u0275elementStart(82,"label",38),h.\u0275\u0275text(83,"Saldo"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(84,"input",39,40),h.\u0275\u0275listener("ngModelChange",function(p){return r.cliente.saldo=p}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(86,"div",31),h.\u0275\u0275text(87," Saldo requerido "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(88,"div",41),h.\u0275\u0275elementStart(89,"button",42),h.\u0275\u0275text(90,"Guardar"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()}if(2&t){const a=h.\u0275\u0275reference(58),l=h.\u0275\u0275reference(67),p=h.\u0275\u0275reference(76),v=h.\u0275\u0275reference(85);h.\u0275\u0275advance(26),h.\u0275\u0275property("ngForOf",r.clientes),h.\u0275\u0275advance(6),h.\u0275\u0275textInterpolate1(" ",h.\u0275\u0275pipeBind3(33,18,r.getSaldoTotal(),"MNX","$")," "),h.\u0275\u0275advance(7),h.\u0275\u0275textInterpolate1("",null==r.clientes?null:r.clientes.length," "),h.\u0275\u0275advance(18),h.\u0275\u0275property("ngModel",r.cliente.nombre)("ngClass",h.\u0275\u0275pureFunction1(22,SC,a.errors&&a.touched)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=a.errors&&a.errors.required)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=a.errors&&a.errors.minlength)),h.\u0275\u0275advance(5),h.\u0275\u0275property("ngModel",r.cliente.apellido)("ngClass",h.\u0275\u0275pureFunction1(24,SC,l.errors&&l.touched)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.required)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.minlength)),h.\u0275\u0275advance(5),h.\u0275\u0275property("ngModel",r.cliente.email)("ngClass",h.\u0275\u0275pureFunction1(26,SC,p.errors&&p.touched)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=p.errors&&p.errors.required)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=p.errors&&p.errors.pattern)),h.\u0275\u0275advance(5),h.\u0275\u0275property("ngModel",r.cliente.saldo)("ngClass",h.\u0275\u0275pureFunction1(28,SC,v.errors&&v.touched)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=v.errors&&v.errors.required))}},directives:[I.NgForOf,Fa,Ys.cS,Ts,Ds,Do,Xs,bo,Sc,Cs,Qo,I.NgClass,mu,wc],pipes:[I.CurrencyPipe],styles:["#kat[_ngcontent-%COMP%]{background-color:#226aa7}#kat2[_ngcontent-%COMP%]{background-color:#3c3e3b}"]}),n})(),YM=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-tablero"]],decls:8,vars:0,consts:[["id","main-header",1,"py","2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-md-8"],[1,"fas","fa-cog"]],template:function(t,r){1&t&&(h.\u0275\u0275elementStart(0,"header",0),h.\u0275\u0275elementStart(1,"div",1),h.\u0275\u0275elementStart(2,"div",2),h.\u0275\u0275elementStart(3,"div",3),h.\u0275\u0275elementStart(4,"h1"),h.\u0275\u0275element(5,"i",4),h.\u0275\u0275text(6,"Control de Clientes "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(7,"app-clientes"))},directives:[QM],styles:[""]}),n})(),AC=(()=>{class n{constructor(t,r){this.router=t,this.afAuth=r}canActivate(){return this.afAuth.authState.pipe((0,bt.U)(t=>!!t||(this.router.navigate(["/login"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(jr),h.\u0275\u0275inject(_o))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),BS=(()=>{class n{constructor(t,r,a){this.router=t,this.afAuth=r,this.configuracionServicio=a}canActivate(){return this.configuracionServicio.getConfiguracion().pipe((0,bt.U)(t=>!!t.permitirRegistro||(this.router.navigate(["/login"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(jr),h.\u0275\u0275inject(_o),h.\u0275\u0275inject(DC))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const JM=[{path:"",component:YM,canActivate:[AC]},{path:"login",component:GM},{path:"registrarse",component:zM,canActivate:[BS]},{path:"configuracion",component:BM,canActivate:[AC]},{path:"cliente/editar/:id",component:HM,canActivate:[AC]},{path:"**",component:qM}];let XM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=h.\u0275\u0275defineInjector({imports:[[Ov.forRoot(JM)],Ov]}),n})();function ex(n,e){1&n&&(h.\u0275\u0275elementStart(0,"li",11),h.\u0275\u0275elementStart(1,"a",12),h.\u0275\u0275text(2,"Inicio"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd())}function tx(n,e){if(1&n&&(h.\u0275\u0275elementStart(0,"li",13),h.\u0275\u0275elementStart(1,"a",14),h.\u0275\u0275element(2,"i",15),h.\u0275\u0275text(3),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(4,"div",16),h.\u0275\u0275elementStart(5,"a",17),h.\u0275\u0275element(6,"i",18),h.\u0275\u0275text(7,"Configuraci\xf3n "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&n){const t=h.\u0275\u0275nextContext();h.\u0275\u0275advance(3),h.\u0275\u0275textInterpolate1("Bienvenido ",t.loggedInUser," ")}}function nx(n,e){1&n&&(h.\u0275\u0275elementStart(0,"li",19),h.\u0275\u0275elementStart(1,"a",20),h.\u0275\u0275element(2,"i",21),h.\u0275\u0275text(3,"Login "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd())}function rx(n,e){1&n&&(h.\u0275\u0275elementStart(0,"li",19),h.\u0275\u0275elementStart(1,"a",22),h.\u0275\u0275element(2,"i",21),h.\u0275\u0275text(3,"Registrarse "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd())}function ix(n,e){if(1&n){const t=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"li",19),h.\u0275\u0275elementStart(1,"a",23),h.\u0275\u0275listener("click",function(){return h.\u0275\u0275restoreView(t),h.\u0275\u0275nextContext().logOut()}),h.\u0275\u0275element(2,"i",24),h.\u0275\u0275text(3,"LogOut "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()}}let sx=(()=>{class n{constructor(t,r,a){this.loginService=t,this.router=r,this.configuracionServicio=a}ngOnInit(){this.loginService.getAuth().subscribe(t=>{t&&(this.isLoggedIn=!0,null!=t.email?this.loggedInUser=t.email:this.isLoggedIn=!1)}),this.configuracionServicio.getConfiguracion().subscribe(t=>{null!=(null==t?void 0:t.permitirRegistro)&&(this.permitirRegistro=null==t?void 0:t.permitirRegistro)})}logOut(){this.loginService.logiOut(),this.isLoggedIn=!1,this.router.navigate(["login"])}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(TC),h.\u0275\u0275directiveInject(jr),h.\u0275\u0275directiveInject(DC))},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-cabecero"]],decls:14,vars:5,consts:[[1,"navbar","navbar-expand-sm","navbar-dark","bg-dark","p-0"],[1,"container"],["routerLink","/",1,"navbar-brand"],["data-toggle","collapse","data-target","#navbarCollapse",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse"],[1,"navbar-nav"],["class","nav-item px-2",4,"ngIf"],[1,"navbar-nav","ml-auto"],["class","nav-item dropdown mr-3",4,"ngIf"],["class","nav-item",4,"ngIf"],[1,"nav-item","px-2"],["routerLink","/",1,"nav-link"],[1,"nav-item","dropdown","mr-3"],["href","#","data-toggle","dropdown",1,"nav-link","dropdown-toggle"],[1,"fas","fa-user"],[1,"dropdown-menu"],["routerLink","/configuracion",1,"dropdown-item"],[1,"fas","fa-cog"],[1,"nav-item"],["routerLink","/login",1,"nav-link"],["routerLinkActive","router-link-active",1,"fas","fa-user"],["routerLink","/registrarse",1,"nav-link"],[1,"nav-link",2,"cursor","pointer",3,"click"],[1,"fas","fa-user-times"]],template:function(t,r){1&t&&(h.\u0275\u0275elementStart(0,"nav",0),h.\u0275\u0275elementStart(1,"div",1),h.\u0275\u0275elementStart(2,"a",2),h.\u0275\u0275text(3,"Control Clientes"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(4,"button",3),h.\u0275\u0275element(5,"span",4),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(6,"div",5),h.\u0275\u0275elementStart(7,"ul",6),h.\u0275\u0275template(8,ex,3,0,"li",7),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(9,"ul",8),h.\u0275\u0275template(10,tx,8,1,"li",9),h.\u0275\u0275template(11,nx,4,0,"li",10),h.\u0275\u0275template(12,rx,4,0,"li",10),h.\u0275\u0275template(13,ix,4,0,"li",10),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&t&&(h.\u0275\u0275advance(8),h.\u0275\u0275property("ngIf",r.isLoggedIn),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngIf",r.isLoggedIn),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",!r.isLoggedIn&&r.permitirRegistro),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",!r.isLoggedIn&&r.permitirRegistro),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",r.isLoggedIn))},directives:[Fa,I.NgIf,K0],styles:[""]}),n})(),ox=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-pie-pagina"]],decls:6,vars:0,consts:[["id","pie-pagina",1,"bg-warning","text-hite","mt-5","p-5"],[1,"container"],[1,"row"],[1,"col"],[1,"lead","text-center"]],template:function(t,r){1&t&&(h.\u0275\u0275elementStart(0,"footer",0),h.\u0275\u0275elementStart(1,"div",1),h.\u0275\u0275elementStart(2,"div",2),h.\u0275\u0275elementStart(3,"div",3),h.\u0275\u0275elementStart(4,"p",4),h.\u0275\u0275text(5," Copryright \xa9 YaTuSabes.com "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd())},styles:[""]}),n})(),ax=(()=>{class n{constructor(){this.title="control-clientes"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&(h.\u0275\u0275element(0,"app-cabecero"),h.\u0275\u0275element(1,"router-outlet"),h.\u0275\u0275element(2,"app-pie-pagina"))},directives:[sx,fv,ox],styles:[""]}),n})(),ux=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n,bootstrap:[ax]}),n.\u0275inj=h.\u0275\u0275defineInjector({providers:[pT,TC,AC,DC,BS],imports:[[Fe,XM,rr.hO.initializeApp(fs_firestore,"control-clientes"),rr.hO,br,Yy,rr.hO.initializeApp(fs_firestore,"control-clientes"),rr.hO,br,Yy,Ys.qz.forRoot()]]}),n})();(0,h.enableProdMode)(),Ar().bootstrapModule(ux).catch(n=>console.error(n))},5867:(ut,Ie,F)=>{"use strict";F.d(Ie,{Mq:()=>I.getApp,C6:()=>I.getApps});var I=F(9681);(0,I.registerVersion)("firebase","9.6.8","app")},127:(ut,Ie,F)=>{"use strict";F.d(Ie,{Z:()=>I.Z});var I=F(3942);I.Z.registerVersion("firebase","9.6.8","app-compat")},2438:(ut,Ie,F)=>{"use strict";F.r(Ie);var I=F(5861),h=F(3942),V=F(2090),oe=F(9681);function ae(m,d){var f={};for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&d.indexOf(_)<0&&(f[_]=m[_]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(_=Object.getOwnPropertySymbols(m);b<_.length;b++)d.indexOf(_[b])<0&&Object.prototype.propertyIsEnumerable.call(m,_[b])&&(f[_[b]]=m[_[b]])}return f}var Be=F(1877),ge=F(4859);const cr=function Hn(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},tn=function Xt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},wr=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),bn=new Be.Yd("@firebase/auth");function vi(m,...d){bn.logLevel<=Be.in.ERROR&&bn.error(`Auth (${oe.SDK_VERSION}): ${m}`,...d)}function nn(m,...d){throw _i(m,...d)}function Qt(m,...d){return _i(m,...d)}function cs(m,d,f){const _=Object.assign(Object.assign({},tn()),{[d]:f});return new V.LL("auth","Firebase",_).create(d,{appName:m.name})}function Ar(m,d,f){if(!(d instanceof f))throw f.name!==d.constructor.name&&nn(m,"argument-error"),cs(m,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _i(m,...d){if("string"!=typeof m){const f=d[0],_=[...d.slice(1)];return _[0]&&(_[0].appName=m.name),m._errorFactory.create(f,..._)}return wr.create(m,...d)}function Fe(m,d,...f){if(!m)throw _i(d,...f)}function dr(m){const d="INTERNAL ASSERTION FAILED: "+m;throw vi(d),new Error(d)}function ct(m,d){m||dr(d)}const Ei=new Map;function Wt(m){ct(m instanceof Function,"Expected a class definition");let d=Ei.get(m);return d?(ct(d instanceof m,"Instance stored in cache mismatched with class"),d):(d=new m,Ei.set(m,d),d)}function Mr(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function hr(){return"http:"===Cn()||"https:"===Cn()}function Cn(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class $t{constructor(d,f){this.shortDelay=d,this.longDelay=f,ct(f>d,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function on(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(hr()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gt(m,d){ct(m.emulator,"Emulator should always be set here");const{url:f}=m.emulator;return d?`${f}${d.startsWith("/")?d.slice(1):d}`:f}class Et{static initialize(d,f,_){this.fetchImpl=d,f&&(this.headersImpl=f),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Gi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},hs=new $t(3e4,6e4);function vt(m,d){return m.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:m.tenantId}):d}function En(m,d,f,_){return fr.apply(this,arguments)}function fr(){return(fr=(0,I.Z)(function*(m,d,f,_,b={}){return Oi(m,b,(0,I.Z)(function*(){let R={},q={};_&&("GET"===d?q=_:R={body:JSON.stringify(_)});const se=(0,V.xO)(Object.assign({key:m.config.apiKey},q)).slice(1),He=yield m._getAdditionalHeaders();return He["Content-Type"]="application/json",m.languageCode&&(He["X-Firebase-Locale"]=m.languageCode),Et.fetch()(Ae(m,m.config.apiHost,f,se),Object.assign({method:d,headers:He,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Oi(m,d,f){return G.apply(this,arguments)}function G(){return(G=(0,I.Z)(function*(m,d,f){m._canInitEmulator=!1;const _=Object.assign(Object.assign({},Gi),d);try{const b=new ie(m),R=yield Promise.race([f(),b.promise]);b.clearNetworkTimeout();const q=yield R.json();if("needConfirmation"in q)throw Qe(m,"account-exists-with-different-credential",q);if(R.ok&&!("errorMessage"in q))return q;{const se=R.ok?q.errorMessage:q.error.message,[He,je]=se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===He)throw Qe(m,"credential-already-in-use",q);if("EMAIL_EXISTS"===He)throw Qe(m,"email-already-in-use",q);const it=_[He]||He.toLowerCase().replace(/[_\s]+/g,"-");if(je)throw cs(m,it,je);nn(m,it)}}catch(b){if(b instanceof V.ZR)throw b;nn(m,"network-request-failed")}})).apply(this,arguments)}function W(m,d,f,_){return Q.apply(this,arguments)}function Q(){return(Q=(0,I.Z)(function*(m,d,f,_,b={}){const R=yield En(m,d,f,_,b);return"mfaPendingCredential"in R&&nn(m,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Ae(m,d,f,_){const b=`${d}${f}?${_}`;return m.config.emulator?gt(m.config,b):`${m.config.apiScheme}://${b}`}class ie{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((f,_)=>{this.timer=setTimeout(()=>_(Qt(this.auth,"network-request-failed")),hs.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qe(m,d,f){const _={appName:m.name};f.email&&(_.email=f.email),f.phoneNumber&&(_.phoneNumber=f.phoneNumber);const b=Qt(m,d,_);return b.customData._tokenResponse=f,b}function Te(){return(Te=(0,I.Z)(function*(m,d){return En(m,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Ke(m,d){return dt.apply(this,arguments)}function dt(){return(dt=(0,I.Z)(function*(m,d){return En(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Pt(m,d){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,I.Z)(function*(m,d){return En(m,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function gn(m){if(m)try{const d=new Date(Number(m));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function fs(){return(fs=(0,I.Z)(function*(m,d=!1){const f=(0,V.m9)(m),_=yield f.getIdToken(d),b=xr(_);Fe(b&&b.exp&&b.auth_time&&b.iat,f.auth,"internal-error");const R="object"==typeof b.firebase?b.firebase:void 0,q=null==R?void 0:R.sign_in_provider;return{claims:b,token:_,authTime:gn(rr(b.auth_time)),issuedAtTime:gn(rr(b.iat)),expirationTime:gn(rr(b.exp)),signInProvider:q||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function rr(m){return 1e3*Number(m)}function xr(m){const[d,f,_]=m.split(".");if(void 0===d||void 0===f||void 0===_)return vi("JWT malformed, contained fewer than 3 sections"),null;try{const b=(0,V.tV)(f);return b?JSON.parse(b):(vi("Failed to decode base64 JWT payload"),null)}catch(b){return vi("Caught error parsing JWT payload as JSON",b),null}}function kt(m,d){return mt.apply(this,arguments)}function mt(){return(mt=(0,I.Z)(function*(m,d,f=!1){if(f)return d;try{return yield d}catch(_){throw _ instanceof V.ZR&&an(_)&&m.auth.currentUser===m&&(yield m.auth.signOut()),_}})).apply(this,arguments)}function an({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class ps{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var f;if(d){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const b=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,b)}}schedule(d=!1){var f=this;if(!this.isRunning)return;const _=this.getInterval(d);this.timerId=setTimeout((0,I.Z)(function*(){yield f.iteration()}),_)}iteration(){var d=this;return(0,I.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f.code&&d.schedule(!0))}d.schedule()})()}}class co{constructor(d,f){this.createdAt=d,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=gn(this.lastLoginAt),this.creationTime=gn(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Rr(m){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,I.Z)(function*(m){var d;const f=m.auth,_=yield m.getIdToken(),b=yield kt(m,Pt(f,{idToken:_}));Fe(null==b?void 0:b.users.length,f,"internal-error");const R=b.users[0];m._notifyReloadListener(R);const q=(null===(d=R.providerUserInfo)||void 0===d?void 0:d.length)?Or(R.providerUserInfo):[],se=bt(m.providerData,q),it=!!m.isAnonymous&&!(m.email&&R.passwordHash||(null==se?void 0:se.length)),ht={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:se,metadata:new co(R.createdAt,R.lastLoginAt),isAnonymous:it};Object.assign(m,ht)})).apply(this,arguments)}function Kt(){return(Kt=(0,I.Z)(function*(m){const d=(0,V.m9)(m);yield Rr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function bt(m,d){return[...m.filter(_=>!d.some(b=>b.providerId===_.providerId)),...d]}function Or(m){return m.map(d=>{var{providerId:f}=d,_=ae(d,["providerId"]);return{providerId:f,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}function Rt(){return(Rt=(0,I.Z)(function*(m,d){const f=yield Oi(m,{},(0,I.Z)(function*(){const _=(0,V.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:b,apiKey:R}=m.config,q=Ae(m,b,"/v1/token",`key=${R}`),se=yield m._getAdditionalHeaders();return se["Content-Type"]="application/x-www-form-urlencoded",Et.fetch()(q,{method:"POST",headers:se,body:_})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class Yt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){Fe(d.idToken,"internal-error"),Fe(void 0!==d.idToken,"internal-error"),Fe(void 0!==d.refreshToken,"internal-error");const f="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function Tn(m){const d=xr(m);return Fe(d,"internal-error"),Fe(void 0!==d.exp,"internal-error"),Fe(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,f)}getToken(d,f=!1){var _=this;return(0,I.Z)(function*(){return Fe(!_.accessToken||_.refreshToken,d,"user-token-expired"),f||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(d,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,f){var _=this;return(0,I.Z)(function*(){const{accessToken:b,refreshToken:R,expiresIn:q}=yield function Ye(m,d){return Rt.apply(this,arguments)}(d,f);_.updateTokensAndExpiration(b,R,Number(q))})()}updateTokensAndExpiration(d,f,_){this.refreshToken=f||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(d,f){const{refreshToken:_,accessToken:b,expirationTime:R}=f,q=new Yt;return _&&(Fe("string"==typeof _,"internal-error",{appName:d}),q.refreshToken=_),b&&(Fe("string"==typeof b,"internal-error",{appName:d}),q.accessToken=b),R&&(Fe("number"==typeof R,"internal-error",{appName:d}),q.expirationTime=R),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Yt,this.toJSON())}_performRefresh(){return dr("not implemented")}}function Vn(m,d){Fe("string"==typeof m||void 0===m,"internal-error",{appName:d})}class Jn{constructor(d){var{uid:f,auth:_,stsTokenManager:b}=d,R=ae(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ps(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=_,this.stsTokenManager=b,this.accessToken=b.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new co(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(d){var f=this;return(0,I.Z)(function*(){const _=yield kt(f,f.stsTokenManager.getToken(f.auth,d));return Fe(_,f.auth,"internal-error"),f.accessToken!==_&&(f.accessToken=_,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),_})()}getIdTokenResult(d){return function Ka(m){return fs.apply(this,arguments)}(this,d)}reload(){return function Ln(m){return Kt.apply(this,arguments)}(this)}_assign(d){this!==d&&(Fe(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(f=>Object.assign({},f)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new Jn(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,f=!1){var _=this;return(0,I.Z)(function*(){let b=!1;d.idToken&&d.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(d),b=!0),f&&(yield Rr(_)),yield _.auth._persistUserIfCurrent(_),b&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var d=this;return(0,I.Z)(function*(){const f=yield d.getIdToken();return yield kt(d,function xe(m,d){return Te.apply(this,arguments)}(d.auth,{idToken:f})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,f){var _,b,R,q,se,He,je,it;const ht=null!==(_=f.displayName)&&void 0!==_?_:void 0,Ut=null!==(b=f.email)&&void 0!==b?b:void 0,tr=null!==(R=f.phoneNumber)&&void 0!==R?R:void 0,As=null!==(q=f.photoURL)&&void 0!==q?q:void 0,wu=null!==(se=f.tenantId)&&void 0!==se?se:void 0,sh=null!==(He=f._redirectEventId)&&void 0!==He?He:void 0,kc=null!==(je=f.createdAt)&&void 0!==je?je:void 0,_l=null!==(it=f.lastLoginAt)&&void 0!==it?it:void 0,{uid:El,emailVerified:oh,isAnonymous:Fc,providerData:Il,stsTokenManager:Vf}=f;Fe(El&&Vf,d,"internal-error");const wl=Yt.fromJSON(this.name,Vf);Fe("string"==typeof El,d,"internal-error"),Vn(ht,d.name),Vn(Ut,d.name),Fe("boolean"==typeof oh,d,"internal-error"),Fe("boolean"==typeof Fc,d,"internal-error"),Vn(tr,d.name),Vn(As,d.name),Vn(wu,d.name),Vn(sh,d.name),Vn(kc,d.name),Vn(_l,d.name);const ah=new Jn({uid:El,auth:d,email:Ut,emailVerified:oh,displayName:ht,isAnonymous:Fc,photoURL:As,phoneNumber:tr,tenantId:wu,stsTokenManager:wl,createdAt:kc,lastLoginAt:_l});return Il&&Array.isArray(Il)&&(ah.providerData=Il.map(Uf=>Object.assign({},Uf))),sh&&(ah._redirectEventId=sh),ah}static _fromIdTokenResponse(d,f,_=!1){return(0,I.Z)(function*(){const b=new Yt;b.updateFromServerResponse(f);const R=new Jn({uid:f.localId,auth:d,stsTokenManager:b,isAnonymous:_});return yield Rr(R),R})()}}const pr=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,I.Z)(function*(){return!0})()}_set(f,_){var b=this;return(0,I.Z)(function*(){b.storage[f]=_})()}_get(f){var _=this;return(0,I.Z)(function*(){const b=_.storage[f];return void 0===b?null:b})()}_remove(f){var _=this;return(0,I.Z)(function*(){delete _.storage[f]})()}_addListener(f,_){}_removeListener(f,_){}}return m.type="NONE",m})();function qt(m,d,f){return`firebase:${m}:${d}:${f}`}class ai{constructor(d,f,_){this.persistence=d,this.auth=f,this.userKey=_;const{config:b,name:R}=this.auth;this.fullUserKey=qt(this.userKey,b.apiKey,R),this.fullPersistenceKey=qt("persistence",b.apiKey,R),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,I.Z)(function*(){const f=yield d.persistence._get(d.fullUserKey);return f?Jn._fromJSON(d.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var f=this;return(0,I.Z)(function*(){if(f.persistence===d)return;const _=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=d,_?f.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,f,_="authUser"){return(0,I.Z)(function*(){if(!f.length)return new ai(Wt(pr),d,_);const b=(yield Promise.all(f.map(function(){var je=(0,I.Z)(function*(it){if(yield it._isAvailable())return it});return function(it){return je.apply(this,arguments)}}()))).filter(je=>je);let R=b[0]||Wt(pr);const q=qt(_,d.config.apiKey,d.name);let se=null;for(const je of f)try{const it=yield je._get(q);if(it){const ht=Jn._fromJSON(d,it);je!==R&&(se=ht),R=je;break}}catch(it){}const He=b.filter(je=>je._shouldAllowMigration);return R._shouldAllowMigration&&He.length?(R=He[0],se&&(yield R._set(q,se.toJSON())),yield Promise.all(f.map(function(){var je=(0,I.Z)(function*(it){if(it!==R)try{yield it._remove(q)}catch(ht){}});return function(it){return je.apply(this,arguments)}}())),new ai(R,d,_)):new ai(R,d,_)})()}}function Rn(m){const d=m.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Hs(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Tt(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(Ht(d))return"Blackberry";if(Gs(d))return"Webos";if(ui(d))return"Safari";if((d.includes("chrome/")||qi(d))&&!d.includes("edge/"))return"Chrome";if(Wr(d))return"Android";{const _=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==_?void 0:_.length))return _[1]}return"Other"}function Tt(m=(0,V.z$)()){return/firefox\//i.test(m)}function ui(m=(0,V.z$)()){const d=m.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function qi(m=(0,V.z$)()){return/crios\//i.test(m)}function Hs(m=(0,V.z$)()){return/iemobile/i.test(m)}function Wr(m=(0,V.z$)()){return/android/i.test(m)}function Ht(m=(0,V.z$)()){return/blackberry/i.test(m)}function Gs(m=(0,V.z$)()){return/webos/i.test(m)}function Kr(m=(0,V.z$)()){return/iphone|ipad|ipod/i.test(m)}function gs(m=(0,V.z$)()){return Kr(m)||Wr(m)||Gs(m)||Ht(m)||/windows phone/i.test(m)||Hs(m)}function wi(m,d=[]){let f;switch(m){case"Browser":f=Rn((0,V.z$)());break;case"Worker":f=`${Rn((0,V.z$)())}-${m}`;break;default:f=m}const _=d.length?d.join(","):"FirebaseCore-web";return`${f}/JsCore/${oe.SDK_VERSION}/${_}`}class Za{constructor(d,f){this.app=d,this.config=f,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zi(this),this.idTokenSubscription=new zi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wr,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=f.sdkClientVersion}_initializeWithPersistence(d,f){var _=this;return f&&(this._popupRedirectResolver=Wt(f)),this._initializationPromise=this.queue((0,I.Z)(function*(){var b,R;if(!_._deleted&&(_.persistenceManager=yield ai.create(_,d),!_._deleted)){if(null===(b=_._popupRedirectResolver)||void 0===b?void 0:b._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch(q){}yield _.initializeCurrentUser(f),_.lastNotifiedUid=(null===(R=_.currentUser)||void 0===R?void 0:R.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,I.Z)(function*(){if(d._deleted)return;const f=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||f){if(d.currentUser&&f&&d.currentUser.uid===f.uid)return d._currentUser._assign(f),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(f)}})()}initializeCurrentUser(d){var f=this;return(0,I.Z)(function*(){var _;let b=yield f.assertedPersistence.getCurrentUser();if(d&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const R=null===(_=f.redirectUser)||void 0===_?void 0:_._redirectEventId,q=null==b?void 0:b._redirectEventId,se=yield f.tryRedirectSignIn(d);(!R||R===q)&&(null==se?void 0:se.user)&&(b=se.user)}return b?b._redirectEventId?(Fe(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===b._redirectEventId?f.directlySetCurrentUser(b):f.reloadAndSetCurrentUserOrClear(b)):f.reloadAndSetCurrentUserOrClear(b):f.directlySetCurrentUser(null)})()}tryRedirectSignIn(d){var f=this;return(0,I.Z)(function*(){let _=null;try{_=yield f._popupRedirectResolver._completeRedirectFn(f,d,!0)}catch(b){yield f._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(d){var f=this;return(0,I.Z)(function*(){try{yield Rr(d)}catch(_){if("auth/network-request-failed"!==_.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function zr(){if("undefined"==typeof navigator)return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var d=this;return(0,I.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var f=this;return(0,I.Z)(function*(){const _=d?(0,V.m9)(d):null;return _&&Fe(_.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(_&&_._clone(f))})()}_updateCurrentUser(d){var f=this;return(0,I.Z)(function*(){if(!f._deleted)return d&&Fe(f.tenantId===d.tenantId,f,"tenant-id-mismatch"),f.queue((0,I.Z)(function*(){yield f.directlySetCurrentUser(d),f.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,I.Z)(function*(){return(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null)})()}setPersistence(d){var f=this;return this.queue((0,I.Z)(function*(){yield f.assertedPersistence.setPersistence(Wt(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new V.LL("auth","Firebase",d())}onAuthStateChanged(d,f,_){return this.registerStateListener(this.authStateSubscription,d,f,_)}onIdTokenChanged(d,f,_){return this.registerStateListener(this.idTokenSubscription,d,f,_)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,f){var _=this;return(0,I.Z)(function*(){const b=yield _.getOrInitRedirectPersistenceManager(f);return null===d?b.removeCurrentUser():b.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var f=this;return(0,I.Z)(function*(){if(!f.redirectPersistenceManager){const _=d&&Wt(d)||f._popupRedirectResolver;Fe(_,f,"argument-error"),f.redirectPersistenceManager=yield ai.create(f,[Wt(_._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(d){var f=this;return(0,I.Z)(function*(){var _,b;return f._isInitialized&&(yield f.queue((0,I.Z)(function*(){}))),(null===(_=f._currentUser)||void 0===_?void 0:_._redirectEventId)===d?f._currentUser:(null===(b=f.redirectUser)||void 0===b?void 0:b._redirectEventId)===d?f.redirectUser:null})()}_persistUserIfCurrent(d){var f=this;return(0,I.Z)(function*(){if(d===f.currentUser)return f.queue((0,I.Z)(function*(){return f.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(f=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,f,_,b){if(this._deleted)return()=>{};const R="function"==typeof f?f:f.next.bind(f),q=this._isInitialized?Promise.resolve():this._initializationPromise;return Fe(q,this,"internal-error"),q.then(()=>R(this.currentUser)),"function"==typeof f?d.addObserver(f,_,b):d.addObserver(f)}directlySetCurrentUser(d){var f=this;return(0,I.Z)(function*(){f.currentUser&&f.currentUser!==d&&(f._currentUser._stopProactiveRefresh(),d&&f.isProactiveRefreshEnabled&&d._startProactiveRefresh()),f.currentUser=d,d?yield f.assertedPersistence.setCurrentUser(d):yield f.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=wi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,I.Z)(function*(){const f={"X-Client-Version":d.clientVersion};return d.app.options.appId&&(f["X-Firebase-gmpid"]=d.app.options.appId),f})()}}function qn(m){return(0,V.m9)(m)}class zi{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,V.ne)(f=>this.observer=f)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ju(m){const d=m.indexOf(":");return d<0?"":m.substr(0,d+1)}function Rd(m){if(!m)return null;const d=Number(m);return isNaN(d)?null:d}class ua{constructor(d,f){this.providerId=d,this.signInMethod=f}toJSON(){return dr("not implemented")}_getIdTokenResponse(d){return dr("not implemented")}_linkToIdToken(d,f){return dr("not implemented")}_getReauthenticationResolver(d){return dr("not implemented")}}function Od(m,d){return we.apply(this,arguments)}function we(){return(we=(0,I.Z)(function*(m,d){return En(m,"POST","/v1/accounts:resetPassword",vt(m,d))})).apply(this,arguments)}function qs(m,d){return ho.apply(this,arguments)}function ho(){return(ho=(0,I.Z)(function*(m,d){return En(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Lt(m,d){return li.apply(this,arguments)}function li(){return(li=(0,I.Z)(function*(m,d){return En(m,"POST","/v1/accounts:update",vt(m,d))})).apply(this,arguments)}function Qa(){return(Qa=(0,I.Z)(function*(m,d){return W(m,"POST","/v1/accounts:signInWithPassword",vt(m,d))})).apply(this,arguments)}function la(m,d){return Un.apply(this,arguments)}function Un(){return(Un=(0,I.Z)(function*(m,d){return En(m,"POST","/v1/accounts:sendOobCode",vt(m,d))})).apply(this,arguments)}function ki(m,d){return fo.apply(this,arguments)}function fo(){return(fo=(0,I.Z)(function*(m,d){return la(m,d)})).apply(this,arguments)}function Ya(m,d){return ca.apply(this,arguments)}function ca(){return(ca=(0,I.Z)(function*(m,d){return la(m,d)})).apply(this,arguments)}function Po(m,d){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,I.Z)(function*(m,d){return la(m,d)})).apply(this,arguments)}function da(m,d){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,I.Z)(function*(m,d){return la(m,d)})).apply(this,arguments)}function po(){return(po=(0,I.Z)(function*(m,d){return W(m,"POST","/v1/accounts:signInWithEmailLink",vt(m,d))})).apply(this,arguments)}function On(){return(On=(0,I.Z)(function*(m,d){return W(m,"POST","/v1/accounts:signInWithEmailLink",vt(m,d))})).apply(this,arguments)}class Wi extends ua{constructor(d,f,_,b=null){super("password",_),this._email=d,this._password=f,this._tenantId=b}static _fromEmailAndPassword(d,f){return new Wi(d,f,"password")}static _fromEmailAndCode(d,f,_=null){return new Wi(d,f,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(d){var f=this;return(0,I.Z)(function*(){switch(f.signInMethod){case"password":return function ms(m,d){return Qa.apply(this,arguments)}(d,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function ys(m,d){return po.apply(this,arguments)}(d,{email:f._email,oobCode:f._password});default:nn(d,"internal-error")}})()}_linkToIdToken(d,f){var _=this;return(0,I.Z)(function*(){switch(_.signInMethod){case"password":return qs(d,{idToken:f,returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function ko(m,d){return On.apply(this,arguments)}(d,{idToken:f,email:_._email,oobCode:_._password});default:nn(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Ki(m,d){return ha.apply(this,arguments)}function ha(){return(ha=(0,I.Z)(function*(m,d){return W(m,"POST","/v1/accounts:signInWithIdp",vt(m,d))})).apply(this,arguments)}class zn extends ua{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const f=new zn(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(f.idToken=d.idToken),d.accessToken&&(f.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(f.nonce=d.nonce),d.pendingToken&&(f.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(f.accessToken=d.oauthToken,f.secret=d.oauthTokenSecret):nn("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:_,signInMethod:b}=f,R=ae(f,["providerId","signInMethod"]);if(!_||!b)return null;const q=new zn(_,b);return q.idToken=R.idToken||void 0,q.accessToken=R.accessToken||void 0,q.secret=R.secret,q.nonce=R.nonce,q.pendingToken=R.pendingToken||null,q}_getIdTokenResponse(d){return Ki(d,this.buildRequest())}_linkToIdToken(d,f){const _=this.buildRequest();return _.idToken=f,Ki(d,_)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,Ki(d,f)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),d.postBody=(0,V.xO)(f)}return d}}function Pr(m,d){return go.apply(this,arguments)}function go(){return(go=(0,I.Z)(function*(m,d){return En(m,"POST","/v1/accounts:sendVerificationCode",vt(m,d))})).apply(this,arguments)}function pa(){return(pa=(0,I.Z)(function*(m,d){return W(m,"POST","/v1/accounts:signInWithPhoneNumber",vt(m,d))})).apply(this,arguments)}function Fo(){return(Fo=(0,I.Z)(function*(m,d){const f=yield W(m,"POST","/v1/accounts:signInWithPhoneNumber",vt(m,d));if(f.temporaryProof)throw Qe(m,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const tu={USER_NOT_FOUND:"user-not-found"};function nu(){return(nu=(0,I.Z)(function*(m,d){return W(m,"POST","/v1/accounts:signInWithPhoneNumber",vt(m,Object.assign(Object.assign({},d),{operation:"REAUTH"})),tu)})).apply(this,arguments)}class Zt extends ua{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,f){return new Zt({verificationId:d,verificationCode:f})}static _fromTokenResponse(d,f){return new Zt({phoneNumber:d,temporaryProof:f})}_getIdTokenResponse(d){return function kr(m,d){return pa.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,f){return function eu(m,d){return Fo.apply(this,arguments)}(d,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function zs(m,d){return nu.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:f,verificationId:_,verificationCode:b}=this.params;return d&&f?{temporaryProof:d,phoneNumber:f}:{sessionInfo:_,code:b}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:f,verificationCode:_,phoneNumber:b,temporaryProof:R}=d;return _||f||b||R?new Zt({verificationId:f,verificationCode:_,phoneNumber:b,temporaryProof:R}):null}}class vn{constructor(d){var f,_,b,R,q,se;const He=(0,V.zd)((0,V.pd)(d)),je=null!==(f=He.apiKey)&&void 0!==f?f:null,it=null!==(_=He.oobCode)&&void 0!==_?_:null,ht=function Zi(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(b=He.mode)&&void 0!==b?b:null);Fe(je&&it&&ht,"argument-error"),this.apiKey=je,this.operation=ht,this.code=it,this.continueUrl=null!==(R=He.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(q=He.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(se=He.tenantId)&&void 0!==se?se:null}static parseLink(d){const f=function ru(m){const d=(0,V.zd)((0,V.pd)(m)).link,f=d?(0,V.zd)((0,V.pd)(d)).deep_link_id:null,_=(0,V.zd)((0,V.pd)(m)).deep_link_id;return(_?(0,V.zd)((0,V.pd)(_)).link:null)||_||f||d||m}(d);try{return new vn(f)}catch(_){return null}}}let P=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(f,_){return Wi._fromEmailAndPassword(f,_)}static credentialWithLink(f,_){const b=vn.parseLink(_);return Fe(b,"argument-error"),Wi._fromEmailAndCode(f,b.code,b.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class T{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class k extends T{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class z extends k{static credentialFromJSON(d){const f="string"==typeof d?JSON.parse(d):d;return Fe("providerId"in f&&"signInMethod"in f,"argument-error"),zn._fromParams(f)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return Fe(d.idToken||d.accessToken,"argument-error"),zn._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return z.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return z.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:f,oauthAccessToken:_,oauthTokenSecret:b,pendingToken:R,nonce:q,providerId:se}=d;if(!_&&!b&&!f&&!R||!se)return null;try{return new z(se)._credential({idToken:f,accessToken:_,nonce:q,pendingToken:R})}catch(He){return null}}}let me=(()=>{class m extends k{constructor(){super("facebook.com")}static credential(f){return zn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch(_){return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),Pe=(()=>{class m extends k{constructor(){super("google.com"),this.addScope("profile")}static credential(f,_){return zn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:_})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:_,oauthAccessToken:b}=f;if(!_&&!b)return null;try{return m.credential(_,b)}catch(R){return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),We=(()=>{class m extends k{constructor(){super("github.com")}static credential(f){return zn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch(_){return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class zt extends ua{constructor(d,f){super(d,d),this.pendingToken=f}_getIdTokenResponse(d){return Ki(d,this.buildRequest())}_linkToIdToken(d,f){const _=this.buildRequest();return _.idToken=f,Ki(d,_)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,Ki(d,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:_,signInMethod:b,pendingToken:R}=f;return _&&b&&R&&_===b?new zt(_,R):null}static _create(d,f){return new zt(d,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Mt extends T{constructor(d){Fe(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return Mt.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return Mt.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const f=zt.fromJSON(d);return Fe(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:f,providerId:_}=d;if(!f||!_)return null;try{return zt._create(_,f)}catch(b){return null}}}let Sn=(()=>{class m extends k{constructor(){super("twitter.com")}static credential(f,_){return zn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:_})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:_,oauthTokenSecret:b}=f;if(!_||!b)return null;try{return m.credential(_,b)}catch(R){return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function un(m,d){return rt.apply(this,arguments)}function rt(){return(rt=(0,I.Z)(function*(m,d){return W(m,"POST","/v1/accounts:signUp",vt(m,d))})).apply(this,arguments)}class Wn{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,f,_,b=!1){return(0,I.Z)(function*(){const R=yield Jn._fromIdTokenResponse(d,_,b),q=Fi(_);return new Wn({user:R,providerId:q,_tokenResponse:_,operationType:f})})()}static _forOperation(d,f,_){return(0,I.Z)(function*(){yield d._updateTokensIfNecessary(_,!0);const b=Fi(_);return new Wn({user:d,providerId:b,_tokenResponse:_,operationType:f})})()}}function Fi(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function Qi(){return(Qi=(0,I.Z)(function*(m){var d;const f=qn(m);if(yield f._initializationPromise,null===(d=f.currentUser)||void 0===d?void 0:d.isAnonymous)return new Wn({user:f.currentUser,providerId:null,operationType:"signIn"});const _=yield un(f,{returnSecureToken:!0}),b=yield Wn._fromIdTokenResponse(f,"signIn",_,!0);return yield f._updateCurrentUser(b.user),b})).apply(this,arguments)}class Yi extends V.ZR{constructor(d,f,_,b){var R;super(f.code,f.message),this.operationType=_,this.user=b,Object.setPrototypeOf(this,Yi.prototype),this.customData={appName:d.name,tenantId:null!==(R=d.tenantId)&&void 0!==R?R:void 0,_serverResponse:f.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(d,f,_,b){return new Yi(d,f,_,b)}}function Ws(m,d,f,_){return("reauthenticate"===d?f._getReauthenticationResolver(m):f._getIdTokenResponse(m)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Yi._fromErrorAndOperation(m,R,d,_):R})}function vs(m){return new Set(m.map(({providerId:d})=>d).filter(d=>!!d))}function Vt(){return(Vt=(0,I.Z)(function*(m,d){const f=(0,V.m9)(m);yield Ks(!0,f,d);const{providerUserInfo:_}=yield Ke(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[d]}),b=vs(_||[]);return f.providerData=f.providerData.filter(R=>b.has(R.providerId)),b.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function Bu(m,d){return An.apply(this,arguments)}function An(){return(An=(0,I.Z)(function*(m,d,f=!1){const _=yield kt(m,d._linkToIdToken(m.auth,yield m.getIdToken()),f);return Wn._forOperation(m,"link",_)})).apply(this,arguments)}function Ks(m,d,f){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,I.Z)(function*(m,d,f){yield Rr(d);const b=!1===m?"provider-already-linked":"no-such-provider";Fe(vs(d.providerData).has(f)===m,d.auth,b)})).apply(this,arguments)}function Ji(m,d){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,I.Z)(function*(m,d,f=!1){const{auth:_}=m,b="reauthenticate";try{const R=yield kt(m,Ws(_,b,d,m),f);Fe(R.idToken,_,"internal-error");const q=xr(R.idToken);Fe(q,_,"internal-error");const{sub:se}=q;return Fe(m.uid===se,_,"user-mismatch"),Wn._forOperation(m,b,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&nn(_,"user-mismatch"),R}})).apply(this,arguments)}function $u(m,d){return rc.apply(this,arguments)}function rc(){return(rc=(0,I.Z)(function*(m,d,f=!1){const _="signIn",b=yield Ws(m,_,d),R=yield Wn._fromIdTokenResponse(m,_,b);return f||(yield m._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Hu(m,d){return ga.apply(this,arguments)}function ga(){return(ga=(0,I.Z)(function*(m,d){return $u(qn(m),d)})).apply(this,arguments)}function iu(m,d){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,I.Z)(function*(m,d){const f=(0,V.m9)(m);return yield Ks(!1,f,d.providerId),Bu(f,d)})).apply(this,arguments)}function Xi(m,d){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,I.Z)(function*(m,d){return Ji((0,V.m9)(m),d)})).apply(this,arguments)}function Qs(m,d){return Li.apply(this,arguments)}function Li(){return(Li=(0,I.Z)(function*(m,d){return W(m,"POST","/v1/accounts:signInWithCustomToken",vt(m,d))})).apply(this,arguments)}function ma(){return(ma=(0,I.Z)(function*(m,d){const f=qn(m),_=yield Qs(f,{token:d,returnSecureToken:!0}),b=yield Wn._fromIdTokenResponse(f,"signIn",_);return yield f._updateCurrentUser(b.user),b})).apply(this,arguments)}class qu{constructor(d,f){this.factorId=d,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(d,f){return"phoneInfo"in f?su._fromServerResponse(d,f):nn(d,"internal-error")}}class su extends qu{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,f){return new su(f)}}function Uo(m,d,f){var _;Fe((null===(_=f.url)||void 0===_?void 0:_.length)>0,m,"invalid-continue-uri"),Fe(void 0===f.dynamicLinkDomain||f.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),d.continueUrl=f.url,d.dynamicLinkDomain=f.dynamicLinkDomain,d.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(Fe(f.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),d.iOSBundleId=f.iOS.bundleId),f.android&&(Fe(f.android.packageName.length>0,m,"missing-android-pkg-name"),d.androidInstallApp=f.android.installApp,d.androidMinimumVersionCode=f.android.minimumVersion,d.androidPackageName=f.android.packageName)}function va(){return(va=(0,I.Z)(function*(m,d,f){const _=(0,V.m9)(m),b={requestType:"PASSWORD_RESET",email:d};f&&Uo(_,b,f),yield Ya(_,b)})).apply(this,arguments)}function zu(){return(zu=(0,I.Z)(function*(m,d,f){yield Od((0,V.m9)(m),{oobCode:d,newPassword:f})})).apply(this,arguments)}function Ea(){return(Ea=(0,I.Z)(function*(m,d){yield Lt((0,V.m9)(m),{oobCode:d})})).apply(this,arguments)}function Nd(m,d){return ou.apply(this,arguments)}function ou(){return(ou=(0,I.Z)(function*(m,d){const f=(0,V.m9)(m),_=yield Od(f,{oobCode:d}),b=_.requestType;switch(Fe(b,f,"internal-error"),b){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Fe(_.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Fe(_.mfaInfo,f,"internal-error");default:Fe(_.email,f,"internal-error")}let R=null;return _.mfaInfo&&(R=qu._fromServerResponse(qn(f),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:R},operation:b}})).apply(this,arguments)}function Wu(){return(Wu=(0,I.Z)(function*(m,d){const{data:f}=yield Nd((0,V.m9)(m),d);return f.email})).apply(this,arguments)}function Zu(){return(Zu=(0,I.Z)(function*(m,d,f){const _=qn(m),b=yield un(_,{returnSecureToken:!0,email:d,password:f}),R=yield Wn._fromIdTokenResponse(_,"signIn",b);return yield _._updateCurrentUser(R.user),R})).apply(this,arguments)}function ci(){return(ci=(0,I.Z)(function*(m,d,f){const _=(0,V.m9)(m),b={requestType:"EMAIL_SIGNIN",email:d};Fe(f.handleCodeInApp,_,"argument-error"),f&&Uo(_,b,f),yield Po(_,b)})).apply(this,arguments)}function Ia(){return(Ia=(0,I.Z)(function*(m,d,f){const _=(0,V.m9)(m),b=P.credentialWithLink(d,f||Mr());return Fe(b._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),Hu(_,b)})).apply(this,arguments)}function lg(m,d){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,I.Z)(function*(m,d){return En(m,"POST","/v1/accounts:createAuthUri",vt(m,d))})).apply(this,arguments)}function Fd(){return(Fd=(0,I.Z)(function*(m,d){const _={identifier:d,continueUri:hr()?Mr():"http://localhost"},{signinMethods:b}=yield lg((0,V.m9)(m),_);return b||[]})).apply(this,arguments)}function yo(){return(yo=(0,I.Z)(function*(m,d){const f=(0,V.m9)(m),b={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};d&&Uo(f.auth,b,d);const{email:R}=yield ki(f.auth,b);R!==m.email&&(yield m.reload())})).apply(this,arguments)}function uu(){return(uu=(0,I.Z)(function*(m,d,f){const _=(0,V.m9)(m),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:d};f&&Uo(_.auth,R,f);const{email:q}=yield da(_.auth,R);q!==m.email&&(yield m.reload())})).apply(this,arguments)}function nf(m,d){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,I.Z)(function*(m,d){return En(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function jn(){return(jn=(0,I.Z)(function*(m,{displayName:d,photoURL:f}){if(void 0===d&&void 0===f)return;const _=(0,V.m9)(m),R={idToken:yield _.getIdToken(),displayName:d,photoUrl:f,returnSecureToken:!0},q=yield kt(_,nf(_.auth,R));_.displayName=q.displayName||null,_.photoURL=q.photoUrl||null;const se=_.providerData.find(({providerId:He})=>"password"===He);se&&(se.displayName=_.displayName,se.photoURL=_.photoURL),yield _._updateTokensIfNecessary(q)})).apply(this,arguments)}function wa(m,d,f){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,I.Z)(function*(m,d,f){const{auth:_}=m,R={idToken:yield m.getIdToken(),returnSecureToken:!0};d&&(R.email=d),f&&(R.password=f);const q=yield kt(m,qs(_,R));yield m._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class jo{constructor(d,f,_={}){this.isNewUser=d,this.providerId=f,this.profile=_}}class Yu extends jo{constructor(d,f,_,b){super(d,f,_),this.username=b}}class of extends jo{constructor(d,f){super(d,"facebook.com",f)}}class lu extends Yu{constructor(d,f){super(d,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class uc extends jo{constructor(d,f){super(d,"google.com",f)}}class _o extends Yu{constructor(d,f,_){super(d,"twitter.com",f,_)}}function br(m){const{user:d,_tokenResponse:f}=m;return d.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function Qu(m){var d,f;if(!m)return null;const{providerId:_}=m,b=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},R=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!_&&(null==m?void 0:m.idToken)){const q=null===(f=null===(d=xr(m.idToken))||void 0===d?void 0:d.firebase)||void 0===f?void 0:f.sign_in_provider;if(q)return new jo(R,"anonymous"!==q&&"custom"!==q?q:null)}if(!_)return null;switch(_){case"facebook.com":return new of(R,b);case"github.com":return new lu(R,b);case"google.com":return new uc(R,b);case"twitter.com":return new _o(R,b,m.screenName||null);case"custom":case"anonymous":return new jo(R,null);default:return new jo(R,_,b)}}(f)}class _s{constructor(d,f){this.type=d,this.credential=f}static _fromIdtoken(d){return new _s("enroll",d)}static _fromMfaPendingCredential(d){return new _s("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var f,_;if(null==d?void 0:d.multiFactorSession){if(null===(f=d.multiFactorSession)||void 0===f?void 0:f.pendingCredential)return _s._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(_=d.multiFactorSession)||void 0===_?void 0:_.idToken)return _s._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Da{constructor(d,f,_){this.session=d,this.hints=f,this.signInResolver=_}static _fromError(d,f){const _=qn(d),b=f.customData._serverResponse,R=(b.mfaInfo||[]).map(se=>qu._fromServerResponse(_,se));Fe(b.mfaPendingCredential,_,"internal-error");const q=_s._fromMfaPendingCredential(b.mfaPendingCredential);return new Da(q,R,function(){var se=(0,I.Z)(function*(He){const je=yield He._process(_,q);delete b.mfaInfo,delete b.mfaPendingCredential;const it=Object.assign(Object.assign({},b),{idToken:je.idToken,refreshToken:je.refreshToken});switch(f.operationType){case"signIn":const ht=yield Wn._fromIdTokenResponse(_,f.operationType,it);return yield _._updateCurrentUser(ht.user),ht;case"reauthenticate":return Fe(f.user,_,"internal-error"),Wn._forOperation(f.user,f.operationType,it);default:nn(_,"internal-error")}});return function(He){return se.apply(this,arguments)}}())}resolveSignIn(d){var f=this;return(0,I.Z)(function*(){return f.signInResolver(d)})()}}function lf(m,d){return En(m,"POST","/v2/accounts/mfaEnrollment:start",vt(m,d))}class di{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(_=>qu._fromServerResponse(d.auth,_)))})}static _fromUser(d){return new di(d)}getSession(){var d=this;return(0,I.Z)(function*(){return _s._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,f){var _=this;return(0,I.Z)(function*(){const b=d,R=yield _.getSession(),q=yield kt(_.user,b._process(_.user.auth,R,f));return yield _.user._updateTokensIfNecessary(q),_.user.reload()})()}unenroll(d){var f=this;return(0,I.Z)(function*(){const _="string"==typeof d?d:d.uid,b=yield f.user.getIdToken(),R=yield kt(f.user,function Js(m,d){return En(m,"POST","/v2/accounts/mfaEnrollment:withdraw",vt(m,d))}(f.user.auth,{idToken:b,mfaEnrollmentId:_}));f.enrolledFactors=f.enrolledFactors.filter(({uid:q})=>q!==_),yield f.user._updateTokensIfNecessary(R);try{yield f.user.reload()}catch(q){if("auth/user-token-expired"!==q.code)throw q}})()}}const Eo=new WeakMap,Sa="__sak";class cc{constructor(d,f){this.storageRetriever=d,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(Sa,"1"),this.storage.removeItem(Sa),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,f){return this.storage.setItem(d,JSON.stringify(f)),Promise.resolve()}_get(d){const f=this.storage.getItem(d);return Promise.resolve(f?JSON.parse(f):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Xn=(()=>{class m extends cc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,_)=>this.onStorageEvent(f,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Es(){const m=(0,V.z$)();return ui(m)||Kr(m)}()&&function Ii(){try{return!(!window||window===window.top)}catch(m){return!1}}(),this.fallbackToPolling=gs(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const _ of Object.keys(this.listeners)){const b=this.storage.getItem(_),R=this.localCache[_];b!==R&&f(_,R,b)}}onStorageEvent(f,_=!1){if(!f.key)return void this.forAllChangedKeys((se,He,je)=>{this.notifyListeners(se,je)});const b=f.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const se=this.storage.getItem(b);if(f.newValue!==se)null!==f.newValue?this.storage.setItem(b,f.newValue):this.storage.removeItem(b);else if(this.localCache[b]===f.newValue&&!_)return}const R=()=>{const se=this.storage.getItem(b);!_&&this.localCache[b]===se||this.notifyListeners(b,se)},q=this.storage.getItem(b);!function Uu(){return(0,V.w1)()&&10===document.documentMode}()||q===f.newValue||f.newValue===f.oldValue?R():setTimeout(R,10)}notifyListeners(f,_){this.localCache[f]=_;const b=this.listeners[f];if(b)for(const R of Array.from(b))R(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,_,b)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:_,newValue:b}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(_)}_removeListener(f,_){this.listeners[f]&&(this.listeners[f].delete(_),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,_){var b=()=>super._set,R=this;return(0,I.Z)(function*(){yield b().call(R,f,_),R.localCache[f]=JSON.stringify(_)})()}_get(f){var _=()=>super._get,b=this;return(0,I.Z)(function*(){const R=yield _().call(b,f);return b.localCache[f]=JSON.stringify(R),R})()}_remove(f){var _=()=>super._remove,b=this;return(0,I.Z)(function*(){yield _().call(b,f),delete b.localCache[f]})()}}return m.type="LOCAL",m})(),Fr=(()=>{class m extends cc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,_){}_removeListener(f,_){}}return m.type="SESSION",m})();let jd=(()=>{class m{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const _=this.receivers.find(R=>R.isListeningto(f));if(_)return _;const b=new m(f);return this.receivers.push(b),b}isListeningto(f){return this.eventTarget===f}handleEvent(f){var _=this;return(0,I.Z)(function*(){const b=f,{eventId:R,eventType:q,data:se}=b.data,He=_.handlersMap[q];if(!(null==He?void 0:He.size))return;b.ports[0].postMessage({status:"ack",eventId:R,eventType:q});const je=Array.from(He).map(function(){var ht=(0,I.Z)(function*(Ut){return Ut(b.origin,se)});return function(Ut){return ht.apply(this,arguments)}}()),it=yield function Ud(m){return Promise.all(m.map(function(){var d=(0,I.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(_){return{fulfilled:!1,reason:_}}});return function(f){return d.apply(this,arguments)}}()))}(je);b.ports[0].postMessage({status:"done",eventId:R,eventType:q,response:it})})()}_subscribe(f,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(_)}_unsubscribe(f,_){this.handlersMap[f]&&_&&this.handlersMap[f].delete(_),(!_||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function Bo(m="",d=10){let f="";for(let _=0;_<d;_++)f+=Math.floor(10*Math.random());return m+f}class $o{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,f,_=50){var b=this;return(0,I.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let q,se;return new Promise((He,je)=>{const it=Bo("",20);R.port1.start();const ht=setTimeout(()=>{je(new Error("unsupported_event"))},_);se={messageChannel:R,onMessage(Ut){const tr=Ut;if(tr.data.eventId===it)switch(tr.data.status){case"ack":clearTimeout(ht),q=setTimeout(()=>{je(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),He(tr.data.response);break;default:clearTimeout(ht),clearTimeout(q),je(new Error("invalid_response"))}}},b.handlers.add(se),R.port1.addEventListener("message",se.onMessage),b.target.postMessage({eventType:d,eventId:it,data:f},[R.port2])}).finally(()=>{se&&b.removeMessageHandler(se)})})()}}function Kn(){return window}function Ma(){return void 0!==Kn().WorkerGlobalScope&&"function"==typeof Kn().importScripts}function to(){return(to=(0,I.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(m){return null}})).apply(this,arguments)}const Go="firebaseLocalStorageDb",hi="firebaseLocalStorage",Bd="fbase_key";class In{constructor(d){this.request=d}toPromise(){return new Promise((d,f)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function fu(m,d){return m.transaction([hi],d?"readwrite":"readonly").objectStore(hi)}function zo(){const m=indexedDB.open(Go,1);return new Promise((d,f)=>{m.addEventListener("error",()=>{f(m.error)}),m.addEventListener("upgradeneeded",()=>{const _=m.result;try{_.createObjectStore(hi,{keyPath:Bd})}catch(b){f(b)}}),m.addEventListener("success",(0,I.Z)(function*(){const _=m.result;_.objectStoreNames.contains(hi)?d(_):(_.close(),yield function xa(){const m=indexedDB.deleteDatabase(Go);return new In(m).toPromise()}(),d(yield zo()))}))})}function dc(m,d,f){return hc.apply(this,arguments)}function hc(){return(hc=(0,I.Z)(function*(m,d,f){const _=fu(m,!0).put({[Bd]:d,value:f});return new In(_).toPromise()})).apply(this,arguments)}function el(){return(el=(0,I.Z)(function*(m,d){const f=fu(m,!1).get(d),_=yield new In(f).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function Nn(m,d){const f=fu(m,!0).delete(d);return new In(f).toPromise()}const ts=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,I.Z)(function*(){return f.db||(f.db=yield zo()),f.db})()}_withRetries(f){var _=this;return(0,I.Z)(function*(){let b=0;for(;;)try{const R=yield _._openDb();return yield f(R)}catch(R){if(b++>3)throw R;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,I.Z)(function*(){return Ma()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,I.Z)(function*(){f.receiver=jd._getInstance(function Ho(){return Ma()?self:null}()),f.receiver._subscribe("keyChanged",function(){var _=(0,I.Z)(function*(b,R){return{keyProcessed:(yield f._poll()).includes(R.key)}});return function(b,R){return _.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var _=(0,I.Z)(function*(b,R){return["keyChanged"]});return function(b,R){return _.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,I.Z)(function*(){var _,b;if(f.activeServiceWorker=yield function eo(){return to.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new $o(f.activeServiceWorker);const R=yield f.sender._send("ping",{},800);!R||(null===(_=R[0])||void 0===_?void 0:_.fulfilled)&&(null===(b=R[0])||void 0===b?void 0:b.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var _=this;return(0,I.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function Vi(){var m;return(null===(m=null==navigator?void 0:navigator.serviceWorker)||void 0===m?void 0:m.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:f},_.serviceWorkerReceiverAvailable?800:50)}catch(b){}})()}_isAvailable(){return(0,I.Z)(function*(){try{if(!indexedDB)return!1;const f=yield zo();return yield dc(f,Sa,"1"),yield Nn(f,Sa),!0}catch(f){}return!1})()}_withPendingWrite(f){var _=this;return(0,I.Z)(function*(){_.pendingWrites++;try{yield f()}finally{_.pendingWrites--}})()}_set(f,_){var b=this;return(0,I.Z)(function*(){return b._withPendingWrite((0,I.Z)(function*(){return yield b._withRetries(R=>dc(R,f,_)),b.localCache[f]=_,b.notifyServiceWorker(f)}))})()}_get(f){var _=this;return(0,I.Z)(function*(){const b=yield _._withRetries(R=>function cf(m,d){return el.apply(this,arguments)}(R,f));return _.localCache[f]=b,b})()}_remove(f){var _=this;return(0,I.Z)(function*(){return _._withPendingWrite((0,I.Z)(function*(){return yield _._withRetries(b=>Nn(b,f)),delete _.localCache[f],_.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,I.Z)(function*(){const _=yield f._withRetries(q=>{const se=fu(q,!1).getAll();return new In(se).toPromise()});if(!_)return[];if(0!==f.pendingWrites)return[];const b=[],R=new Set;for(const{fbase_key:q,value:se}of _)R.add(q),JSON.stringify(f.localCache[q])!==JSON.stringify(se)&&(f.notifyListeners(q,se),b.push(q));for(const q of Object.keys(f.localCache))f.localCache[q]&&!R.has(q)&&(f.notifyListeners(q,null),b.push(q));return b})()}notifyListeners(f,_){this.localCache[f]=_;const b=this.listeners[f];if(b)for(const R of Array.from(b))R(_)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,I.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(_)}_removeListener(f,_){this.listeners[f]&&(this.listeners[f].delete(_),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function Wo(m,d){return En(m,"POST","/v2/accounts/mfaSignIn:start",vt(m,d))}function ws(){return(ws=(0,I.Z)(function*(m){return(yield En(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Cs(m){return new Promise((d,f)=>{const _=document.createElement("script");_.setAttribute("src",m),_.onload=d,_.onerror=b=>{const R=Qt("internal-error");R.customData=b,f(R)},_.type="text/javascript",_.charset="UTF-8",function df(){var m,d;return null!==(d=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==d?d:document}().appendChild(_)})}function Ds(m){return`__${m}${Math.floor(1e6*Math.random())}`}const Ra=1e12;class sl{constructor(d){this.auth=d,this.counter=Ra,this._widgets=new Map}render(d,f){const _=this.counter;return this._widgets.set(_,new $d(d,this.auth.name,f||{})),this.counter++,_}reset(d){var f;const _=d||Ra;null===(f=this._widgets.get(_))||void 0===f||f.delete(),this._widgets.delete(_)}getResponse(d){var f;return(null===(f=this._widgets.get(d||Ra))||void 0===f?void 0:f.getResponse())||""}execute(d){var f=this;return(0,I.Z)(function*(){var _;return null===(_=f._widgets.get(d||Ra))||void 0===_||_.execute(),""})()}}class $d{constructor(d,f,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const b="string"==typeof d?document.getElementById(d):d;Fe(b,"argument-error",{appName:f}),this.container=b,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function fc(m){const d=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<m;_++)d.push(f.charAt(Math.floor(Math.random()*f.length)));return d.join("")}(50);const{callback:d,"expired-callback":f}=this.params;if(d)try{d(this.responseToken)}catch(_){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch(_){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Lr=Ds("rcb"),ol=new $t(3e4,6e4);class E0{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Kn().grecaptcha}load(d,f=""){return Fe(function cg(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(f),d,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(Kn().grecaptcha):new Promise((_,b)=>{const R=Kn().setTimeout(()=>{b(Qt(d,"network-request-failed"))},ol.get());Kn()[Lr]=()=>{Kn().clearTimeout(R),delete Kn()[Lr];const se=Kn().grecaptcha;if(!se)return void b(Qt(d,"internal-error"));const He=se.render;se.render=(je,it)=>{const ht=He(je,it);return this.counter++,ht},this.hostLanguage=f,_(se)},Cs(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:Lr,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(R),b(Qt(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){return!!Kn().grecaptcha&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class dg{load(d){return(0,I.Z)(function*(){return new sl(d)})()}clearedOneInstance(){}}const pc="recaptcha",hf={theme:"light",type:"image"};class Oa{constructor(d,f=Object.assign({},hf),_){this.parameters=f,this.type=pc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qn(_),this.isInvisible="invisible"===this.parameters.size,Fe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const b="string"==typeof d?document.getElementById(d):d;Fe(b,this.auth,"argument-error"),this.container=b,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dg:new E0,this.validateStartingState()}verify(){var d=this;return(0,I.Z)(function*(){d.assertNotDestroyed();const f=yield d.render(),_=d.getAssertedRecaptcha();return _.getResponse(f)||new Promise(R=>{const q=se=>{!se||(d.tokenChangeListeners.delete(q),R(se))};d.tokenChangeListeners.add(q),d.isInvisible&&_.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){Fe(!this.parameters.sitekey,this.auth,"argument-error"),Fe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Fe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return f=>{if(this.tokenChangeListeners.forEach(_=>_(f)),"function"==typeof d)d(f);else if("string"==typeof d){const _=Kn()[d];"function"==typeof _&&_(f)}}}assertNotDestroyed(){Fe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,I.Z)(function*(){if(yield d.init(),!d.widgetId){let f=d.container;if(!d.isInvisible){const _=document.createElement("div");f.appendChild(_),f=_}d.widgetId=d.getAssertedRecaptcha().render(f,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,I.Z)(function*(){Fe(hr()&&!Ma(),d.auth,"internal-error"),yield function Hd(){let m=null;return new Promise(d=>{"complete"!==document.readyState?(m=()=>d(),window.addEventListener("load",m)):d()}).catch(d=>{throw m&&window.removeEventListener("load",m),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const f=yield function Ci(m){return ws.apply(this,arguments)}(d.auth);Fe(f,d.auth,"internal-error"),d.parameters.sitekey=f})()}getAssertedRecaptcha(){return Fe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Io{constructor(d,f){this.verificationId=d,this.onConfirmation=f}confirm(d){const f=Zt._fromVerification(this.verificationId,d);return this.onConfirmation(f)}}function Qr(){return(Qr=(0,I.Z)(function*(m,d,f){const _=qn(m),b=yield pu(_,d,(0,V.m9)(f));return new Io(b,R=>Hu(_,R))})).apply(this,arguments)}function Vr(){return(Vr=(0,I.Z)(function*(m,d,f){const _=(0,V.m9)(m);yield Ks(!1,_,"phone");const b=yield pu(_.auth,d,(0,V.m9)(f));return new Io(b,R=>iu(_,R))})).apply(this,arguments)}function wo(){return(wo=(0,I.Z)(function*(m,d,f){const _=(0,V.m9)(m),b=yield pu(_.auth,d,(0,V.m9)(f));return new Io(b,R=>Xi(_,R))})).apply(this,arguments)}function pu(m,d,f){return mc.apply(this,arguments)}function mc(){return(mc=(0,I.Z)(function*(m,d,f){var _;const b=yield f.verify();try{let R;if(Fe("string"==typeof b,m,"argument-error"),Fe(f.type===pc,m,"argument-error"),R="string"==typeof d?{phoneNumber:d}:d,"session"in R){const q=R.session;if("phoneNumber"in R)return Fe("enroll"===q.type,m,"internal-error"),(yield lf(m,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:b}})).phoneSessionInfo.sessionInfo;{Fe("signin"===q.type,m,"internal-error");const se=(null===(_=R.multiFactorHint)||void 0===_?void 0:_.uid)||R.multiFactorUid;return Fe(se,m,"missing-multi-factor-info"),(yield Wo(m,{mfaPendingCredential:q.credential,mfaEnrollmentId:se,phoneSignInInfo:{recaptchaToken:b}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield Pr(m,{phoneNumber:R.phoneNumber,recaptchaToken:b});return q}}finally{f._reset()}})).apply(this,arguments)}function yc(){return(yc=(0,I.Z)(function*(m,d){yield Bu((0,V.m9)(m),d)})).apply(this,arguments)}let D=(()=>{class m{constructor(f){this.providerId=m.PROVIDER_ID,this.auth=qn(f)}verifyPhoneNumber(f,_){return pu(this.auth,f,(0,V.m9)(_))}static credential(f,_){return Zt._fromVerification(f,_)}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:_,temporaryProof:b}=f;return _&&b?Zt._fromTokenResponse(_,b):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function A(m,d){return d?Wt(d):(Fe(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class N extends ua{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Ki(d,this._buildIdpRequest())}_linkToIdToken(d,f){return Ki(d,this._buildIdpRequest(f))}_getReauthenticationResolver(d){return Ki(d,this._buildIdpRequest())}_buildIdpRequest(d){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(f.idToken=d),f}}function B(m){return $u(m.auth,new N(m),m.bypassAuthState)}function Y(m){const{auth:d,user:f}=m;return Fe(f,d,"internal-error"),Ji(f,new N(m),m.bypassAuthState)}function de(m){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,I.Z)(function*(m){const{auth:d,user:f}=m;return Fe(f,d,"internal-error"),Bu(f,new N(m),m.bypassAuthState)})).apply(this,arguments)}class Je{constructor(d,f,_,b,R=!1){this.auth=d,this.resolver=_,this.user=b,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var d=this;return new Promise(function(){var f=(0,I.Z)(function*(_,b){d.pendingPromise={resolve:_,reject:b};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(R){d.reject(R)}});return function(_,b){return f.apply(this,arguments)}}())}onAuthEvent(d){var f=this;return(0,I.Z)(function*(){const{urlResponse:_,sessionId:b,postBody:R,tenantId:q,error:se,type:He}=d;if(se)return void f.reject(se);const je={auth:f.auth,requestUri:_,sessionId:b,tenantId:q||void 0,postBody:R||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(He)(je))}catch(it){f.reject(it)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return B;case"linkViaPopup":case"linkViaRedirect":return de;case"reauthViaPopup":case"reauthViaRedirect":return Y;default:nn(this.auth,"internal-error")}}resolve(d){ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xe=new $t(2e3,1e4);function ln(){return(ln=(0,I.Z)(function*(m,d,f){const _=qn(m);Ar(m,d,T);const b=A(_,f);return new ns(_,"signInViaPopup",d,b).executeNotNull()})).apply(this,arguments)}function Zn(){return(Zn=(0,I.Z)(function*(m,d,f){const _=(0,V.m9)(m);Ar(_.auth,d,T);const b=A(_.auth,f);return new ns(_.auth,"reauthViaPopup",d,b,_).executeNotNull()})).apply(this,arguments)}function Di(){return(Di=(0,I.Z)(function*(m,d,f){const _=(0,V.m9)(m);Ar(_.auth,d,T);const b=A(_.auth,f);return new ns(_.auth,"linkViaPopup",d,b,_).executeNotNull()})).apply(this,arguments)}let ns=(()=>{class m extends Je{constructor(f,_,b,R,q){super(f,_,R,q),this.provider=b,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var f=this;return(0,I.Z)(function*(){const _=yield f.execute();return Fe(_,f.auth,"internal-error"),_})()}onExecution(){var f=this;return(0,I.Z)(function*(){ct(1===f.filter.length,"Popup operations only handle one event");const _=Bo();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],_),f.authWindow.associatedEvent=_,f.resolver._originValidation(f.auth).catch(b=>{f.reject(b)}),f.resolver._isIframeWebStorageSupported(f.auth,b=>{b||f.reject(Qt(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(Qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const f=()=>{var _,b;this.pollId=(null===(b=null===(_=this.authWindow)||void 0===_?void 0:_.window)||void 0===b?void 0:b.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Qt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,Xe.get())};f()}}return m.currentPopupAction=null,m})();const Ui=new Map;class bs extends Je{constructor(d,f,_=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,_),this.eventId=null}execute(){var d=()=>super.execute,f=this;return(0,I.Z)(function*(){let _=Ui.get(f.auth._key());if(!_){try{const R=(yield function Na(m,d){return ul.apply(this,arguments)}(f.resolver,f.auth))?yield d().call(f):null;_=()=>Promise.resolve(R)}catch(b){_=()=>Promise.reject(b)}Ui.set(f.auth._key(),_)}return f.bypassAuthState||Ui.set(f.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(d){var f=()=>super.onAuthEvent,_=this;return(0,I.Z)(function*(){if("signInViaRedirect"===d.type)return f().call(_,d);if("unknown"!==d.type){if(d.eventId){const b=yield _.auth._redirectUserForId(d.eventId);if(b)return _.user=b,f().call(_,d);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,I.Z)(function*(){})()}cleanUp(){}}function ul(){return(ul=(0,I.Z)(function*(m,d){const f=ff(d),_=gu(m);if(!(yield _._isAvailable()))return!1;const b="true"===(yield _._get(f));return yield _._remove(f),b})).apply(this,arguments)}function qd(m,d){return ll.apply(this,arguments)}function ll(){return(ll=(0,I.Z)(function*(m,d){return gu(m)._set(ff(d),"true")})).apply(this,arguments)}function gu(m){return Wt(m._redirectPersistence)}function ff(m){return qt("pendingRedirect",m.config.apiKey,m.name)}function vc(){return(vc=(0,I.Z)(function*(m,d,f){const _=qn(m);Ar(m,d,T);const b=A(_,f);return yield qd(b,_),b._openRedirect(_,d,"signInViaRedirect")})).apply(this,arguments)}function pf(){return(pf=(0,I.Z)(function*(m,d,f){const _=(0,V.m9)(m);Ar(_.auth,d,T);const b=A(_.auth,f);yield qd(b,_.auth);const R=yield Ic(_);return b._openRedirect(_.auth,d,"reauthViaRedirect",R)})).apply(this,arguments)}function dl(){return(dl=(0,I.Z)(function*(m,d,f){const _=(0,V.m9)(m);Ar(_.auth,d,T);const b=A(_.auth,f);yield Ks(!1,_,d.providerId),yield qd(b,_.auth);const R=yield Ic(_);return b._openRedirect(_.auth,d,"linkViaRedirect",R)})).apply(this,arguments)}function fg(){return(fg=(0,I.Z)(function*(m,d){return yield qn(m)._initializationPromise,gf(m,d,!1)})).apply(this,arguments)}function gf(m,d){return Uy.apply(this,arguments)}function Uy(){return(Uy=(0,I.Z)(function*(m,d,f=!1){const _=qn(m),b=A(_,d),q=yield new bs(_,b,f).execute();return q&&!f&&(delete q.user._redirectEventId,yield _._persistUserIfCurrent(q.user),yield _._setRedirectUser(null,d)),q})).apply(this,arguments)}function Ic(m){return hl.apply(this,arguments)}function hl(){return(hl=(0,I.Z)(function*(m){const d=Bo(`${m.uid}:::`);return m._redirectEventId=d,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),d})).apply(this,arguments)}class Wd{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let f=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(d,_)&&(f=!0,this.sendToConsumer(d,_),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function jy(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ts(m);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=d,f=!0)),f}sendToConsumer(d,f){var _;if(d.error&&!Ts(d)){const b=(null===(_=d.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";f.onError(Qt(this.auth,b))}else f.onAuthEvent(d)}isEventForConsumer(d,f){const _=null===f.eventId||!!d.eventId&&d.eventId===f.eventId;return f.filter.includes(d.type)&&_}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qo(d))}saveEventToCache(d){this.cachedEventUids.add(Qo(d)),this.lastProcessedEventTime=Date.now()}}function Qo(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(d=>d).join("-")}function Ts({type:m,error:d}){return"unknown"===m&&"auth/no-auth-event"===(null==d?void 0:d.code)}function wc(m){return mf.apply(this,arguments)}function mf(){return(mf=(0,I.Z)(function*(m,d={}){return En(m,"GET","/v1/projects",d)})).apply(this,arguments)}const I0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gg=/^https?/;function Jo(){return(Jo=(0,I.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:d}=yield wc(m);for(const f of d)try{if(mg(f))return}catch(_){}nn(m,"unauthorized-domain")})).apply(this,arguments)}function mg(m){const d=Mr(),{protocol:f,hostname:_}=new URL(d);if(m.startsWith("chrome-extension://")){const q=new URL(m);return""===q.hostname&&""===_?"chrome-extension:"===f&&m.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===f&&q.hostname===_}if(!gg.test(f))return!1;if(I0.test(m))return _===m;const b=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+b+"|"+b+")$","i").test(_)}const yg=new $t(3e4,6e4);function yf(){const m=Kn().___jsl;if(null==m?void 0:m.H)for(const d of Object.keys(m.H))if(m.H[d].r=m.H[d].r||[],m.H[d].L=m.H[d].L||[],m.H[d].r=[...m.H[d].L],m.CP)for(let f=0;f<m.CP.length;f++)m.CP[f]=null}let Cc=null;function $y(m){return Cc=Cc||function By(m){return new Promise((d,f)=>{var _,b,R;function q(){yf(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{yf(),f(Qt(m,"network-request-failed"))},timeout:yg.get()})}if(null===(b=null===(_=Kn().gapi)||void 0===_?void 0:_.iframes)||void 0===b?void 0:b.Iframe)d(gapi.iframes.getContext());else{if(!(null===(R=Kn().gapi)||void 0===R?void 0:R.load)){const se=Ds("iframefcb");return Kn()[se]=()=>{gapi.load?q():f(Qt(m,"network-request-failed"))},Cs(`https://apis.google.com/js/api.js?onload=${se}`).catch(He=>f(He))}q()}}).catch(d=>{throw Cc=null,d})}(m),Cc}const Kd=new $t(5e3,15e3),Gy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_f=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qy(m){const d=m.config;Fe(d.authDomain,m,"auth-domain-config-required");const f=d.emulator?gt(d,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,_={apiKey:d.apiKey,appName:m.name,v:oe.SDK_VERSION},b=_f.get(m.config.apiHost);b&&(_.eid=b);const R=m._getFrameworks();return R.length&&(_.fw=R.join(",")),`${f}?${(0,V.xO)(_).slice(1)}`}function Pa(){return Pa=(0,I.Z)(function*(m){const d=yield $y(m),f=Kn().gapi;return Fe(f,m,"internal-error"),d.open({where:document.body,url:qy(m),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gy,dontclear:!0},_=>new Promise(function(){var b=(0,I.Z)(function*(R,q){yield _.restyle({setHideOnLeave:!1});const se=Qt(m,"network-request-failed"),He=Kn().setTimeout(()=>{q(se)},Kd.get());function je(){Kn().clearTimeout(He),R(_)}_.ping(je).then(je,()=>{q(se)})});return function(R,q){return b.apply(this,arguments)}}()))}),Pa.apply(this,arguments)}const vg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ef{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function Tc(m,d,f,_,b,R){Fe(m.config.authDomain,m,"auth-domain-config-required"),Fe(m.config.apiKey,m,"invalid-api-key");const q={apiKey:m.config.apiKey,appName:m.name,authType:f,redirectUrl:_,v:oe.SDK_VERSION,eventId:b};if(d instanceof T){d.setDefaultLanguage(m.languageCode),q.providerId=d.providerId||"",(0,V.xb)(d.getCustomParameters())||(q.customParameters=JSON.stringify(d.getCustomParameters()));for(const[He,je]of Object.entries(R||{}))q[He]=je}if(d instanceof k){const He=d.getScopes().filter(je=>""!==je);He.length>0&&(q.scopes=He.join(","))}m.tenantId&&(q.tid=m.tenantId);const se=q;for(const He of Object.keys(se))void 0===se[He]&&delete se[He];return`${function Qd({config:m}){return m.emulator?gt(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,V.xO)(se).slice(1)}`}const If="webStorageSupport";class Cf extends class Eg{constructor(d){this.factorId=d}_process(d,f,_){switch(f.type){case"enroll":return this._finalizeEnroll(d,f.credential,_);case"signin":return this._finalizeSignIn(d,f.credential);default:return dr("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Cf(d)}_finalizeEnroll(d,f,_){return function ba(m,d){return En(m,"POST","/v2/accounts/mfaEnrollment:finalize",vt(m,d))}(d,{idToken:f,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,f){return function Zr(m,d){return En(m,"POST","/v2/accounts/mfaSignIn:finalize",vt(m,d))}(d,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ig=(()=>{class m{constructor(){}static assertion(f){return Cf._fromCredential(f)}}return m.FACTOR_ID="phone",m})();var wg="@firebase/auth";class bo{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var f=this;return(0,I.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const f=this.auth.onIdTokenChanged(_=>{var b;d((null===(b=_)||void 0===b?void 0:b.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,f),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const f=this.internalListeners.get(d);!f||(this.internalListeners.delete(d),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Dn(){return window}function fl(){return(fl=(0,I.Z)(function*(m,d,f){var _;const{BuildInfo:b}=Dn();ct(d.sessionId,"AuthEvent did not contain a session ID");const R=yield Yy(d.sessionId),q={};return Kr()?q.ibi=b.packageName:Wr()?q.apn=b.packageName:nn(m,"operation-not-supported-in-this-environment"),b.displayName&&(q.appDisplayName=b.displayName),q.sessionId=R,Tc(m,f,d.type,void 0,null!==(_=d.eventId)&&void 0!==_?_:void 0,q)})).apply(this,arguments)}function mu(){return(mu=(0,I.Z)(function*(m){const{BuildInfo:d}=Dn(),f={};Kr()?f.iosBundleId=d.packageName:Wr()?f.androidPackageName=d.packageName:nn(m,"operation-not-supported-in-this-environment"),yield wc(m,f)})).apply(this,arguments)}function Dg(){return(Dg=(0,I.Z)(function*(m,d,f){const{cordova:_}=Dn();let b=()=>{};try{yield new Promise((R,q)=>{let se=null;function He(){var ht;R();const Ut=null===(ht=_.plugins.browsertab)||void 0===ht?void 0:ht.close;"function"==typeof Ut&&Ut(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function je(){se||(se=window.setTimeout(()=>{q(Qt(m,"redirect-cancelled-by-user"))},2e3))}function it(){"visible"===(null==document?void 0:document.visibilityState)&&je()}d.addPassiveListener(He),document.addEventListener("resume",je,!1),Wr()&&document.addEventListener("visibilitychange",it,!1),b=()=>{d.removePassiveListener(He),document.removeEventListener("resume",je,!1),document.removeEventListener("visibilitychange",it,!1),se&&window.clearTimeout(se)}})}finally{b()}})).apply(this,arguments)}function Yy(m){return Jy.apply(this,arguments)}function Jy(){return(Jy=(0,I.Z)(function*(m){const d=Jd(m),f=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(f)).map(b=>b.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Jd(m){if(ct(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(m);const d=new ArrayBuffer(m.length),f=new Uint8Array(d);for(let _=0;_<m.length;_++)f[_]=m.charCodeAt(_);return f}!function Tf(m){(0,oe._registerComponent)(new ge.wA("auth",(d,{options:f})=>{const _=d.getProvider("app").getImmediate(),{apiKey:b,authDomain:R}=_.options;return(q=>{Fe(b&&!b.includes(":"),"invalid-api-key",{appName:q.name}),Fe(!(null==R?void 0:R.includes(":")),"argument-error",{appName:q.name});const se={apiKey:b,authDomain:R,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wi(m)},He=new Za(q,se);return function ds(m,d){const f=(null==d?void 0:d.persistence)||[],_=(Array.isArray(f)?f:[f]).map(Wt);(null==d?void 0:d.errorMap)&&m._updateErrorMap(d.errorMap),m._initializeWithPersistence(_,null==d?void 0:d.popupRedirectResolver)}(He,f),He})(_)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,f,_)=>{d.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new ge.wA("auth-internal",d=>{const f=qn(d.getProvider("auth").getImmediate());return new bo(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(wg,"0.19.9",function bf(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,oe.registerVersion)(wg,"0.19.9","esm2017")}("Browser");class Tg extends Wd{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(d)),super.onEvent(d)}initialized(){var d=this;return(0,I.Z)(function*(){yield d.initPromise})()}}function Yr(m){return yu.apply(this,arguments)}function yu(){return(yu=(0,I.Z)(function*(m){const d=yield Af()._get(pl(m));return d&&(yield Af()._remove(pl(m))),d})).apply(this,arguments)}function eh(){const m=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const _=Math.floor(Math.random()*d.length);m.push(d.charAt(_))}return m.join("")}function Af(){return Wt(Xn)}function pl(m){return qt("authEvent",m.config.apiKey,m.name)}function Ac(m){if(!(null==m?void 0:m.includes("?")))return{};const[d,...f]=m.split("?");return(0,V.zd)(f.join("?"))}function nh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Qt("no-auth-event")}}function gl(){var m;return(null===(m=null==self?void 0:self.location)||void 0===m?void 0:m.protocol)||null}function Ti(m=(0,V.z$)()){return!("file:"!==gl()&&"ionic:"!==gl()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function rh(){try{const m=self.localStorage,d=Bo();if(m)return m.setItem(d,"1"),m.removeItem(d),!function Oc(m=(0,V.z$)()){return function Xo(){return(0,V.w1)()&&11===(null==document?void 0:document.documentMode)}()||function xf(m=(0,V.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,V.hl)()}catch(m){return Rf()&&(0,V.hl)()}return!1}function Rf(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Of(){return(function Rc(){return"http:"===gl()||"https:"===gl()}()||(0,V.ru)()||Ti())&&!function Mg(){return(0,V.b$)()||(0,V.UG)()}()&&rh()&&!Rf()}function xg(){return Ti()&&"undefined"!=typeof document}function ih(){return(ih=(0,I.Z)(function*(){return!!xg()&&new Promise(m=>{const d=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),m(!0)})})})).apply(this,arguments)}const Si={LOCAL:"local",NONE:"none",SESSION:"session"},_u=Fe,Eu="persistence";function Og(m){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,I.Z)(function*(m){yield m._initializationPromise;const d=Gt(),f=qt(Eu,m.config.apiKey,m.name);d&&d.setItem(f,m._getPersistence())})).apply(this,arguments)}function Gt(){var m;try{return(null===(m=function Rg(){return"undefined"!=typeof window?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch(d){return null}}const So=Fe;class Ai{constructor(){this.browserResolver=Wt(class Yd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fr,this._completeRedirectFn=gf}_openPopup(d,f,_,b){var R=this;return(0,I.Z)(function*(){var q;ct(null===(q=R.eventManagers[d._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const se=Tc(d,f,_,Mr(),b);return function Wy(m,d,f,_=500,b=600){const R=Math.max((window.screen.availHeight-b)/2,0).toString(),q=Math.max((window.screen.availWidth-_)/2,0).toString();let se="";const He=Object.assign(Object.assign({},vg),{width:_.toString(),height:b.toString(),top:R,left:q}),je=(0,V.z$)().toLowerCase();f&&(se=qi(je)?"_blank":f),Tt(je)&&(d=d||"http://localhost",He.scrollbars="yes");const it=Object.entries(He).reduce((Ut,[tr,As])=>`${Ut}${tr}=${As},`,"");if(function yn(m=(0,V.z$)()){var d;return Kr(m)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(je)&&"_self"!==se)return function w0(m,d){const f=document.createElement("a");f.href=m,f.target=d;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(_)}(d||"",se),new Ef(null);const ht=window.open(d||"",se,it);Fe(ht,m,"popup-blocked");try{ht.focus()}catch(Ut){}return new Ef(ht)}(d,se,Bo())})()}_openRedirect(d,f,_,b){var R=this;return(0,I.Z)(function*(){return yield R._originValidation(d),function Aa(m){Kn().location.href=m}(Tc(d,f,_,Mr(),b)),new Promise(()=>{})})()}_initialize(d){const f=d._key();if(this.eventManagers[f]){const{manager:b,promise:R}=this.eventManagers[f];return b?Promise.resolve(b):(ct(R,"If manager is not set, promise should be"),R)}const _=this.initAndGetManager(d);return this.eventManagers[f]={promise:_},_.catch(()=>{delete this.eventManagers[f]}),_}initAndGetManager(d){var f=this;return(0,I.Z)(function*(){const _=yield function zy(m){return Pa.apply(this,arguments)}(d),b=new Wd(d);return _.register("authEvent",R=>(Fe(null==R?void 0:R.authEvent,d,"invalid-auth-event"),{status:b.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[d._key()]={manager:b},f.iframes[d._key()]=_,b})()}_isIframeWebStorageSupported(d,f){this.iframes[d._key()].send(If,{type:If},b=>{var R;const q=null===(R=null==b?void 0:b[0])||void 0===R?void 0:R[If];void 0!==q&&f(!!q),nn(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Yo(m){return Jo.apply(this,arguments)}(d)),this.originValidationPromises[f]}get _shouldInitProactively(){return gs()||ui()||Kr()}}),this.cordovaResolver=Wt(class Xy{constructor(){this._redirectPersistence=Fr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=gf}_initialize(d){var f=this;return(0,I.Z)(function*(){const _=d._key();let b=f.eventManagers.get(_);return b||(b=new Tg(d),f.eventManagers.set(_,b),f.attachCallbackListeners(d,b)),b})()}_openPopup(d){nn(d,"operation-not-supported-in-this-environment")}_openRedirect(d,f,_,b){var R=this;return(0,I.Z)(function*(){!function bg(m){var d,f,_,b,R,q,se,He,je,it;const ht=Dn();Fe("function"==typeof(null===(d=null==ht?void 0:ht.universalLinks)||void 0===d?void 0:d.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Fe(void 0!==(null===(f=null==ht?void 0:ht.BuildInfo)||void 0===f?void 0:f.packageName),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Fe("function"==typeof(null===(R=null===(b=null===(_=null==ht?void 0:ht.cordova)||void 0===_?void 0:_.plugins)||void 0===b?void 0:b.browsertab)||void 0===R?void 0:R.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Fe("function"==typeof(null===(He=null===(se=null===(q=null==ht?void 0:ht.cordova)||void 0===q?void 0:q.plugins)||void 0===se?void 0:se.browsertab)||void 0===He?void 0:He.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Fe("function"==typeof(null===(it=null===(je=null==ht?void 0:ht.cordova)||void 0===je?void 0:je.InAppBrowser)||void 0===it?void 0:it.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const q=yield R._initialize(d);yield q.initialized(),q.resetRedirect(),function cl(){Ui.clear()}(),yield R._originValidation(d);const se=function Ss(m,d,f=null){return{type:d,eventId:f,urlResponse:null,sessionId:eh(),postBody:null,tenantId:m.tenantId,error:Qt(m,"no-auth-event")}}(d,_,b);yield function Sg(m,d){return Af()._set(pl(m),d)}(d,se);const He=yield function Cg(m,d,f){return fl.apply(this,arguments)}(d,se,f),je=yield function Zy(m){const{cordova:d}=Dn();return new Promise(f=>{d.plugins.browsertab.isAvailable(_=>{let b=null;_?d.plugins.browsertab.openUrl(m):b=d.InAppBrowser.open(m,function Nr(m=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),f(b)})})}(He);return function Qy(m,d,f){return Dg.apply(this,arguments)}(d,q,je)})()}_isIframeWebStorageSupported(d,f){throw new Error("Method not implemented.")}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Sf(m){return mu.apply(this,arguments)}(d)),this.originValidationPromises[f]}attachCallbackListeners(d,f){const{universalLinks:_,handleOpenURL:b,BuildInfo:R}=Dn(),q=setTimeout((0,I.Z)(function*(){yield Yr(d),f.onEvent(nh())}),500),se=function(){var it=(0,I.Z)(function*(ht){clearTimeout(q);const Ut=yield Yr(d);let tr=null;Ut&&(null==ht?void 0:ht.url)&&(tr=function Xd(m,d){var f,_;const b=function vu(m){const d=Ac(m),f=d.link?decodeURIComponent(d.link):void 0,_=Ac(f).link,b=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return Ac(b).link||b||_||f||m}(d);if(b.includes("/__/auth/callback")){const R=Ac(b),q=R.firebaseError?function Ag(m){try{return JSON.parse(m)}catch(d){return null}}(decodeURIComponent(R.firebaseError)):null,se=null===(_=null===(f=null==q?void 0:q.code)||void 0===f?void 0:f.split("auth/"))||void 0===_?void 0:_[1],He=se?Qt(se):null;return He?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:He,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:b,postBody:null}}return null}(Ut,ht.url)),f.onEvent(tr||nh())});return function(Ut){return it.apply(this,arguments)}}();void 0!==_&&"function"==typeof _.subscribe&&_.subscribe(null,se);const He=b,je=`${R.packageName.toLowerCase()}://`;Dn().handleOpenURL=function(){var it=(0,I.Z)(function*(ht){if(ht.toLowerCase().startsWith(je)&&se({url:ht}),"function"==typeof He)try{He(ht)}catch(Ut){console.error(Ut)}});return function(ht){return it.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Fr,this._completeRedirectFn=gf}_initialize(d){var f=this;return(0,I.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,f,_,b){var R=this;return(0,I.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(d,f,_,b)})()}_openRedirect(d,f,_,b){var R=this;return(0,I.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(d,f,_,b)})()}_isIframeWebStorageSupported(d,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,f)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return xg()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return So(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,I.Z)(function*(){if(d.underlyingResolver)return;const f=yield function ev(){return ih.apply(this,arguments)}();d.underlyingResolver=f?d.cordovaResolver:d.browserResolver})()}}function Nc(m){return m.unwrap()}function Pg(m){return kf(m)}function kf(m){const{_tokenResponse:d}=m instanceof V.ZR?m.customData:m;if(!d)return null;if(!(m instanceof V.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return D.credentialFromResult(m);const f=d.providerId;if(!f||"password"===f)return null;let _;switch(f){case"google.com":_=Pe;break;case"facebook.com":_=me;break;case"github.com":_=We;break;case"twitter.com":_=Sn;break;default:const{oauthIdToken:b,oauthAccessToken:R,oauthTokenSecret:q,pendingToken:se,nonce:He}=d;return R||q||b||se?se?f.startsWith("saml.")?zt._create(f,se):zn._fromParams({providerId:f,signInMethod:f,pendingToken:se,idToken:b,accessToken:R}):new z(f).credential({idToken:b,accessToken:R,rawNonce:He}):null}return m instanceof V.ZR?_.credentialFromError(m):_.credentialFromResult(m)}function Bn(m,d){return d.catch(f=>{throw f instanceof V.ZR&&function Pc(m,d){var f;const _=null===(f=d.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===d.code)d.resolver=new Ff(m,function Ju(m,d){var f;const _=(0,V.m9)(m),b=d;return Fe(d.customData.operationType,_,"argument-error"),Fe(null===(f=b.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,_,"argument-error"),Da._fromError(_,b)}(m,d));else if(_){const b=kf(d),R=d;b&&(R.credential=b,R.tenantId=_.tenantId||void 0,R.email=_.email||void 0,R.phoneNumber=_.phoneNumber||void 0)}}(m,f),f}).then(f=>{const b=f.user;return{operationType:f.operationType,credential:Pg(f),additionalUserInfo:br(f),user:Iu.getOrCreate(b)}})}function ml(m,d){return yl.apply(this,arguments)}function yl(){return(yl=(0,I.Z)(function*(m,d){const f=yield d;return{verificationId:f.verificationId,confirm:_=>Bn(m,f.confirm(_))}})).apply(this,arguments)}class Ff{constructor(d,f){this.resolver=f,this.auth=function Pf(m){return m.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return Bn(Nc(this.auth),this.resolver.resolveSignIn(d))}}class Iu{constructor(d){this._delegate=d,this.multiFactor=function Ta(m){const d=(0,V.m9)(m);return Eo.has(d)||Eo.set(d,di._fromUser(d)),Eo.get(d)}(d)}static getOrCreate(d){return Iu.USER_MAP.has(d)||Iu.USER_MAP.set(d,new Iu(d)),Iu.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var f=this;return(0,I.Z)(function*(){return Bn(f.auth,iu(f._delegate,d))})()}linkWithPhoneNumber(d,f){var _=this;return(0,I.Z)(function*(){return ml(_.auth,function gc(m,d,f){return Vr.apply(this,arguments)}(_._delegate,d,f))})()}linkWithPopup(d){var f=this;return(0,I.Z)(function*(){return Bn(f.auth,function _n(m,d,f){return Di.apply(this,arguments)}(f._delegate,d,Ai))})()}linkWithRedirect(d){var f=this;return(0,I.Z)(function*(){return yield Og(qn(f.auth)),function _c(m,d,f){return function Do(m,d,f){return dl.apply(this,arguments)}(m,d,f)}(f._delegate,d,Ai)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var f=this;return(0,I.Z)(function*(){return Bn(f.auth,Xi(f._delegate,d))})()}reauthenticateWithPhoneNumber(d,f){return ml(this.auth,function al(m,d,f){return wo.apply(this,arguments)}(this._delegate,d,f))}reauthenticateWithPopup(d){return Bn(this.auth,function Tr(m,d,f){return Zn.apply(this,arguments)}(this._delegate,d,Ai))}reauthenticateWithRedirect(d){var f=this;return(0,I.Z)(function*(){return yield Og(qn(f.auth)),function hg(m,d,f){return function Vy(m,d,f){return pf.apply(this,arguments)}(m,d,f)}(f._delegate,d,Ai)})()}sendEmailVerification(d){return function oc(m,d){return yo.apply(this,arguments)}(this._delegate,d)}unlink(d){var f=this;return(0,I.Z)(function*(){return yield function ke(m,d){return Vt.apply(this,arguments)}(f._delegate,d),f})()}updateEmail(d){return function rf(m,d){return wa((0,V.m9)(m),d,null)}(this._delegate,d)}updatePassword(d){return function sf(m,d){return wa((0,V.m9)(m),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function Gd(m,d){return yc.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function vo(m,d){return jn.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,f){return function ac(m,d,f){return uu.apply(this,arguments)}(this._delegate,d,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Iu.USER_MAP=new WeakMap;const xn=Fe;let rs=(()=>{class m{constructor(f,_){if(this.app=f,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:b}=f.options;xn(b,"invalid-api-key",{appName:f.name}),xn(b,"invalid-api-key",{appName:f.name});const R="undefined"!=typeof window?Ai:void 0;this._delegate=_.initialize({options:{persistence:tv(b,f.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(cr),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Iu.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,_){!function Ni(m,d,f){const _=qn(m);Fe(_._canInitEmulator,_,"emulator-config-failed"),Fe(/^https?:\/\//.test(d),_,"invalid-emulator-scheme");const b=!!(null==f?void 0:f.disableWarnings),R=ju(d),{host:q,port:se}=function xd(m){const d=ju(m),f=/(\/\/)?([^?#/]+)/.exec(m.substr(d.length));if(!f)return{host:"",port:null};const _=f[2].split("@").pop()||"",b=/^(\[[^\]]+\])(:|$)/.exec(_);if(b){const R=b[1];return{host:R,port:Rd(_.substr(R.length+1))}}{const[R,q]=_.split(":");return{host:R,port:Rd(q)}}}(d);_.config.emulator={url:`${R}//${q}${null===se?"":`:${se}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:q,port:se,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:b})}),b||function Pi(){function m(){const d=document.createElement("p"),f=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,f,_)}applyActionCode(f){return function ic(m,d){return Ea.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return Nd(this._delegate,f)}confirmPasswordReset(f,_){return function _a(m,d,f){return zu.apply(this,arguments)}(this._delegate,f,_)}createUserWithEmailAndPassword(f,_){var b=this;return(0,I.Z)(function*(){return Bn(b._delegate,function Ku(m,d,f){return Zu.apply(this,arguments)}(b._delegate,f,_))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function kd(m,d){return Fd.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function Mn(m,d){const f=vn.parseLink(d);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,I.Z)(function*(){xn(Of(),f._delegate,"operation-not-supported-in-this-environment");const _=yield function Ec(m,d){return fg.apply(this,arguments)}(f._delegate,Ai);return _?Bn(f._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function Mc(m,d){qn(m)._logFramework(d)}(this._delegate,f)}onAuthStateChanged(f,_,b){const{next:R,error:q,complete:se}=Lf(f,_,b);return this._delegate.onAuthStateChanged(R,q,se)}onIdTokenChanged(f,_,b){const{next:R,error:q,complete:se}=Lf(f,_,b);return this._delegate.onIdTokenChanged(R,q,se)}sendSignInLinkToEmail(f,_){return function Dr(m,d,f){return ci.apply(this,arguments)}(this._delegate,f,_)}sendPasswordResetEmail(f,_){return function ya(m,d,f){return va.apply(this,arguments)}(this._delegate,f,_||void 0)}setPersistence(f){var _=this;return(0,I.Z)(function*(){let b;switch(function To(m,d){_u(Object.values(Si).includes(d),m,"invalid-persistence-type"),(0,V.b$)()?_u(d!==Si.SESSION,m,"unsupported-persistence-type"):(0,V.UG)()?_u(d===Si.NONE,m,"unsupported-persistence-type"):Rf()?_u(d===Si.NONE||d===Si.LOCAL&&(0,V.hl)(),m,"unsupported-persistence-type"):_u(d===Si.NONE||rh(),m,"unsupported-persistence-type")}(_._delegate,f),f){case Si.SESSION:b=Fr;break;case Si.LOCAL:b=(yield Wt(ts)._isAvailable())?ts:Xn;break;case Si.NONE:b=pr;break;default:return nn("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(b)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return Bn(this._delegate,function mo(m){return Qi.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return Bn(this._delegate,Hu(this._delegate,f))}signInWithCustomToken(f){return Bn(this._delegate,function Gu(m,d){return ma.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,_){return Bn(this._delegate,function tf(m,d,f){return Hu((0,V.m9)(m),P.credential(d,f))}(this._delegate,f,_))}signInWithEmailLink(f,_){return Bn(this._delegate,function sc(m,d,f){return Ia.apply(this,arguments)}(this._delegate,f,_))}signInWithPhoneNumber(f,_){return ml(this._delegate,function Zo(m,d,f){return Qr.apply(this,arguments)}(this._delegate,f,_))}signInWithPopup(f){var _=this;return(0,I.Z)(function*(){return xn(Of(),_._delegate,"operation-not-supported-in-this-environment"),Bn(_._delegate,function rn(m,d,f){return ln.apply(this,arguments)}(_._delegate,f,Ai))})()}signInWithRedirect(f){var _=this;return(0,I.Z)(function*(){return xn(Of(),_._delegate,"operation-not-supported-in-this-environment"),yield Og(_._delegate),function Ly(m,d,f){return function zd(m,d,f){return vc.apply(this,arguments)}(m,d,f)}(_._delegate,f,Ai)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function au(m,d){return Wu.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=Si,m})();function Lf(m,d,f){let _=m;"function"!=typeof m&&({next:_,error:d,complete:f}=m);const b=_;return{next:q=>b(q&&Iu.getOrCreate(q)),error:d,complete:f}}function tv(m,d){const f=function Nf(m,d){const f=Gt();if(!f)return[];const _=qt(Eu,m,d);switch(f.getItem(_)){case Si.NONE:return[pr];case Si.LOCAL:return[ts,Fr];case Si.SESSION:return[Fr];default:return[]}}(m,d);if("undefined"!=typeof self&&!f.includes(ts)&&f.push(ts),"undefined"!=typeof window)for(const _ of[Xn,Fr])f.includes(_)||f.push(_);return f.includes(pr)||f.push(pr),f}class vl{constructor(){this.providerId="phone",this._delegate=new D(Nc(h.Z.auth()))}static credential(d,f){return D.credential(d,f)}verifyPhoneNumber(d,f){return this._delegate.verifyPhoneNumber(d,f)}unwrap(){return this._delegate}}vl.PHONE_SIGN_IN_METHOD=D.PHONE_SIGN_IN_METHOD,vl.PROVIDER_ID=D.PROVIDER_ID;const kg=Fe;class nv{constructor(d,f,_=h.Z.app()){var b;kg(null===(b=_.options)||void 0===b?void 0:b.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new Oa(d,f,_.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function rv(m){m.INTERNAL.registerComponent(new ge.wA("auth-compat",d=>{const f=d.getProvider("app-compat").getImmediate(),_=d.getProvider("auth");return new rs(f,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:P,FacebookAuthProvider:me,GithubAuthProvider:We,GoogleAuthProvider:Pe,OAuthProvider:z,SAMLAuthProvider:Mt,PhoneAuthProvider:vl,PhoneMultiFactorGenerator:Ig,RecaptchaVerifier:nv,TwitterAuthProvider:Sn,Auth:rs,AuthCredential:ua,Error:V.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.2.9")}(h.Z)},4497:(ut,Ie)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});var F=function(){function I(h,V,oe,te){this.id=I.nextId++,this.text="default text",this.cssClass="",this.closeOnClick=!1,this.showCloseBtn=!1,h&&(this.text=h),V&&(this.cssClass=V),oe&&(this.closeOnClick=oe),te&&(this.showCloseBtn=te)}return I.nextId=0,I}();Ie.FlashMessage=F},2570:function(ut,Ie,F){"use strict";var I=F(5e3),h=F(5673),V=F(9808);function oe(le,pe){1&le&&I.\u0275\u0275element(0,"div",3)}function te(le,pe){if(1&le){var Me=I.\u0275\u0275getCurrentView();I.\u0275\u0275elementStart(0,"button",7),I.\u0275\u0275listener("click",function(){I.\u0275\u0275restoreView(Me);var ne=I.\u0275\u0275nextContext().$implicit;return I.\u0275\u0275nextContext().close(ne)}),I.\u0275\u0275elementStart(1,"span",8),I.\u0275\u0275text(2,"\xd7"),I.\u0275\u0275elementEnd(),I.\u0275\u0275elementEnd()}}var fe=function(le){return{"alert-dismissible":le}};function ue(le,pe){if(1&le){var Me=I.\u0275\u0275getCurrentView();I.\u0275\u0275elementStart(0,"div",4),I.\u0275\u0275listener("click",function(){var be=I.\u0275\u0275restoreView(Me).$implicit;return I.\u0275\u0275nextContext().alertClicked(be)}),I.\u0275\u0275template(1,te,3,0,"button",5),I.\u0275\u0275element(2,"div",6),I.\u0275\u0275elementEnd()}if(2&le){var Z=pe.$implicit;I.\u0275\u0275classMapInterpolate1("alert flash-message ",Z.cssClass,""),I.\u0275\u0275styleProp("cursor",Z.closeOnClick?"pointer":"inherit"),I.\u0275\u0275property("ngClass",I.\u0275\u0275pureFunction1(8,fe,Z.showCloseBtn)),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngIf",Z.showCloseBtn),I.\u0275\u0275advance(1),I.\u0275\u0275property("innerHTML",Z.text,I.\u0275\u0275sanitizeHtml)}}var ae=this&&this.__decorate||function(le,pe,Me,Z){var be,ne=arguments.length,he=ne<3?pe:null===Z?Z=Object.getOwnPropertyDescriptor(pe,Me):Z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)he=Reflect.decorate(le,pe,Me,Z);else for(var _e=le.length-1;_e>=0;_e--)(be=le[_e])&&(he=(ne<3?be(he):ne>3?be(pe,Me,he):be(pe,Me))||he);return ne>3&&he&&Object.defineProperty(pe,Me,he),he},ce=this&&this.__metadata||function(le,pe){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(le,pe)};Object.defineProperty(Ie,"__esModule",{value:!0});var $=F(5e3),H=F(4497),X=F(5673),$e=function(){function le(pe,Me){this._flashMessagesService=pe,this._cdRef=Me,this._defaults={text:"default message",closeOnClick:!1,showCloseBtn:!1,cssClass:""},this.messages=[],this.classes="",this._grayOut=!1,this._flashMessagesService.show=this.show.bind(this),this._flashMessagesService.grayOut=this.grayOut.bind(this)}return le.prototype.ngOnInit=function(){},le.prototype.show=function(pe,Me){var Z=this;void 0===Me&&(Me={});var ne={timeout:2500,closeOnClick:!1,showCloseBtn:!1,cssClass:"",text:"default message"};for(var he in Me)ne[he]=Me[he];var be=new H.FlashMessage(pe,ne.cssClass,ne.closeOnClick,ne.showCloseBtn);be.timer=window.setTimeout(function(){Z._remove(be),Z._cdRef.detectChanges()},ne.timeout),this.messages.push(be),this._cdRef.detectChanges()},le.prototype.close=function(pe){clearTimeout(pe.timer),this._remove(pe),this._cdRef.detectChanges()},le.prototype.alertClicked=function(pe){pe.closeOnClick&&this.close(pe)},le.prototype.grayOut=function(pe){void 0===pe&&(pe=!1),this._grayOut=pe},le.prototype._remove=function(pe){this.messages=this.messages.filter(function(Me){return Me.id!==pe.id})},(le=ae([ce("design:paramtypes",[X.FlashMessagesService,$.ChangeDetectorRef])],le)).\u0275fac=function(Me){return new(Me||le)(I.\u0275\u0275directiveInject(h.FlashMessagesService),I.\u0275\u0275directiveInject(I.ChangeDetectorRef))},le.\u0275cmp=I.\u0275\u0275defineComponent({type:le,selectors:[["flash-messages"]],decls:3,vars:2,consts:[["id","flashMessages",1,"flash-messages"],["id","grayOutDiv",4,"ngIf"],[3,"class","ngClass","cursor","click",4,"ngFor","ngForOf"],["id","grayOutDiv"],[3,"ngClass","click"],["type","button","class","close","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[3,"innerHTML"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(Me,Z){1&Me&&(I.\u0275\u0275elementStart(0,"div",0),I.\u0275\u0275template(1,oe,1,0,"div",1),I.\u0275\u0275template(2,ue,3,10,"div",2),I.\u0275\u0275elementEnd()),2&Me&&(I.\u0275\u0275advance(1),I.\u0275\u0275property("ngIf",Z._grayOut&&Z.messages.length),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngForOf",Z.messages))},directives:[V.NgIf,V.NgForOf,V.NgClass],encapsulation:2}),le}();Ie.FlashMessagesComponent=$e},5673:function(ut,Ie,F){"use strict";var I=F(5e3);Object.defineProperty(Ie,"__esModule",{value:!0}),F(5e3);var oe=function(){function te(){}return te.\u0275fac=function(ue){return new(ue||te)},te.\u0275prov=I.\u0275\u0275defineInjectable({token:te,factory:function(fe){return te.\u0275fac(fe)}}),te}();Ie.FlashMessagesService=oe},3241:(ut,Ie,F)=>{var h=F(2570),V=F(8533);Ie.qz=V.FlashMessagesModule;var oe=F(5673);Ie.GQ=oe.FlashMessagesService,Ie.cS=h.FlashMessagesComponent},8533:function(ut,Ie,F){"use strict";var I=F(5e3);F(2570),F(9808),Object.defineProperty(Ie,"__esModule",{value:!0}),F(5e3);var fe=F(9808),ae=(F(2570),F(5673)),ce=function(){function $(){}var H;return H=$,$.forRoot=function(){return{ngModule:H,providers:[ae.FlashMessagesService]}},$.\u0275fac=function($e){return new($e||$)},$.\u0275mod=I.\u0275\u0275defineNgModule({type:$}),$.\u0275inj=I.\u0275\u0275defineInjector({providers:[],imports:[[fe.CommonModule]]}),$}();Ie.FlashMessagesModule=ce},2940:function(ut,Ie){!function(F){"use strict";function I(Z){return Array.prototype.slice.call(Z)}function h(Z){return new Promise(function(ne,he){Z.onsuccess=function(){ne(Z.result)},Z.onerror=function(){he(Z.error)}})}function V(Z,ne,he){var be,_e=new Promise(function(ze,Oe){h(be=Z[ne].apply(Z,he)).then(ze,Oe)});return _e.request=be,_e}function oe(Z,ne,he){var be=V(Z,ne,he);return be.then(function(_e){if(_e)return new $(_e,be.request)})}function te(Z,ne,he){he.forEach(function(be){Object.defineProperty(Z.prototype,be,{get:function(){return this[ne][be]},set:function(_e){this[ne][be]=_e}})})}function fe(Z,ne,he,be){be.forEach(function(_e){_e in he.prototype&&(Z.prototype[_e]=function(){return V(this[ne],_e,arguments)})})}function ue(Z,ne,he,be){be.forEach(function(_e){_e in he.prototype&&(Z.prototype[_e]=function(){return this[ne][_e].apply(this[ne],arguments)})})}function ae(Z,ne,he,be){be.forEach(function(_e){_e in he.prototype&&(Z.prototype[_e]=function(){return oe(this[ne],_e,arguments)})})}function ce(Z){this._index=Z}function $(Z,ne){this._cursor=Z,this._request=ne}function H(Z){this._store=Z}function X(Z){this._tx=Z,this.complete=new Promise(function(ne,he){Z.oncomplete=function(){ne()},Z.onerror=function(){he(Z.error)},Z.onabort=function(){he(Z.error)}})}function $e(Z,ne,he){this._db=Z,this.oldVersion=ne,this.transaction=new X(he)}function le(Z){this._db=Z}te(ce,"_index",["name","keyPath","multiEntry","unique"]),fe(ce,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ae(ce,"_index",IDBIndex,["openCursor","openKeyCursor"]),te($,"_cursor",["direction","key","primaryKey","value"]),fe($,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Z){Z in IDBCursor.prototype&&($.prototype[Z]=function(){var ne=this,he=arguments;return Promise.resolve().then(function(){return ne._cursor[Z].apply(ne._cursor,he),h(ne._request).then(function(be){if(be)return new $(be,ne._request)})})})}),H.prototype.createIndex=function(){return new ce(this._store.createIndex.apply(this._store,arguments))},H.prototype.index=function(){return new ce(this._store.index.apply(this._store,arguments))},te(H,"_store",["name","keyPath","indexNames","autoIncrement"]),fe(H,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ae(H,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ue(H,"_store",IDBObjectStore,["deleteIndex"]),X.prototype.objectStore=function(){return new H(this._tx.objectStore.apply(this._tx,arguments))},te(X,"_tx",["objectStoreNames","mode"]),ue(X,"_tx",IDBTransaction,["abort"]),$e.prototype.createObjectStore=function(){return new H(this._db.createObjectStore.apply(this._db,arguments))},te($e,"_db",["name","version","objectStoreNames"]),ue($e,"_db",IDBDatabase,["deleteObjectStore","close"]),le.prototype.transaction=function(){return new X(this._db.transaction.apply(this._db,arguments))},te(le,"_db",["name","version","objectStoreNames"]),ue(le,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Z){[H,ce].forEach(function(ne){Z in ne.prototype&&(ne.prototype[Z.replace("open","iterate")]=function(){var he=I(arguments),be=he[he.length-1],_e=this._store||this._index,ze=_e[Z].apply(_e,he.slice(0,-1));ze.onsuccess=function(){be(ze.result)}})})}),[ce,H].forEach(function(Z){Z.prototype.getAll||(Z.prototype.getAll=function(ne,he){var be=this,_e=[];return new Promise(function(ze){be.iterateCursor(ne,function(Oe){Oe?(_e.push(Oe.value),void 0===he||_e.length!=he?Oe.continue():ze(_e)):ze(_e)})})})}),F.openDb=function pe(Z,ne,he){var be=V(indexedDB,"open",[Z,ne]),_e=be.request;return _e&&(_e.onupgradeneeded=function(ze){he&&he(new $e(_e.result,ze.oldVersion,_e.transaction))}),be.then(function(ze){return new le(ze)})},F.deleteDb=function Me(Z){return V(indexedDB,"deleteDatabase",[Z])},Object.defineProperty(F,"__esModule",{value:!0})}(Ie)},8306:(ut,Ie,F)=>{"use strict";F.d(Ie,{y:()=>$});var I=F(2961),h=F(727),V=F(8822),oe=F(4671);var ue=F(2416),ae=F(576),ce=F(2806);let $=(()=>{class le{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const Z=new le;return Z.source=this,Z.operator=Me,Z}subscribe(Me,Z,ne){const he=function $e(le){return le&&le instanceof I.Lv||function X(le){return le&&(0,ae.m)(le.next)&&(0,ae.m)(le.error)&&(0,ae.m)(le.complete)}(le)&&(0,h.Nn)(le)}(Me)?Me:new I.Hp(Me,Z,ne);return(0,ce.x)(()=>{const{operator:be,source:_e}=this;he.add(be?be.call(he,_e):_e?this._subscribe(he):this._trySubscribe(he))}),he}_trySubscribe(Me){try{return this._subscribe(Me)}catch(Z){Me.error(Z)}}forEach(Me,Z){return new(Z=H(Z))((ne,he)=>{let be;be=this.subscribe(_e=>{try{Me(_e)}catch(ze){he(ze),null==be||be.unsubscribe()}},he,ne)})}_subscribe(Me){var Z;return null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(Me)}[V.L](){return this}pipe(...Me){return function fe(le){return 0===le.length?oe.y:1===le.length?le[0]:function(Me){return le.reduce((Z,ne)=>ne(Z),Me)}}(Me)(this)}toPromise(Me){return new(Me=H(Me))((Z,ne)=>{let he;this.subscribe(be=>he=be,be=>ne(be),()=>Z(he))})}}return le.create=pe=>new le(pe),le})();function H(le){var pe;return null!==(pe=null!=le?le:ue.v.Promise)&&void 0!==pe?pe:Promise}},7579:(ut,Ie,F)=>{"use strict";F.d(Ie,{x:()=>ue});var I=F(8306),h=F(727);const oe=(0,F(3888).d)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var te=F(8737),fe=F(2806);let ue=(()=>{class ce extends I.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const X=new ae(this,this);return X.operator=H,X}_throwIfClosed(){if(this.closed)throw new oe}next(H){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const X=this.observers.slice();for(const $e of X)$e.next(H)}})}error(H){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:X}=this;for(;X.length;)X.shift().error(H)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:X,isStopped:$e,observers:le}=this;return X||$e?h.Lc:(le.push(H),new h.w0(()=>(0,te.P)(le,H)))}_checkFinalizedStatuses(H){const{hasError:X,thrownError:$e,isStopped:le}=this;X?H.error($e):le&&H.complete()}asObservable(){const H=new I.y;return H.source=this,H}}return ce.create=($,H)=>new ae($,H),ce})();class ae extends ue{constructor($,H){super(),this.destination=$,this.source=H}next($){var H,X;null===(X=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===X||X.call(H,$)}error($){var H,X;null===(X=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===X||X.call(H,$)}complete(){var $,H;null===(H=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===H||H.call($)}_subscribe($){var H,X;return null!==(X=null===(H=this.source)||void 0===H?void 0:H.subscribe($))&&void 0!==X?X:h.Lc}}},2961:(ut,Ie,F)=>{"use strict";F.d(Ie,{Hp:()=>$e,Lv:()=>X});var I=F(576),h=F(727),V=F(2416),oe=F(7849);function te(){}const fe=ce("C",void 0,void 0);function ce(ne,he,be){return{kind:ne,value:he,error:be}}var $=F(3410),H=F(2806);class X extends h.w0{constructor(he){super(),this.isStopped=!1,he?(this.destination=he,(0,h.Nn)(he)&&he.add(this)):this.destination=Z}static create(he,be,_e){return new $e(he,be,_e)}next(he){this.isStopped?Me(function ae(ne){return ce("N",ne,void 0)}(he),this):this._next(he)}error(he){this.isStopped?Me(function ue(ne){return ce("E",void 0,ne)}(he),this):(this.isStopped=!0,this._error(he))}complete(){this.isStopped?Me(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(he){this.destination.next(he)}_error(he){try{this.destination.error(he)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class $e extends X{constructor(he,be,_e){let ze;if(super(),(0,I.m)(he))ze=he;else if(he){let Oe;({next:ze,error:be,complete:_e}=he),this&&V.v.useDeprecatedNextContext?(Oe=Object.create(he),Oe.unsubscribe=()=>this.unsubscribe()):Oe=he,ze=null==ze?void 0:ze.bind(Oe),be=null==be?void 0:be.bind(Oe),_e=null==_e?void 0:_e.bind(Oe)}this.destination={next:ze?le(ze):te,error:le(null!=be?be:pe),complete:_e?le(_e):te}}}function le(ne,he){return(...be)=>{try{ne(...be)}catch(_e){V.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(_e):(0,oe.h)(_e)}}}function pe(ne){throw ne}function Me(ne,he){const{onStoppedNotification:be}=V.v;be&&$.z.setTimeout(()=>be(ne,he))}const Z={closed:!0,next:te,error:pe,complete:te}},727:(ut,Ie,F)=>{"use strict";F.d(Ie,{Lc:()=>fe,w0:()=>te,Nn:()=>ue});var I=F(576);const V=(0,F(3888).d)(ce=>function(H){ce(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((X,$e)=>`${$e+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var oe=F(8737);class te{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const le of H)le.remove(this);else H.remove(this);const{initialTeardown:X}=this;if((0,I.m)(X))try{X()}catch(le){$=le instanceof V?le.errors:[le]}const{_teardowns:$e}=this;if($e){this._teardowns=null;for(const le of $e)try{ae(le)}catch(pe){$=null!=$?$:[],pe instanceof V?$=[...$,...pe.errors]:$.push(pe)}}if($)throw new V($)}}add($){var H;if($&&$!==this)if(this.closed)ae($);else{if($ instanceof te){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._teardowns=null!==(H=this._teardowns)&&void 0!==H?H:[]).push($)}}_hasParent($){const{_parentage:H}=this;return H===$||Array.isArray(H)&&H.includes($)}_addParent($){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push($),H):H?[H,$]:$}_removeParent($){const{_parentage:H}=this;H===$?this._parentage=null:Array.isArray(H)&&(0,oe.P)(H,$)}remove($){const{_teardowns:H}=this;H&&(0,oe.P)(H,$),$ instanceof te&&$._removeParent(this)}}te.EMPTY=(()=>{const ce=new te;return ce.closed=!0,ce})();const fe=te.EMPTY;function ue(ce){return ce instanceof te||ce&&"closed"in ce&&(0,I.m)(ce.remove)&&(0,I.m)(ce.add)&&(0,I.m)(ce.unsubscribe)}function ae(ce){(0,I.m)(ce)?ce():ce.unsubscribe()}},2416:(ut,Ie,F)=>{"use strict";F.d(Ie,{v:()=>I});const I={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ut,Ie,F)=>{"use strict";F.d(Ie,{E:()=>h});const h=new(F(8306).y)(te=>te.complete())},8996:(ut,Ie,F)=>{"use strict";F.d(Ie,{D:()=>ze});var I=F(8421),h=F(5363),V=F(9468),fe=F(8306),ae=F(2202),ce=F(576),$=F(9672);function X(Oe,lt){if(!Oe)throw new Error("Iterable cannot be null");return new fe.y(nt=>{(0,$.f)(nt,lt,()=>{const wt=Oe[Symbol.asyncIterator]();(0,$.f)(nt,lt,()=>{wt.next().then(re=>{re.done?nt.complete():nt.next(re.value)})},0,!0)})})}var $e=F(3670),le=F(8239),pe=F(1144),Me=F(6495),Z=F(2206),ne=F(4532),he=F(3260);function ze(Oe,lt){return lt?function _e(Oe,lt){if(null!=Oe){if((0,$e.c)(Oe))return function oe(Oe,lt){return(0,I.Xf)(Oe).pipe((0,V.R)(lt),(0,h.Q)(lt))}(Oe,lt);if((0,pe.z)(Oe))return function ue(Oe,lt){return new fe.y(nt=>{let wt=0;return lt.schedule(function(){wt===Oe.length?nt.complete():(nt.next(Oe[wt++]),nt.closed||this.schedule())})})}(Oe,lt);if((0,le.t)(Oe))return function te(Oe,lt){return(0,I.Xf)(Oe).pipe((0,V.R)(lt),(0,h.Q)(lt))}(Oe,lt);if((0,Z.D)(Oe))return X(Oe,lt);if((0,Me.T)(Oe))return function H(Oe,lt){return new fe.y(nt=>{let wt;return(0,$.f)(nt,lt,()=>{wt=Oe[ae.h](),(0,$.f)(nt,lt,()=>{let re,Ee;try{({value:re,done:Ee}=wt.next())}catch(De){return void nt.error(De)}Ee?nt.complete():nt.next(re)},0,!0)}),()=>(0,ce.m)(null==wt?void 0:wt.return)&&wt.return()})}(Oe,lt);if((0,he.L)(Oe))return function be(Oe,lt){return X((0,he.Q)(Oe),lt)}(Oe,lt)}throw(0,ne.z)(Oe)}(Oe,lt):(0,I.Xf)(Oe)}},8421:(ut,Ie,F)=>{"use strict";F.d(Ie,{Xf:()=>$e});var I=F(5987),h=F(1144),V=F(8239),oe=F(8306),te=F(3670),fe=F(2206),ue=F(4532),ae=F(6495),ce=F(3260),$=F(576),H=F(7849),X=F(8822);function $e(_e){if(_e instanceof oe.y)return _e;if(null!=_e){if((0,te.c)(_e))return function le(_e){return new oe.y(ze=>{const Oe=_e[X.L]();if((0,$.m)(Oe.subscribe))return Oe.subscribe(ze);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(_e);if((0,h.z)(_e))return function pe(_e){return new oe.y(ze=>{for(let Oe=0;Oe<_e.length&&!ze.closed;Oe++)ze.next(_e[Oe]);ze.complete()})}(_e);if((0,V.t)(_e))return function Me(_e){return new oe.y(ze=>{_e.then(Oe=>{ze.closed||(ze.next(Oe),ze.complete())},Oe=>ze.error(Oe)).then(null,H.h)})}(_e);if((0,fe.D)(_e))return ne(_e);if((0,ae.T)(_e))return function Z(_e){return new oe.y(ze=>{for(const Oe of _e)if(ze.next(Oe),ze.closed)return;ze.complete()})}(_e);if((0,ce.L)(_e))return function he(_e){return ne((0,ce.Q)(_e))}(_e)}throw(0,ue.z)(_e)}function ne(_e){return new oe.y(ze=>{(function be(_e,ze){var Oe,lt,nt,wt;return(0,I.mG)(this,void 0,void 0,function*(){try{for(Oe=(0,I.KL)(_e);!(lt=yield Oe.next()).done;)if(ze.next(lt.value),ze.closed)return}catch(re){nt={error:re}}finally{try{lt&&!lt.done&&(wt=Oe.return)&&(yield wt.call(Oe))}finally{if(nt)throw nt.error}}ze.complete()})})(_e,ze).catch(Oe=>ze.error(Oe))})}},6451:(ut,Ie,F)=>{"use strict";F.d(Ie,{T:()=>fe});var I=F(8189),h=F(8421),V=F(515),oe=F(7669),te=F(8996);function fe(...ue){const ae=(0,oe.yG)(ue),ce=(0,oe._6)(ue,1/0),$=ue;return $.length?1===$.length?(0,h.Xf)($[0]):(0,I.J)(ce)((0,te.D)($,ae)):V.E}},5403:(ut,Ie,F)=>{"use strict";F.d(Ie,{Q:()=>h});var I=F(2961);class h extends I.Lv{constructor(oe,te,fe,ue,ae){super(oe),this.onFinalize=ae,this._next=te?function(ce){try{te(ce)}catch($){oe.error($)}}:super._next,this._error=ue?function(ce){try{ue(ce)}catch($){oe.error($)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(ce){oe.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;const{closed:te}=this;super.unsubscribe(),!te&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}},4004:(ut,Ie,F)=>{"use strict";F.d(Ie,{U:()=>V});var I=F(4482),h=F(5403);function V(oe,te){return(0,I.e)((fe,ue)=>{let ae=0;fe.subscribe(new h.Q(ue,ce=>{ue.next(oe.call(te,ce,ae++))}))})}},8189:(ut,Ie,F)=>{"use strict";F.d(Ie,{J:()=>V});var I=F(5577),h=F(4671);function V(oe=1/0){return(0,I.z)(h.y,oe)}},5577:(ut,Ie,F)=>{"use strict";F.d(Ie,{z:()=>ae});var I=F(4004),h=F(8421),V=F(4482),oe=F(9672),te=F(5403),ue=F(576);function ae(ce,$,H=1/0){return(0,ue.m)($)?ae((X,$e)=>(0,I.U)((le,pe)=>$(X,le,$e,pe))((0,h.Xf)(ce(X,$e))),H):("number"==typeof $&&(H=$),(0,V.e)((X,$e)=>function fe(ce,$,H,X,$e,le,pe,Me){const Z=[];let ne=0,he=0,be=!1;const _e=()=>{be&&!Z.length&&!ne&&$.complete()},ze=lt=>ne<X?Oe(lt):Z.push(lt),Oe=lt=>{le&&$.next(lt),ne++;let nt=!1;(0,h.Xf)(H(lt,he++)).subscribe(new te.Q($,wt=>{null==$e||$e(wt),le?ze(wt):$.next(wt)},()=>{nt=!0},void 0,()=>{if(nt)try{for(ne--;Z.length&&ne<X;){const wt=Z.shift();pe?(0,oe.f)($,pe,()=>Oe(wt)):Oe(wt)}_e()}catch(wt){$.error(wt)}}))};return ce.subscribe(new te.Q($,ze,()=>{be=!0,_e()})),()=>{null==Me||Me()}}(X,$e,ce,H)))}},5363:(ut,Ie,F)=>{"use strict";F.d(Ie,{Q:()=>oe});var I=F(9672),h=F(4482),V=F(5403);function oe(te,fe=0){return(0,h.e)((ue,ae)=>{ue.subscribe(new V.Q(ae,ce=>(0,I.f)(ae,te,()=>ae.next(ce),fe),()=>(0,I.f)(ae,te,()=>ae.complete(),fe),ce=>(0,I.f)(ae,te,()=>ae.error(ce),fe)))})}},3099:(ut,Ie,F)=>{"use strict";F.d(Ie,{B:()=>fe});var I=F(8996),h=F(5698),V=F(7579),oe=F(2961),te=F(4482);function fe(ae={}){const{connector:ce=(()=>new V.x),resetOnError:$=!0,resetOnComplete:H=!0,resetOnRefCountZero:X=!0}=ae;return $e=>{let le=null,pe=null,Me=null,Z=0,ne=!1,he=!1;const be=()=>{null==pe||pe.unsubscribe(),pe=null},_e=()=>{be(),le=Me=null,ne=he=!1},ze=()=>{const Oe=le;_e(),null==Oe||Oe.unsubscribe()};return(0,te.e)((Oe,lt)=>{Z++,!he&&!ne&&be();const nt=Me=null!=Me?Me:ce();lt.add(()=>{Z--,0===Z&&!he&&!ne&&(pe=ue(ze,X))}),nt.subscribe(lt),le||(le=new oe.Hp({next:wt=>nt.next(wt),error:wt=>{he=!0,be(),pe=ue(_e,$,wt),nt.error(wt)},complete:()=>{ne=!0,be(),pe=ue(_e,H),nt.complete()}}),(0,I.D)(Oe).subscribe(le))})($e)}}function ue(ae,ce,...$){return!0===ce?(ae(),null):!1===ce?null:ce(...$).pipe((0,h.q)(1)).subscribe(()=>ae())}},9468:(ut,Ie,F)=>{"use strict";F.d(Ie,{R:()=>h});var I=F(4482);function h(V,oe=0){return(0,I.e)((te,fe)=>{fe.add(V.schedule(()=>te.subscribe(fe),oe))})}},5698:(ut,Ie,F)=>{"use strict";F.d(Ie,{q:()=>oe});var I=F(515),h=F(4482),V=F(5403);function oe(te){return te<=0?()=>I.E:(0,h.e)((fe,ue)=>{let ae=0;fe.subscribe(new V.Q(ue,ce=>{++ae<=te&&(ue.next(ce),te<=ae&&ue.complete())}))})}},8505:(ut,Ie,F)=>{"use strict";F.d(Ie,{b:()=>te});var I=F(576),h=F(4482),V=F(5403),oe=F(4671);function te(fe,ue,ae){const ce=(0,I.m)(fe)||ue||ae?{next:fe,error:ue,complete:ae}:fe;return ce?(0,h.e)(($,H)=>{var X;null===(X=ce.subscribe)||void 0===X||X.call(ce);let $e=!0;$.subscribe(new V.Q(H,le=>{var pe;null===(pe=ce.next)||void 0===pe||pe.call(ce,le),H.next(le)},()=>{var le;$e=!1,null===(le=ce.complete)||void 0===le||le.call(ce),H.complete()},le=>{var pe;$e=!1,null===(pe=ce.error)||void 0===pe||pe.call(ce,le),H.error(le)},()=>{var le,pe;$e&&(null===(le=ce.unsubscribe)||void 0===le||le.call(ce)),null===(pe=ce.finalize)||void 0===pe||pe.call(ce)}))}):oe.y}},4408:(ut,Ie,F)=>{"use strict";F.d(Ie,{o:()=>te});var I=F(727);class h extends I.w0{constructor(ue,ae){super()}schedule(ue,ae=0){return this}}const V={setInterval(...fe){const{delegate:ue}=V;return((null==ue?void 0:ue.setInterval)||setInterval)(...fe)},clearInterval(fe){const{delegate:ue}=V;return((null==ue?void 0:ue.clearInterval)||clearInterval)(fe)},delegate:void 0};var oe=F(8737);class te extends h{constructor(ue,ae){super(ue,ae),this.scheduler=ue,this.work=ae,this.pending=!1}schedule(ue,ae=0){if(this.closed)return this;this.state=ue;const ce=this.id,$=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId($,ce,ae)),this.pending=!0,this.delay=ae,this.id=this.id||this.requestAsyncId($,this.id,ae),this}requestAsyncId(ue,ae,ce=0){return V.setInterval(ue.flush.bind(ue,this),ce)}recycleAsyncId(ue,ae,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return ae;V.clearInterval(ae)}execute(ue,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(ue,ae);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,ae){let $,ce=!1;try{this.work(ue)}catch(H){ce=!0,$=H||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ue,scheduler:ae}=this,{actions:ce}=ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(ce,this),null!=ue&&(this.id=this.recycleAsyncId(ae,ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(ut,Ie,F)=>{"use strict";F.d(Ie,{v:()=>V});var I=F(6063);class h{constructor(te,fe=h.now){this.schedulerActionCtor=te,this.now=fe}schedule(te,fe=0,ue){return new this.schedulerActionCtor(this,te).schedule(ue,fe)}}h.now=I.l.now;class V extends h{constructor(te,fe=h.now){super(te,fe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(te){const{actions:fe}=this;if(this._active)return void fe.push(te);let ue;this._active=!0;do{if(ue=te.execute(te.state,te.delay))break}while(te=fe.shift());if(this._active=!1,ue){for(;te=fe.shift();)te.unsubscribe();throw ue}}}},4986:(ut,Ie,F)=>{"use strict";F.d(Ie,{z:()=>V});var I=F(4408);const V=new(F(7565).v)(I.o)},6063:(ut,Ie,F)=>{"use strict";F.d(Ie,{l:()=>I});const I={now:()=>(I.delegate||Date).now(),delegate:void 0}},3410:(ut,Ie,F)=>{"use strict";F.d(Ie,{z:()=>I});const I={setTimeout(...h){const{delegate:V}=I;return((null==V?void 0:V.setTimeout)||setTimeout)(...h)},clearTimeout(h){const{delegate:V}=I;return((null==V?void 0:V.clearTimeout)||clearTimeout)(h)},delegate:void 0}},2202:(ut,Ie,F)=>{"use strict";F.d(Ie,{h:()=>h});const h=function I(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ut,Ie,F)=>{"use strict";F.d(Ie,{L:()=>I});const I="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ut,Ie,F)=>{"use strict";F.d(Ie,{_6:()=>fe,jO:()=>oe,yG:()=>te});var I=F(576);function V(ue){return ue[ue.length-1]}function oe(ue){return(0,I.m)(V(ue))?ue.pop():void 0}function te(ue){return function h(ue){return ue&&(0,I.m)(ue.schedule)}(V(ue))?ue.pop():void 0}function fe(ue,ae){return"number"==typeof V(ue)?ue.pop():ae}},8737:(ut,Ie,F)=>{"use strict";function I(h,V){if(h){const oe=h.indexOf(V);0<=oe&&h.splice(oe,1)}}F.d(Ie,{P:()=>I})},3888:(ut,Ie,F)=>{"use strict";function I(h){const oe=h(te=>{Error.call(te),te.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}F.d(Ie,{d:()=>I})},2806:(ut,Ie,F)=>{"use strict";F.d(Ie,{x:()=>V,O:()=>oe});var I=F(2416);let h=null;function V(te){if(I.v.useDeprecatedSynchronousErrorHandling){const fe=!h;if(fe&&(h={errorThrown:!1,error:null}),te(),fe){const{errorThrown:ue,error:ae}=h;if(h=null,ue)throw ae}}else te()}function oe(te){I.v.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=te)}},9672:(ut,Ie,F)=>{"use strict";function I(h,V,oe,te=0,fe=!1){const ue=V.schedule(function(){oe(),fe?h.add(this.schedule(null,te)):this.unsubscribe()},te);if(h.add(ue),!fe)return ue}F.d(Ie,{f:()=>I})},4671:(ut,Ie,F)=>{"use strict";function I(h){return h}F.d(Ie,{y:()=>I})},1144:(ut,Ie,F)=>{"use strict";F.d(Ie,{z:()=>I});const I=h=>h&&"number"==typeof h.length&&"function"!=typeof h},2206:(ut,Ie,F)=>{"use strict";F.d(Ie,{D:()=>h});var I=F(576);function h(V){return Symbol.asyncIterator&&(0,I.m)(null==V?void 0:V[Symbol.asyncIterator])}},576:(ut,Ie,F)=>{"use strict";function I(h){return"function"==typeof h}F.d(Ie,{m:()=>I})},3670:(ut,Ie,F)=>{"use strict";F.d(Ie,{c:()=>V});var I=F(8822),h=F(576);function V(oe){return(0,h.m)(oe[I.L])}},6495:(ut,Ie,F)=>{"use strict";F.d(Ie,{T:()=>V});var I=F(2202),h=F(576);function V(oe){return(0,h.m)(null==oe?void 0:oe[I.h])}},8239:(ut,Ie,F)=>{"use strict";F.d(Ie,{t:()=>h});var I=F(576);function h(V){return(0,I.m)(null==V?void 0:V.then)}},3260:(ut,Ie,F)=>{"use strict";F.d(Ie,{Q:()=>V,L:()=>oe});var I=F(5987),h=F(576);function V(te){return(0,I.FC)(this,arguments,function*(){const ue=te.getReader();try{for(;;){const{value:ae,done:ce}=yield(0,I.qq)(ue.read());if(ce)return yield(0,I.qq)(void 0);yield yield(0,I.qq)(ae)}}finally{ue.releaseLock()}})}function oe(te){return(0,h.m)(null==te?void 0:te.getReader)}},4482:(ut,Ie,F)=>{"use strict";F.d(Ie,{A:()=>h,e:()=>V});var I=F(576);function h(oe){return(0,I.m)(null==oe?void 0:oe.lift)}function V(oe){return te=>{if(h(te))return te.lift(function(fe){try{return oe(fe,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(ut,Ie,F)=>{"use strict";F.d(Ie,{h:()=>V});var I=F(2416),h=F(3410);function V(oe){h.z.setTimeout(()=>{const{onUnhandledError:te}=I.v;if(!te)throw oe;te(oe)})}},4532:(ut,Ie,F)=>{"use strict";function I(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ie,{z:()=>I})},5987:(ut,Ie,F)=>{"use strict";function ae(re,Ee,De,Re){return new(De||(De=Promise))(function(ge,ft){function Bt(_t){try{pt(Re.next(_t))}catch(Hn){ft(Hn)}}function Ir(_t){try{pt(Re.throw(_t))}catch(Hn){ft(Hn)}}function pt(_t){_t.done?ge(_t.value):function Be(ge){return ge instanceof De?ge:new De(function(ft){ft(ge)})}(_t.value).then(Bt,Ir)}pt((Re=Re.apply(re,Ee||[])).next())})}function Z(re){return this instanceof Z?(this.v=re,this):new Z(re)}function ne(re,Ee,De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,Re=De.apply(re,Ee||[]),ge=[];return Be={},ft("next"),ft("throw"),ft("return"),Be[Symbol.asyncIterator]=function(){return this},Be;function ft(Xt){Re[Xt]&&(Be[Xt]=function(cr){return new Promise(function(tn,wr){ge.push([Xt,cr,tn,wr])>1||Bt(Xt,cr)})})}function Bt(Xt,cr){try{!function Ir(Xt){Xt.value instanceof Z?Promise.resolve(Xt.value.v).then(pt,_t):Hn(ge[0][2],Xt)}(Re[Xt](cr))}catch(tn){Hn(ge[0][3],tn)}}function pt(Xt){Bt("next",Xt)}function _t(Xt){Bt("throw",Xt)}function Hn(Xt,cr){Xt(cr),ge.shift(),ge.length&&Bt(ge[0][0],ge[0][1])}}function be(re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,Ee=re[Symbol.asyncIterator];return Ee?Ee.call(re):(re=function X(re){var Ee="function"==typeof Symbol&&Symbol.iterator,De=Ee&&re[Ee],Re=0;if(De)return De.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&Re>=re.length&&(re=void 0),{value:re&&re[Re++],done:!re}}};throw new TypeError(Ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(re),De={},Re("next"),Re("throw"),Re("return"),De[Symbol.asyncIterator]=function(){return this},De);function Re(ge){De[ge]=re[ge]&&function(ft){return new Promise(function(Bt,Ir){!function Be(ge,ft,Bt,Ir){Promise.resolve(Ir).then(function(pt){ge({value:pt,done:Bt})},ft)}(Bt,Ir,(ft=re[ge](ft)).done,ft.value)})}}}F.d(Ie,{mG:()=>ae,qq:()=>Z,FC:()=>ne,KL:()=>be})},9808:(ut,Ie,F)=>{"use strict";F.r(Ie),F.d(Ie,{APP_BASE_HREF:()=>he,AsyncPipe:()=>ho,CommonModule:()=>ha,CurrencyPipe:()=>po,DATE_PIPE_DEFAULT_TIMEZONE:()=>la,DOCUMENT:()=>ue,DatePipe:()=>Un,DecimalPipe:()=>Xa,FormStyle:()=>De,FormatWidth:()=>Be,HashLocationStrategy:()=>_e,I18nPluralPipe:()=>fo,I18nSelectPipe:()=>Ya,JsonPipe:()=>ca,KeyValuePipe:()=>Ja,LOCATION_INITIALIZED:()=>$,Location:()=>ze,LocationStrategy:()=>Z,LowerCasePipe:()=>Lt,NgClass:()=>qi,NgComponentOutlet:()=>Hs,NgForOf:()=>Ht,NgForOfContext:()=>Wr,NgIf:()=>Nr,NgIfContext:()=>yn,NgLocaleLocalization:()=>Rn,NgLocalization:()=>qt,NgPlural:()=>zi,NgPluralCase:()=>Ni,NgStyle:()=>ju,NgSwitch:()=>Ii,NgSwitchCase:()=>wi,NgSwitchDefault:()=>Za,NgTemplateOutlet:()=>xd,NumberFormatStyle:()=>re,NumberSymbol:()=>ge,PathLocationStrategy:()=>be,PercentPipe:()=>ys,PlatformLocation:()=>ae,Plural:()=>Ee,SlicePipe:()=>Wi,TitleCasePipe:()=>ms,TranslationWidth:()=>Re,UpperCasePipe:()=>Qa,VERSION:()=>tu,ViewportScroller:()=>zs,WeekDay:()=>ft,XhrFactory:()=>vn,formatCurrency:()=>Or,formatDate:()=>Gi,formatNumber:()=>Rt,formatPercent:()=>Ye,getCurrencySymbol:()=>ds,getLocaleCurrencyCode:()=>cs,getLocaleCurrencyName:()=>Qt,getLocaleCurrencySymbol:()=>nn,getLocaleDateFormat:()=>tn,getLocaleDateTimeFormat:()=>yi,getLocaleDayNames:()=>pt,getLocaleDayPeriods:()=>Ir,getLocaleDirection:()=>Ei,getLocaleEraNames:()=>Hn,getLocaleExtraDayPeriodRules:()=>dr,getLocaleExtraDayPeriods:()=>ct,getLocaleFirstDayOfWeek:()=>Xt,getLocaleId:()=>Bt,getLocaleMonthNames:()=>_t,getLocaleNumberFormat:()=>vi,getLocaleNumberSymbol:()=>bn,getLocalePluralCase:()=>_i,getLocaleTimeFormat:()=>wr,getLocaleWeekEndRange:()=>cr,getNumberOfCurrencyDigits:()=>hr,isPlatformBrowser:()=>kr,isPlatformServer:()=>pa,isPlatformWorkerApp:()=>eu,isPlatformWorkerUi:()=>Fo,registerLocaleData:()=>Tt,\u0275BrowserPlatformLocation:()=>H,\u0275DomAdapter:()=>fe,\u0275NullViewportScroller:()=>ru,\u0275PLATFORM_BROWSER_ID:()=>fa,\u0275PLATFORM_SERVER_ID:()=>zn,\u0275PLATFORM_WORKER_APP_ID:()=>Pr,\u0275PLATFORM_WORKER_UI_ID:()=>go,\u0275getDOM:()=>V,\u0275parseCookieValue:()=>ui,\u0275setRootDomAdapter:()=>te});var I=F(5e3);let h=null;function V(){return h}function te(S){h||(h=S)}class fe{}const ue=new I.InjectionToken("DocumentToken");let ae=(()=>{class S{historyGo(T){throw new Error("Not implemented")}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275prov=I.\u0275\u0275defineInjectable({token:S,factory:function(){return function ce(){return(0,I.\u0275\u0275inject)(H)}()},providedIn:"platform"}),S})();const $=new I.InjectionToken("Location Initialized");let H=(()=>{class S extends ae{constructor(T){super(),this._doc=T,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(T){const k=V().getGlobalEventTarget(this._doc,"window");return k.addEventListener("popstate",T,!1),()=>k.removeEventListener("popstate",T)}onHashChange(T){const k=V().getGlobalEventTarget(this._doc,"window");return k.addEventListener("hashchange",T,!1),()=>k.removeEventListener("hashchange",T)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(T){this.location.pathname=T}pushState(T,k,z){X()?this._history.pushState(T,k,z):this.location.hash=z}replaceState(T,k,z){X()?this._history.replaceState(T,k,z):this.location.hash=z}forward(){this._history.forward()}back(){this._history.back()}historyGo(T=0){this._history.go(T)}getState(){return this._history.state}}return S.\u0275fac=function(T){return new(T||S)(I.\u0275\u0275inject(ue))},S.\u0275prov=I.\u0275\u0275defineInjectable({token:S,factory:function(){return function $e(){return new H((0,I.\u0275\u0275inject)(ue))}()},providedIn:"platform"}),S})();function X(){return!!window.history.pushState}function le(S,P){if(0==S.length)return P;if(0==P.length)return S;let T=0;return S.endsWith("/")&&T++,P.startsWith("/")&&T++,2==T?S+P.substring(1):1==T?S+P:S+"/"+P}function pe(S){const P=S.match(/#|\?|$/),T=P&&P.index||S.length;return S.slice(0,T-("/"===S[T-1]?1:0))+S.slice(T)}function Me(S){return S&&"?"!==S[0]?"?"+S:S}let Z=(()=>{class S{historyGo(T){throw new Error("Not implemented")}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275prov=I.\u0275\u0275defineInjectable({token:S,factory:function(){return function ne(S){const P=(0,I.\u0275\u0275inject)(ue).location;return new be((0,I.\u0275\u0275inject)(ae),P&&P.origin||"")}()},providedIn:"root"}),S})();const he=new I.InjectionToken("appBaseHref");let be=(()=>{class S extends Z{constructor(T,k){if(super(),this._platformLocation=T,this._removeListenerFns=[],null==k&&(k=this._platformLocation.getBaseHrefFromDOM()),null==k)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=k}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}prepareExternalUrl(T){return le(this._baseHref,T)}path(T=!1){const k=this._platformLocation.pathname+Me(this._platformLocation.search),z=this._platformLocation.hash;return z&&T?`${k}${z}`:k}pushState(T,k,z,me){const Pe=this.prepareExternalUrl(z+Me(me));this._platformLocation.pushState(T,k,Pe)}replaceState(T,k,z,me){const Pe=this.prepareExternalUrl(z+Me(me));this._platformLocation.replaceState(T,k,Pe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(T=0){var k,z;null===(z=(k=this._platformLocation).historyGo)||void 0===z||z.call(k,T)}}return S.\u0275fac=function(T){return new(T||S)(I.\u0275\u0275inject(ae),I.\u0275\u0275inject(he,8))},S.\u0275prov=I.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac}),S})(),_e=(()=>{class S extends Z{constructor(T,k){super(),this._platformLocation=T,this._baseHref="",this._removeListenerFns=[],null!=k&&(this._baseHref=k)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}path(T=!1){let k=this._platformLocation.hash;return null==k&&(k="#"),k.length>0?k.substring(1):k}prepareExternalUrl(T){const k=le(this._baseHref,T);return k.length>0?"#"+k:k}pushState(T,k,z,me){let Pe=this.prepareExternalUrl(z+Me(me));0==Pe.length&&(Pe=this._platformLocation.pathname),this._platformLocation.pushState(T,k,Pe)}replaceState(T,k,z,me){let Pe=this.prepareExternalUrl(z+Me(me));0==Pe.length&&(Pe=this._platformLocation.pathname),this._platformLocation.replaceState(T,k,Pe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(T=0){var k,z;null===(z=(k=this._platformLocation).historyGo)||void 0===z||z.call(k,T)}}return S.\u0275fac=function(T){return new(T||S)(I.\u0275\u0275inject(ae),I.\u0275\u0275inject(he,8))},S.\u0275prov=I.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac}),S})(),ze=(()=>{class S{constructor(T,k){this._subject=new I.EventEmitter,this._urlChangeListeners=[],this._platformStrategy=T;const z=this._platformStrategy.getBaseHref();this._platformLocation=k,this._baseHref=pe(nt(z)),this._platformStrategy.onPopState(me=>{this._subject.emit({url:this.path(!0),pop:!0,state:me.state,type:me.type})})}path(T=!1){return this.normalize(this._platformStrategy.path(T))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(T,k=""){return this.path()==this.normalize(T+Me(k))}normalize(T){return S.stripTrailingSlash(function lt(S,P){return S&&P.startsWith(S)?P.substring(S.length):P}(this._baseHref,nt(T)))}prepareExternalUrl(T){return T&&"/"!==T[0]&&(T="/"+T),this._platformStrategy.prepareExternalUrl(T)}go(T,k="",z=null){this._platformStrategy.pushState(z,"",T,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+Me(k)),z)}replaceState(T,k="",z=null){this._platformStrategy.replaceState(z,"",T,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+Me(k)),z)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(T=0){var k,z;null===(z=(k=this._platformStrategy).historyGo)||void 0===z||z.call(k,T)}onUrlChange(T){this._urlChangeListeners.push(T),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(k=>{this._notifyUrlChangeListeners(k.url,k.state)}))}_notifyUrlChangeListeners(T="",k){this._urlChangeListeners.forEach(z=>z(T,k))}subscribe(T,k,z){return this._subject.subscribe({next:T,error:k,complete:z})}}return S.normalizeQueryParams=Me,S.joinWithSlash=le,S.stripTrailingSlash=pe,S.\u0275fac=function(T){return new(T||S)(I.\u0275\u0275inject(Z),I.\u0275\u0275inject(ae))},S.\u0275prov=I.\u0275\u0275defineInjectable({token:S,factory:function(){return function Oe(){return new ze((0,I.\u0275\u0275inject)(Z),(0,I.\u0275\u0275inject)(ae))}()},providedIn:"root"}),S})();function nt(S){return S.replace(/\/index.html$/,"")}const wt={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var re=(()=>((re=re||{})[re.Decimal=0]="Decimal",re[re.Percent=1]="Percent",re[re.Currency=2]="Currency",re[re.Scientific=3]="Scientific",re))(),Ee=(()=>((Ee=Ee||{})[Ee.Zero=0]="Zero",Ee[Ee.One=1]="One",Ee[Ee.Two=2]="Two",Ee[Ee.Few=3]="Few",Ee[Ee.Many=4]="Many",Ee[Ee.Other=5]="Other",Ee))(),De=(()=>((De=De||{})[De.Format=0]="Format",De[De.Standalone=1]="Standalone",De))(),Re=(()=>((Re=Re||{})[Re.Narrow=0]="Narrow",Re[Re.Abbreviated=1]="Abbreviated",Re[Re.Wide=2]="Wide",Re[Re.Short=3]="Short",Re))(),Be=(()=>((Be=Be||{})[Be.Short=0]="Short",Be[Be.Medium=1]="Medium",Be[Be.Long=2]="Long",Be[Be.Full=3]="Full",Be))(),ge=(()=>((ge=ge||{})[ge.Decimal=0]="Decimal",ge[ge.Group=1]="Group",ge[ge.List=2]="List",ge[ge.PercentSign=3]="PercentSign",ge[ge.PlusSign=4]="PlusSign",ge[ge.MinusSign=5]="MinusSign",ge[ge.Exponential=6]="Exponential",ge[ge.SuperscriptingExponent=7]="SuperscriptingExponent",ge[ge.PerMille=8]="PerMille",ge[ge.Infinity=9]="Infinity",ge[ge.NaN=10]="NaN",ge[ge.TimeSeparator=11]="TimeSeparator",ge[ge.CurrencyDecimal=12]="CurrencyDecimal",ge[ge.CurrencyGroup=13]="CurrencyGroup",ge))(),ft=(()=>((ft=ft||{})[ft.Sunday=0]="Sunday",ft[ft.Monday=1]="Monday",ft[ft.Tuesday=2]="Tuesday",ft[ft.Wednesday=3]="Wednesday",ft[ft.Thursday=4]="Thursday",ft[ft.Friday=5]="Friday",ft[ft.Saturday=6]="Saturday",ft))();function Bt(S){return(0,I.\u0275findLocaleData)(S)[I.\u0275LocaleDataIndex.LocaleId]}function Ir(S,P,T){const k=(0,I.\u0275findLocaleData)(S),me=Wt([k[I.\u0275LocaleDataIndex.DayPeriodsFormat],k[I.\u0275LocaleDataIndex.DayPeriodsStandalone]],P);return Wt(me,T)}function pt(S,P,T){const k=(0,I.\u0275findLocaleData)(S),me=Wt([k[I.\u0275LocaleDataIndex.DaysFormat],k[I.\u0275LocaleDataIndex.DaysStandalone]],P);return Wt(me,T)}function _t(S,P,T){const k=(0,I.\u0275findLocaleData)(S),me=Wt([k[I.\u0275LocaleDataIndex.MonthsFormat],k[I.\u0275LocaleDataIndex.MonthsStandalone]],P);return Wt(me,T)}function Hn(S,P){return Wt((0,I.\u0275findLocaleData)(S)[I.\u0275LocaleDataIndex.Eras],P)}function Xt(S){return(0,I.\u0275findLocaleData)(S)[I.\u0275LocaleDataIndex.FirstDayOfWeek]}function cr(S){return(0,I.\u0275findLocaleData)(S)[I.\u0275LocaleDataIndex.WeekendRange]}function tn(S,P){return Wt((0,I.\u0275findLocaleData)(S)[I.\u0275LocaleDataIndex.DateFormat],P)}function wr(S,P){return Wt((0,I.\u0275findLocaleData)(S)[I.\u0275LocaleDataIndex.TimeFormat],P)}function yi(S,P){return Wt((0,I.\u0275findLocaleData)(S)[I.\u0275LocaleDataIndex.DateTimeFormat],P)}function bn(S,P){const T=(0,I.\u0275findLocaleData)(S),k=T[I.\u0275LocaleDataIndex.NumberSymbols][P];if(void 0===k){if(P===ge.CurrencyDecimal)return T[I.\u0275LocaleDataIndex.NumberSymbols][ge.Decimal];if(P===ge.CurrencyGroup)return T[I.\u0275LocaleDataIndex.NumberSymbols][ge.Group]}return k}function vi(S,P){return(0,I.\u0275findLocaleData)(S)[I.\u0275LocaleDataIndex.NumberFormats][P]}function nn(S){return(0,I.\u0275findLocaleData)(S)[I.\u0275LocaleDataIndex.CurrencySymbol]||null}function Qt(S){return(0,I.\u0275findLocaleData)(S)[I.\u0275LocaleDataIndex.CurrencyName]||null}function cs(S){return(0,I.\u0275getLocaleCurrencyCode)(S)}const _i=I.\u0275getLocalePluralCase;function Fe(S){if(!S[I.\u0275LocaleDataIndex.ExtraData])throw new Error(`Missing extra locale data for the locale "${S[I.\u0275LocaleDataIndex.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function dr(S){const P=(0,I.\u0275findLocaleData)(S);return Fe(P),(P[I.\u0275LocaleDataIndex.ExtraData][2]||[]).map(k=>"string"==typeof k?Yn(k):[Yn(k[0]),Yn(k[1])])}function ct(S,P,T){const k=(0,I.\u0275findLocaleData)(S);Fe(k);const me=Wt([k[I.\u0275LocaleDataIndex.ExtraData][0],k[I.\u0275LocaleDataIndex.ExtraData][1]],P)||[];return Wt(me,T)||[]}function Ei(S){return(0,I.\u0275findLocaleData)(S)[I.\u0275LocaleDataIndex.Directionality]}function Wt(S,P){for(let T=P;T>-1;T--)if(void 0!==S[T])return S[T];throw new Error("Locale data API: locale data undefined")}function Yn(S){const[P,T]=S.split(":");return{hours:+P,minutes:+T}}function ds(S,P,T="en"){const k=function Ar(S){return(0,I.\u0275findLocaleData)(S)[I.\u0275LocaleDataIndex.Currencies]}(T)[S]||wt[S]||[],z=k[1];return"narrow"===P&&"string"==typeof z?z:k[0]||S}function hr(S){let P;const T=wt[S];return T&&(P=T[2]),"number"==typeof P?P:2}const Cn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,on={},zr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var $t=(()=>(($t=$t||{})[$t.Short=0]="Short",$t[$t.ShortGMT=1]="ShortGMT",$t[$t.Long=2]="Long",$t[$t.Extended=3]="Extended",$t))(),gt=(()=>((gt=gt||{})[gt.FullYear=0]="FullYear",gt[gt.Month=1]="Month",gt[gt.Date=2]="Date",gt[gt.Hours=3]="Hours",gt[gt.Minutes=4]="Minutes",gt[gt.Seconds=5]="Seconds",gt[gt.FractionalSeconds=6]="FractionalSeconds",gt[gt.Day=7]="Day",gt))(),Et=(()=>((Et=Et||{})[Et.DayPeriods=0]="DayPeriods",Et[Et.Days=1]="Days",Et[Et.Months=2]="Months",Et[Et.Eras=3]="Eras",Et))();function Gi(S,P,T,k){let z=function rr(S){if(Tn(S))return S;if("number"==typeof S&&!isNaN(S))return new Date(S);if("string"==typeof S){if(S=S.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(S)){const[z,me=1,Pe=1]=S.split("-").map(We=>+We);return hs(z,me-1,Pe)}const T=parseFloat(S);if(!isNaN(S-T))return new Date(T);let k;if(k=S.match(Cn))return function xr(S){const P=new Date(0);let T=0,k=0;const z=S[8]?P.setUTCFullYear:P.setFullYear,me=S[8]?P.setUTCHours:P.setHours;S[9]&&(T=Number(S[9]+S[10]),k=Number(S[9]+S[11])),z.call(P,Number(S[1]),Number(S[2])-1,Number(S[3]));const Pe=Number(S[4]||0)-T,We=Number(S[5]||0)-k,Ot=Number(S[6]||0),zt=Math.floor(1e3*parseFloat("0."+(S[7]||0)));return me.call(P,Pe,We,Ot,zt),P}(k)}const P=new Date(S);if(!Tn(P))throw new Error(`Unable to convert "${S}" into a date`);return P}(S);P=vt(T,P)||P;let We,Pe=[];for(;P;){if(We=zr.exec(P),!We){Pe.push(P);break}{Pe=Pe.concat(We.slice(1));const hn=Pe.pop();if(!hn)break;P=hn}}let Ot=z.getTimezoneOffset();k&&(Ot=nr(k,Ot),z=function fs(S,P,T){const k=T?-1:1,z=S.getTimezoneOffset();return function Ka(S,P){return(S=new Date(S.getTime())).setMinutes(S.getMinutes()+P),S}(S,k*(nr(P,z)-z))}(z,k,!0));let zt="";return Pe.forEach(hn=>{const Mt=function gn(S){if(Ct[S])return Ct[S];let P;switch(S){case"G":case"GG":case"GGG":P=Q(Et.Eras,Re.Abbreviated);break;case"GGGG":P=Q(Et.Eras,Re.Wide);break;case"GGGGG":P=Q(Et.Eras,Re.Narrow);break;case"y":P=G(gt.FullYear,1,0,!1,!0);break;case"yy":P=G(gt.FullYear,2,0,!0,!0);break;case"yyy":P=G(gt.FullYear,3,0,!1,!0);break;case"yyyy":P=G(gt.FullYear,4,0,!1,!0);break;case"Y":P=Pt(1);break;case"YY":P=Pt(2,!0);break;case"YYY":P=Pt(3);break;case"YYYY":P=Pt(4);break;case"M":case"L":P=G(gt.Month,1,1);break;case"MM":case"LL":P=G(gt.Month,2,1);break;case"MMM":P=Q(Et.Months,Re.Abbreviated);break;case"MMMM":P=Q(Et.Months,Re.Wide);break;case"MMMMM":P=Q(Et.Months,Re.Narrow);break;case"LLL":P=Q(Et.Months,Re.Abbreviated,De.Standalone);break;case"LLLL":P=Q(Et.Months,Re.Wide,De.Standalone);break;case"LLLLL":P=Q(Et.Months,Re.Narrow,De.Standalone);break;case"w":P=dt(1);break;case"ww":P=dt(2);break;case"W":P=dt(1,!0);break;case"d":P=G(gt.Date,1);break;case"dd":P=G(gt.Date,2);break;case"c":case"cc":P=G(gt.Day,1);break;case"ccc":P=Q(Et.Days,Re.Abbreviated,De.Standalone);break;case"cccc":P=Q(Et.Days,Re.Wide,De.Standalone);break;case"ccccc":P=Q(Et.Days,Re.Narrow,De.Standalone);break;case"cccccc":P=Q(Et.Days,Re.Short,De.Standalone);break;case"E":case"EE":case"EEE":P=Q(Et.Days,Re.Abbreviated);break;case"EEEE":P=Q(Et.Days,Re.Wide);break;case"EEEEE":P=Q(Et.Days,Re.Narrow);break;case"EEEEEE":P=Q(Et.Days,Re.Short);break;case"a":case"aa":case"aaa":P=Q(Et.DayPeriods,Re.Abbreviated);break;case"aaaa":P=Q(Et.DayPeriods,Re.Wide);break;case"aaaaa":P=Q(Et.DayPeriods,Re.Narrow);break;case"b":case"bb":case"bbb":P=Q(Et.DayPeriods,Re.Abbreviated,De.Standalone,!0);break;case"bbbb":P=Q(Et.DayPeriods,Re.Wide,De.Standalone,!0);break;case"bbbbb":P=Q(Et.DayPeriods,Re.Narrow,De.Standalone,!0);break;case"B":case"BB":case"BBB":P=Q(Et.DayPeriods,Re.Abbreviated,De.Format,!0);break;case"BBBB":P=Q(Et.DayPeriods,Re.Wide,De.Format,!0);break;case"BBBBB":P=Q(Et.DayPeriods,Re.Narrow,De.Format,!0);break;case"h":P=G(gt.Hours,1,-12);break;case"hh":P=G(gt.Hours,2,-12);break;case"H":P=G(gt.Hours,1);break;case"HH":P=G(gt.Hours,2);break;case"m":P=G(gt.Minutes,1);break;case"mm":P=G(gt.Minutes,2);break;case"s":P=G(gt.Seconds,1);break;case"ss":P=G(gt.Seconds,2);break;case"S":P=G(gt.FractionalSeconds,1);break;case"SS":P=G(gt.FractionalSeconds,2);break;case"SSS":P=G(gt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":P=ie($t.Short);break;case"ZZZZZ":P=ie($t.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":P=ie($t.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":P=ie($t.Long);break;default:return null}return Ct[S]=P,P}(hn);zt+=Mt?Mt(z,T,Ot):"''"===hn?"'":hn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),zt}function hs(S,P,T){const k=new Date(0);return k.setFullYear(S,P,T),k.setHours(0,0,0),k}function vt(S,P){const T=Bt(S);if(on[T]=on[T]||{},on[T][P])return on[T][P];let k="";switch(P){case"shortDate":k=tn(S,Be.Short);break;case"mediumDate":k=tn(S,Be.Medium);break;case"longDate":k=tn(S,Be.Long);break;case"fullDate":k=tn(S,Be.Full);break;case"shortTime":k=wr(S,Be.Short);break;case"mediumTime":k=wr(S,Be.Medium);break;case"longTime":k=wr(S,Be.Long);break;case"fullTime":k=wr(S,Be.Full);break;case"short":const z=vt(S,"shortTime"),me=vt(S,"shortDate");k=En(yi(S,Be.Short),[z,me]);break;case"medium":const Pe=vt(S,"mediumTime"),We=vt(S,"mediumDate");k=En(yi(S,Be.Medium),[Pe,We]);break;case"long":const Ot=vt(S,"longTime"),zt=vt(S,"longDate");k=En(yi(S,Be.Long),[Ot,zt]);break;case"full":const hn=vt(S,"fullTime"),Mt=vt(S,"fullDate");k=En(yi(S,Be.Full),[hn,Mt])}return k&&(on[T][P]=k),k}function En(S,P){return P&&(S=S.replace(/\{([^}]+)}/g,function(T,k){return null!=P&&k in P?P[k]:T})),S}function fr(S,P,T="-",k,z){let me="";(S<0||z&&S<=0)&&(z?S=1-S:(S=-S,me=T));let Pe=String(S);for(;Pe.length<P;)Pe="0"+Pe;return k&&(Pe=Pe.substr(Pe.length-P)),me+Pe}function G(S,P,T=0,k=!1,z=!1){return function(me,Pe){let We=function W(S,P){switch(S){case gt.FullYear:return P.getFullYear();case gt.Month:return P.getMonth();case gt.Date:return P.getDate();case gt.Hours:return P.getHours();case gt.Minutes:return P.getMinutes();case gt.Seconds:return P.getSeconds();case gt.FractionalSeconds:return P.getMilliseconds();case gt.Day:return P.getDay();default:throw new Error(`Unknown DateType value "${S}".`)}}(S,me);if((T>0||We>-T)&&(We+=T),S===gt.Hours)0===We&&-12===T&&(We=12);else if(S===gt.FractionalSeconds)return function Oi(S,P){return fr(S,3).substr(0,P)}(We,P);const Ot=bn(Pe,ge.MinusSign);return fr(We,P,Ot,k,z)}}function Q(S,P,T=De.Format,k=!1){return function(z,me){return function Ae(S,P,T,k,z,me){switch(T){case Et.Months:return _t(P,z,k)[S.getMonth()];case Et.Days:return pt(P,z,k)[S.getDay()];case Et.DayPeriods:const Pe=S.getHours(),We=S.getMinutes();if(me){const zt=dr(P),hn=ct(P,z,k),Mt=zt.findIndex(Sn=>{if(Array.isArray(Sn)){const[un,rt]=Sn,Wn=Pe>=un.hours&&We>=un.minutes,Fi=Pe<rt.hours||Pe===rt.hours&&We<rt.minutes;if(un.hours<rt.hours){if(Wn&&Fi)return!0}else if(Wn||Fi)return!0}else if(Sn.hours===Pe&&Sn.minutes===We)return!0;return!1});if(-1!==Mt)return hn[Mt]}return Ir(P,z,k)[Pe<12?0:1];case Et.Eras:return Hn(P,k)[S.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${T}`)}}(z,me,S,P,T,k)}}function ie(S){return function(P,T,k){const z=-1*k,me=bn(T,ge.MinusSign),Pe=z>0?Math.floor(z/60):Math.ceil(z/60);switch(S){case $t.Short:return(z>=0?"+":"")+fr(Pe,2,me)+fr(Math.abs(z%60),2,me);case $t.ShortGMT:return"GMT"+(z>=0?"+":"")+fr(Pe,1,me);case $t.Long:return"GMT"+(z>=0?"+":"")+fr(Pe,2,me)+":"+fr(Math.abs(z%60),2,me);case $t.Extended:return 0===k?"Z":(z>=0?"+":"")+fr(Pe,2,me)+":"+fr(Math.abs(z%60),2,me);default:throw new Error(`Unknown zone width "${S}"`)}}}function Ke(S){return hs(S.getFullYear(),S.getMonth(),S.getDate()+(4-S.getDay()))}function dt(S,P=!1){return function(T,k){let z;if(P){const me=new Date(T.getFullYear(),T.getMonth(),1).getDay()-1,Pe=T.getDate();z=1+Math.floor((Pe+me)/7)}else{const me=Ke(T),Pe=function Te(S){const P=hs(S,0,1).getDay();return hs(S,0,1+(P<=4?4:11)-P)}(me.getFullYear()),We=me.getTime()-Pe.getTime();z=1+Math.round(We/6048e5)}return fr(z,S,bn(k,ge.MinusSign))}}function Pt(S,P=!1){return function(T,k){return fr(Ke(T).getFullYear(),S,bn(k,ge.MinusSign),P)}}const Ct={};function nr(S,P){S=S.replace(/:/g,"");const T=Date.parse("Jan 01, 1970 00:00:00 "+S)/6e4;return isNaN(T)?P:T}function Tn(S){return S instanceof Date&&!isNaN(S.valueOf())}const kt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function bt(S,P,T,k,z,me,Pe=!1){let We="",Ot=!1;if(isFinite(S)){let zt=function Jn(S){let k,z,me,Pe,We,P=Math.abs(S)+"",T=0;for((z=P.indexOf("."))>-1&&(P=P.replace(".","")),(me=P.search(/e/i))>0?(z<0&&(z=me),z+=+P.slice(me+1),P=P.substring(0,me)):z<0&&(z=P.length),me=0;"0"===P.charAt(me);me++);if(me===(We=P.length))k=[0],z=1;else{for(We--;"0"===P.charAt(We);)We--;for(z-=me,k=[],Pe=0;me<=We;me++,Pe++)k[Pe]=Number(P.charAt(me))}return z>22&&(k=k.splice(0,21),T=z-1,z=1),{digits:k,exponent:T,integerLen:z}}(S);Pe&&(zt=function Vn(S){if(0===S.digits[0])return S;const P=S.digits.length-S.integerLen;return S.exponent?S.exponent+=2:(0===P?S.digits.push(0,0):1===P&&S.digits.push(0),S.integerLen+=2),S}(zt));let hn=P.minInt,Mt=P.minFrac,Sn=P.maxFrac;if(me){const Qi=me.match(kt);if(null===Qi)throw new Error(`${me} is not a valid digit info`);const Yi=Qi[1],Ws=Qi[3],vs=Qi[5];null!=Yi&&(hn=pr(Yi)),null!=Ws&&(Mt=pr(Ws)),null!=vs?Sn=pr(vs):null!=Ws&&Mt>Sn&&(Sn=Mt)}!function mn(S,P,T){if(P>T)throw new Error(`The minimum number of digits after fraction (${P}) is higher than the maximum (${T}).`);let k=S.digits,z=k.length-S.integerLen;const me=Math.min(Math.max(P,z),T);let Pe=me+S.integerLen,We=k[Pe];if(Pe>0){k.splice(Math.max(S.integerLen,Pe));for(let Mt=Pe;Mt<k.length;Mt++)k[Mt]=0}else{z=Math.max(0,z),S.integerLen=1,k.length=Math.max(1,Pe=me+1),k[0]=0;for(let Mt=1;Mt<Pe;Mt++)k[Mt]=0}if(We>=5)if(Pe-1<0){for(let Mt=0;Mt>Pe;Mt--)k.unshift(0),S.integerLen++;k.unshift(1),S.integerLen++}else k[Pe-1]++;for(;z<Math.max(0,me);z++)k.push(0);let Ot=0!==me;const zt=P+S.integerLen,hn=k.reduceRight(function(Mt,Sn,un,rt){return rt[un]=(Sn+=Mt)<10?Sn:Sn-10,Ot&&(0===rt[un]&&un>=zt?rt.pop():Ot=!1),Sn>=10?1:0},0);hn&&(k.unshift(hn),S.integerLen++)}(zt,Mt,Sn);let un=zt.digits,rt=zt.integerLen;const Wn=zt.exponent;let Fi=[];for(Ot=un.every(Qi=>!Qi);rt<hn;rt++)un.unshift(0);for(;rt<0;rt++)un.unshift(0);rt>0?Fi=un.splice(rt,un.length):(Fi=un,un=[0]);const mo=[];for(un.length>=P.lgSize&&mo.unshift(un.splice(-P.lgSize,un.length).join(""));un.length>P.gSize;)mo.unshift(un.splice(-P.gSize,un.length).join(""));un.length&&mo.unshift(un.join("")),We=mo.join(bn(T,k)),Fi.length&&(We+=bn(T,z)+Fi.join("")),Wn&&(We+=bn(T,ge.Exponential)+"+"+Wn)}else We=bn(T,ge.Infinity);return We=S<0&&!Ot?P.negPre+We+P.negSuf:P.posPre+We+P.posSuf,We}function Or(S,P,T,k,z){const Pe=Yt(vi(P,re.Currency),bn(P,ge.MinusSign));return Pe.minFrac=hr(k),Pe.maxFrac=Pe.minFrac,bt(S,Pe,P,ge.CurrencyGroup,ge.CurrencyDecimal,z).replace("\xa4",T).replace("\xa4","").trim()}function Ye(S,P,T){return bt(S,Yt(vi(P,re.Percent),bn(P,ge.MinusSign)),P,ge.Group,ge.Decimal,T,!0).replace(new RegExp("%","g"),bn(P,ge.PercentSign))}function Rt(S,P,T){return bt(S,Yt(vi(P,re.Decimal),bn(P,ge.MinusSign)),P,ge.Group,ge.Decimal,T)}function Yt(S,P="-"){const T={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},k=S.split(";"),z=k[0],me=k[1],Pe=-1!==z.indexOf(".")?z.split("."):[z.substring(0,z.lastIndexOf("0")+1),z.substring(z.lastIndexOf("0")+1)],We=Pe[0],Ot=Pe[1]||"";T.posPre=We.substr(0,We.indexOf("#"));for(let hn=0;hn<Ot.length;hn++){const Mt=Ot.charAt(hn);"0"===Mt?T.minFrac=T.maxFrac=hn+1:"#"===Mt?T.maxFrac=hn+1:T.posSuf+=Mt}const zt=We.split(",");if(T.gSize=zt[1]?zt[1].length:0,T.lgSize=zt[2]||zt[1]?(zt[2]||zt[1]).length:0,me){const hn=z.length-T.posPre.length-T.posSuf.length,Mt=me.indexOf("#");T.negPre=me.substr(0,Mt).replace(/'/g,""),T.negSuf=me.substr(Mt+hn).replace(/'/g,"")}else T.negPre=P+T.posPre,T.negSuf=T.posSuf;return T}function pr(S){const P=parseInt(S);if(isNaN(P))throw new Error("Invalid integer literal when parsing "+S);return P}class qt{}function ai(S,P,T,k){let z=`=${S}`;if(P.indexOf(z)>-1||(z=T.getPluralCategory(S,k),P.indexOf(z)>-1))return z;if(P.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${S}"`)}let Rn=(()=>{class S extends qt{constructor(T){super(),this.locale=T}getPluralCategory(T,k){switch(_i(k||this.locale)(T)){case Ee.Zero:return"zero";case Ee.One:return"one";case Ee.Two:return"two";case Ee.Few:return"few";case Ee.Many:return"many";default:return"other"}}}return S.\u0275fac=function(T){return new(T||S)(I.\u0275\u0275inject(I.LOCALE_ID))},S.\u0275prov=I.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac}),S})();function Tt(S,P,T){return(0,I.\u0275registerLocaleData)(S,P,T)}function ui(S,P){P=encodeURIComponent(P);for(const T of S.split(";")){const k=T.indexOf("="),[z,me]=-1==k?[T,""]:[T.slice(0,k),T.slice(k+1)];if(z.trim()===P)return decodeURIComponent(me)}return null}let qi=(()=>{class S{constructor(T,k,z,me){this._iterableDiffers=T,this._keyValueDiffers=k,this._ngEl=z,this._renderer=me,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(T){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof T?T.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(T){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof T?T.split(/\s+/):T,this._rawClass&&((0,I.\u0275isListLikeIterable)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const T=this._iterableDiffer.diff(this._rawClass);T&&this._applyIterableChanges(T)}else if(this._keyValueDiffer){const T=this._keyValueDiffer.diff(this._rawClass);T&&this._applyKeyValueChanges(T)}}_applyKeyValueChanges(T){T.forEachAddedItem(k=>this._toggleClass(k.key,k.currentValue)),T.forEachChangedItem(k=>this._toggleClass(k.key,k.currentValue)),T.forEachRemovedItem(k=>{k.previousValue&&this._toggleClass(k.key,!1)})}_applyIterableChanges(T){T.forEachAddedItem(k=>{if("string"!=typeof k.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,I.\u0275stringify)(k.item)}`);this._toggleClass(k.item,!0)}),T.forEachRemovedItem(k=>this._toggleClass(k.item,!1))}_applyClasses(T){T&&(Array.isArray(T)||T instanceof Set?T.forEach(k=>this._toggleClass(k,!0)):Object.keys(T).forEach(k=>this._toggleClass(k,!!T[k])))}_removeClasses(T){T&&(Array.isArray(T)||T instanceof Set?T.forEach(k=>this._toggleClass(k,!1)):Object.keys(T).forEach(k=>this._toggleClass(k,!1)))}_toggleClass(T,k){(T=T.trim())&&T.split(/\s+/g).forEach(z=>{k?this._renderer.addClass(this._ngEl.nativeElement,z):this._renderer.removeClass(this._ngEl.nativeElement,z)})}}return S.\u0275fac=function(T){return new(T||S)(I.\u0275\u0275directiveInject(I.IterableDiffers),I.\u0275\u0275directiveInject(I.KeyValueDiffers),I.\u0275\u0275directiveInject(I.ElementRef),I.\u0275\u0275directiveInject(I.Renderer2))},S.\u0275dir=I.\u0275\u0275defineDirective({type:S,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),S})(),Hs=(()=>{class S{constructor(T){this._viewContainerRef=T,this._componentRef=null,this._moduleRef=null}ngOnChanges(T){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const k=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(T.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const Pe=k.get(I.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(Pe.injector)}else this._moduleRef=null;const me=(this._moduleRef?this._moduleRef.componentFactoryResolver:k.get(I.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(me,this._viewContainerRef.length,k,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return S.\u0275fac=function(T){return new(T||S)(I.\u0275\u0275directiveInject(I.ViewContainerRef))},S.\u0275dir=I.\u0275\u0275defineDirective({type:S,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[I.\u0275\u0275NgOnChangesFeature]}),S})();class Wr{constructor(P,T,k,z){this.$implicit=P,this.ngForOf=T,this.index=k,this.count=z}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ht=(()=>{class S{constructor(T,k,z){this._viewContainer=T,this._template=k,this._differs=z,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(T){this._ngForOf=T,this._ngForOfDirty=!0}set ngForTrackBy(T){this._trackByFn=T}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(T){T&&(this._template=T)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const T=this._ngForOf;!this._differ&&T&&(this._differ=this._differs.find(T).create(this.ngForTrackBy))}if(this._differ){const T=this._differ.diff(this._ngForOf);T&&this._applyChanges(T)}}_applyChanges(T){const k=this._viewContainer;T.forEachOperation((z,me,Pe)=>{if(null==z.previousIndex)k.createEmbeddedView(this._template,new Wr(z.item,this._ngForOf,-1,-1),null===Pe?void 0:Pe);else if(null==Pe)k.remove(null===me?void 0:me);else if(null!==me){const We=k.get(me);k.move(We,Pe),Gs(We,z)}});for(let z=0,me=k.length;z<me;z++){const We=k.get(z).context;We.index=z,We.count=me,We.ngForOf=this._ngForOf}T.forEachIdentityChange(z=>{Gs(k.get(z.currentIndex),z)})}static ngTemplateContextGuard(T,k){return!0}}return S.\u0275fac=function(T){return new(T||S)(I.\u0275\u0275directiveInject(I.ViewContainerRef),I.\u0275\u0275directiveInject(I.TemplateRef),I.\u0275\u0275directiveInject(I.IterableDiffers))},S.\u0275dir=I.\u0275\u0275defineDirective({type:S,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),S})();function Gs(S,P){S.context.$implicit=P.item}let Nr=(()=>{class S{constructor(T,k){this._viewContainer=T,this._context=new yn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=k}set ngIf(T){this._context.$implicit=this._context.ngIf=T,this._updateView()}set ngIfThen(T){Uu("ngIfThen",T),this._thenTemplateRef=T,this._thenViewRef=null,this._updateView()}set ngIfElse(T){Uu("ngIfElse",T),this._elseTemplateRef=T,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(T,k){return!0}}return S.\u0275fac=function(T){return new(T||S)(I.\u0275\u0275directiveInject(I.ViewContainerRef),I.\u0275\u0275directiveInject(I.TemplateRef))},S.\u0275dir=I.\u0275\u0275defineDirective({type:S,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),S})();class yn{constructor(){this.$implicit=null,this.ngIf=null}}function Uu(S,P){if(P&&!P.createEmbeddedView)throw new Error(`${S} must be a TemplateRef, but received '${(0,I.\u0275stringify)(P)}'.`)}class gs{constructor(P,T){this._viewContainerRef=P,this._templateRef=T,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(P){P&&!this._created?this.create():!P&&this._created&&this.destroy()}}let Ii=(()=>{class S{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(T){this._ngSwitch=T,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(T){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(T)}_matchCase(T){const k=T==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||k,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),k}_updateDefaultCases(T){if(this._defaultViews&&T!==this._defaultUsed){this._defaultUsed=T;for(let k=0;k<this._defaultViews.length;k++)this._defaultViews[k].enforceState(T)}}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275dir=I.\u0275\u0275defineDirective({type:S,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),S})(),wi=(()=>{class S{constructor(T,k,z){this.ngSwitch=z,z._addCase(),this._view=new gs(T,k)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return S.\u0275fac=function(T){return new(T||S)(I.\u0275\u0275directiveInject(I.ViewContainerRef),I.\u0275\u0275directiveInject(I.TemplateRef),I.\u0275\u0275directiveInject(Ii,9))},S.\u0275dir=I.\u0275\u0275defineDirective({type:S,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),S})(),Za=(()=>{class S{constructor(T,k,z){z._addDefault(new gs(T,k))}}return S.\u0275fac=function(T){return new(T||S)(I.\u0275\u0275directiveInject(I.ViewContainerRef),I.\u0275\u0275directiveInject(I.TemplateRef),I.\u0275\u0275directiveInject(Ii,9))},S.\u0275dir=I.\u0275\u0275defineDirective({type:S,selectors:[["","ngSwitchDefault",""]]}),S})(),zi=(()=>{class S{constructor(T){this._localization=T,this._caseViews={}}set ngPlural(T){this._switchValue=T,this._updateView()}addCase(T,k){this._caseViews[T]=k}_updateView(){this._clearViews();const T=Object.keys(this._caseViews),k=ai(this._switchValue,T,this._localization);this._activateView(this._caseViews[k])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(T){T&&(this._activeView=T,this._activeView.create())}}return S.\u0275fac=function(T){return new(T||S)(I.\u0275\u0275directiveInject(qt))},S.\u0275dir=I.\u0275\u0275defineDirective({type:S,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),S})(),Ni=(()=>{class S{constructor(T,k,z,me){this.value=T;const Pe=!isNaN(Number(T));me.addCase(Pe?`=${T}`:T,new gs(z,k))}}return S.\u0275fac=function(T){return new(T||S)(I.\u0275\u0275injectAttribute("ngPluralCase"),I.\u0275\u0275directiveInject(I.TemplateRef),I.\u0275\u0275directiveInject(I.ViewContainerRef),I.\u0275\u0275directiveInject(zi,1))},S.\u0275dir=I.\u0275\u0275defineDirective({type:S,selectors:[["","ngPluralCase",""]]}),S})(),ju=(()=>{class S{constructor(T,k,z){this._ngEl=T,this._differs=k,this._renderer=z,this._ngStyle=null,this._differ=null}set ngStyle(T){this._ngStyle=T,!this._differ&&T&&(this._differ=this._differs.find(T).create())}ngDoCheck(){if(this._differ){const T=this._differ.diff(this._ngStyle);T&&this._applyChanges(T)}}_setStyle(T,k){const[z,me]=T.split(".");null!=(k=null!=k&&me?`${k}${me}`:k)?this._renderer.setStyle(this._ngEl.nativeElement,z,k):this._renderer.removeStyle(this._ngEl.nativeElement,z)}_applyChanges(T){T.forEachRemovedItem(k=>this._setStyle(k.key,null)),T.forEachAddedItem(k=>this._setStyle(k.key,k.currentValue)),T.forEachChangedItem(k=>this._setStyle(k.key,k.currentValue))}}return S.\u0275fac=function(T){return new(T||S)(I.\u0275\u0275directiveInject(I.ElementRef),I.\u0275\u0275directiveInject(I.KeyValueDiffers),I.\u0275\u0275directiveInject(I.Renderer2))},S.\u0275dir=I.\u0275\u0275defineDirective({type:S,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),S})(),xd=(()=>{class S{constructor(T){this._viewContainerRef=T,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(T){if(T.ngTemplateOutlet){const k=this._viewContainerRef;this._viewRef&&k.remove(k.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?k.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&T.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return S.\u0275fac=function(T){return new(T||S)(I.\u0275\u0275directiveInject(I.ViewContainerRef))},S.\u0275dir=I.\u0275\u0275defineDirective({type:S,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[I.\u0275\u0275NgOnChangesFeature]}),S})();function Pi(S,P){return new I.\u0275RuntimeError(2100,"")}class ua{createSubscription(P,T){return P.subscribe({next:T,error:k=>{throw k}})}dispose(P){P.unsubscribe()}onDestroy(P){P.unsubscribe()}}class Od{createSubscription(P,T){return P.then(T,k=>{throw k})}dispose(P){}onDestroy(P){}}const we=new Od,qs=new ua;let ho=(()=>{class S{constructor(T){this._ref=T,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(T){return this._obj?T!==this._obj?(this._dispose(),this.transform(T)):this._latestValue:(T&&this._subscribe(T),this._latestValue)}_subscribe(T){this._obj=T,this._strategy=this._selectStrategy(T),this._subscription=this._strategy.createSubscription(T,k=>this._updateLatestValue(T,k))}_selectStrategy(T){if((0,I.\u0275isPromise)(T))return we;if((0,I.\u0275isSubscribable)(T))return qs;throw Pi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(T,k){T===this._obj&&(this._latestValue=k,this._ref.markForCheck())}}return S.\u0275fac=function(T){return new(T||S)(I.\u0275\u0275directiveInject(I.ChangeDetectorRef,16))},S.\u0275pipe=I.\u0275\u0275definePipe({name:"async",type:S,pure:!1}),S})(),Lt=(()=>{class S{transform(T){if(null==T)return null;if("string"!=typeof T)throw Pi();return T.toLowerCase()}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275pipe=I.\u0275\u0275definePipe({name:"lowercase",type:S,pure:!0}),S})();const li=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let ms=(()=>{class S{transform(T){if(null==T)return null;if("string"!=typeof T)throw Pi();return T.replace(li,k=>k[0].toUpperCase()+k.substr(1).toLowerCase())}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275pipe=I.\u0275\u0275definePipe({name:"titlecase",type:S,pure:!0}),S})(),Qa=(()=>{class S{transform(T){if(null==T)return null;if("string"!=typeof T)throw Pi();return T.toUpperCase()}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275pipe=I.\u0275\u0275definePipe({name:"uppercase",type:S,pure:!0}),S})();const la=new I.InjectionToken("DATE_PIPE_DEFAULT_TIMEZONE");let Un=(()=>{class S{constructor(T,k){this.locale=T,this.defaultTimezone=k}transform(T,k="mediumDate",z,me){var Pe;if(null==T||""===T||T!=T)return null;try{return Gi(T,k,me||this.locale,null!==(Pe=null!=z?z:this.defaultTimezone)&&void 0!==Pe?Pe:void 0)}catch(We){throw Pi()}}}return S.\u0275fac=function(T){return new(T||S)(I.\u0275\u0275directiveInject(I.LOCALE_ID,16),I.\u0275\u0275directiveInject(la,24))},S.\u0275pipe=I.\u0275\u0275definePipe({name:"date",type:S,pure:!0}),S})();const ki=/#/g;let fo=(()=>{class S{constructor(T){this._localization=T}transform(T,k,z){if(null==T)return"";if("object"!=typeof k||null===k)throw Pi();return k[ai(T,Object.keys(k),this._localization,z)].replace(ki,T.toString())}}return S.\u0275fac=function(T){return new(T||S)(I.\u0275\u0275directiveInject(qt,16))},S.\u0275pipe=I.\u0275\u0275definePipe({name:"i18nPlural",type:S,pure:!0}),S})(),Ya=(()=>{class S{transform(T,k){if(null==T)return"";if("object"!=typeof k||"string"!=typeof T)throw Pi();return k.hasOwnProperty(T)?k[T]:k.hasOwnProperty("other")?k.other:""}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275pipe=I.\u0275\u0275definePipe({name:"i18nSelect",type:S,pure:!0}),S})(),ca=(()=>{class S{transform(T){return JSON.stringify(T,null,2)}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275pipe=I.\u0275\u0275definePipe({name:"json",type:S,pure:!1}),S})(),Ja=(()=>{class S{constructor(T){this.differs=T,this.keyValues=[],this.compareFn=da}transform(T,k=da){if(!T||!(T instanceof Map)&&"object"!=typeof T)return null;this.differ||(this.differ=this.differs.find(T).create());const z=this.differ.diff(T),me=k!==this.compareFn;return z&&(this.keyValues=[],z.forEachItem(Pe=>{this.keyValues.push(function Po(S,P){return{key:S,value:P}}(Pe.key,Pe.currentValue))})),(z||me)&&(this.keyValues.sort(k),this.compareFn=k),this.keyValues}}return S.\u0275fac=function(T){return new(T||S)(I.\u0275\u0275directiveInject(I.KeyValueDiffers,16))},S.\u0275pipe=I.\u0275\u0275definePipe({name:"keyvalue",type:S,pure:!1}),S})();function da(S,P){const T=S.key,k=P.key;if(T===k)return 0;if(void 0===T)return 1;if(void 0===k)return-1;if(null===T)return 1;if(null===k)return-1;if("string"==typeof T&&"string"==typeof k)return T<k?-1:1;if("number"==typeof T&&"number"==typeof k)return T-k;if("boolean"==typeof T&&"boolean"==typeof k)return T<k?-1:1;const z=String(T),me=String(k);return z==me?0:z<me?-1:1}let Xa=(()=>{class S{constructor(T){this._locale=T}transform(T,k,z){if(!ko(T))return null;z=z||this._locale;try{return Rt(On(T),z,k)}catch(me){throw Pi()}}}return S.\u0275fac=function(T){return new(T||S)(I.\u0275\u0275directiveInject(I.LOCALE_ID,16))},S.\u0275pipe=I.\u0275\u0275definePipe({name:"number",type:S,pure:!0}),S})(),ys=(()=>{class S{constructor(T){this._locale=T}transform(T,k,z){if(!ko(T))return null;z=z||this._locale;try{return Ye(On(T),z,k)}catch(me){throw Pi()}}}return S.\u0275fac=function(T){return new(T||S)(I.\u0275\u0275directiveInject(I.LOCALE_ID,16))},S.\u0275pipe=I.\u0275\u0275definePipe({name:"percent",type:S,pure:!0}),S})(),po=(()=>{class S{constructor(T,k="USD"){this._locale=T,this._defaultCurrencyCode=k}transform(T,k=this._defaultCurrencyCode,z="symbol",me,Pe){if(!ko(T))return null;Pe=Pe||this._locale,"boolean"==typeof z&&(z=z?"symbol":"code");let We=k||this._defaultCurrencyCode;"code"!==z&&(We="symbol"===z||"symbol-narrow"===z?ds(We,"symbol"===z?"wide":"narrow",Pe):z);try{return Or(On(T),Pe,We,k,me)}catch(Ot){throw Pi()}}}return S.\u0275fac=function(T){return new(T||S)(I.\u0275\u0275directiveInject(I.LOCALE_ID,16),I.\u0275\u0275directiveInject(I.DEFAULT_CURRENCY_CODE,16))},S.\u0275pipe=I.\u0275\u0275definePipe({name:"currency",type:S,pure:!0}),S})();function ko(S){return!(null==S||""===S||S!=S)}function On(S){if("string"==typeof S&&!isNaN(Number(S)-parseFloat(S)))return Number(S);if("number"!=typeof S)throw new Error(`${S} is not a number`);return S}let Wi=(()=>{class S{transform(T,k,z){if(null==T)return null;if(!this.supports(T))throw Pi();return T.slice(k,z)}supports(T){return"string"==typeof T||Array.isArray(T)}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275pipe=I.\u0275\u0275definePipe({name:"slice",type:S,pure:!1}),S})(),ha=(()=>{class S{}return S.\u0275fac=function(T){return new(T||S)},S.\u0275mod=I.\u0275\u0275defineNgModule({type:S}),S.\u0275inj=I.\u0275\u0275defineInjector({providers:[{provide:qt,useClass:Rn}]}),S})();const fa="browser",zn="server",Pr="browserWorkerApp",go="browserWorkerUi";function kr(S){return S===fa}function pa(S){return S===zn}function eu(S){return S===Pr}function Fo(S){return S===go}const tu=new I.Version("13.1.3");let zs=(()=>{class S{}return S.\u0275prov=(0,I.\u0275\u0275defineInjectable)({token:S,providedIn:"root",factory:()=>new nu((0,I.\u0275\u0275inject)(ue),window)}),S})();class nu{constructor(P,T){this.document=P,this.window=T,this.offset=()=>[0,0]}setOffset(P){this.offset=Array.isArray(P)?()=>P:P}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(P){this.supportsScrolling()&&this.window.scrollTo(P[0],P[1])}scrollToAnchor(P){if(!this.supportsScrolling())return;const T=function Zi(S,P){const T=S.getElementById(P)||S.getElementsByName(P)[0];if(T)return T;if("function"==typeof S.createTreeWalker&&S.body&&(S.body.createShadowRoot||S.body.attachShadow)){const k=S.createTreeWalker(S.body,NodeFilter.SHOW_ELEMENT);let z=k.currentNode;for(;z;){const me=z.shadowRoot;if(me){const Pe=me.getElementById(P)||me.querySelector(`[name="${P}"]`);if(Pe)return Pe}z=k.nextNode()}}return null}(this.document,P);T&&(this.scrollToElement(T),this.attemptFocus(T))}setHistoryScrollRestoration(P){if(this.supportScrollRestoration()){const T=this.window.history;T&&T.scrollRestoration&&(T.scrollRestoration=P)}}scrollToElement(P){const T=P.getBoundingClientRect(),k=T.left+this.window.pageXOffset,z=T.top+this.window.pageYOffset,me=this.offset();this.window.scrollTo(k-me[0],z-me[1])}attemptFocus(P){return P.focus(),this.document.activeElement===P}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const P=Zt(this.window.history)||Zt(Object.getPrototypeOf(this.window.history));return!(!P||!P.writable&&!P.set)}catch(P){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(P){return!1}}}function Zt(S){return Object.getOwnPropertyDescriptor(S,"scrollRestoration")}class ru{setOffset(P){}getScrollPosition(){return[0,0]}scrollToPosition(P){}scrollToAnchor(P){}setHistoryScrollRestoration(P){}}class vn{}},5e3:(ut,Ie,F)=>{"use strict";F.r(Ie),F.d(Ie,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>fu,APP_BOOTSTRAP_LISTENER:()=>py,APP_ID:()=>kw,APP_INITIALIZER:()=>RE,ApplicationInitStatus:()=>Kh,ApplicationModule:()=>s0,ApplicationRef:()=>wd,Attribute:()=>Bd,COMPILER_OPTIONS:()=>my,CUSTOM_ELEMENTS_SCHEMA:()=>Ti,ChangeDetectionStrategy:()=>Cn,ChangeDetectorRef:()=>Cd,Compiler:()=>Zh,CompilerFactory:()=>Uw,Component:()=>Ow,ComponentFactory:()=>Km,ComponentFactoryResolver:()=>Fp,ComponentRef:()=>nE,ContentChild:()=>hc,ContentChildren:()=>dc,DEFAULT_CURRENCY_CODE:()=>zp,DebugElement:()=>by,DebugEventListener:()=>ob,DebugNode:()=>Kp,DefaultIterableDiffer:()=>Sy,Directive:()=>cy,ElementRef:()=>$a,EmbeddedViewRef:()=>Jw,ErrorHandler:()=>Rc,EventEmitter:()=>kn,Host:()=>Co,HostBinding:()=>xE,HostListener:()=>Gp,INJECTOR:()=>Jg,Inject:()=>Zn,InjectFlags:()=>ct,Injectable:()=>n_,InjectionToken:()=>In,Injector:()=>io,Input:()=>Nw,IterableDiffers:()=>Yl,KeyValueDiffers:()=>Ay,LOCALE_ID:()=>Ed,MissingTranslationStrategy:()=>ar,ModuleWithComponentFactories:()=>PE,NO_ERRORS_SCHEMA:()=>Mg,NgModule:()=>dy,NgModuleFactory:()=>Xm,NgModuleRef:()=>Ha,NgProbeToken:()=>_y,NgZone:()=>oi,Optional:()=>_n,Output:()=>Pw,PACKAGE_ROOT_URL:()=>XD,PLATFORM_ID:()=>Lw,PLATFORM_INITIALIZER:()=>OE,Pipe:()=>YD,PlatformRef:()=>Qh,Query:()=>zo,QueryList:()=>Vp,ReflectiveInjector:()=>Mu,ReflectiveKey:()=>Au,Renderer2:()=>rw,RendererFactory2:()=>Vl,RendererStyleFlags2:()=>So,ResolvedReflectiveFactory:()=>o_,Sanitizer:()=>iE,SecurityContext:()=>Dn,Self:()=>Di,SimpleChange:()=>po,SkipSelf:()=>ns,TRANSLATIONS:()=>gy,TRANSLATIONS_FORMAT:()=>Vw,TemplateRef:()=>Pu,Testability:()=>Hw,TestabilityRegistry:()=>FE,Type:()=>nl,VERSION:()=>sw,Version:()=>jh,ViewChild:()=>el,ViewChildren:()=>cf,ViewContainerRef:()=>Up,ViewEncapsulation:()=>$t,ViewRef:()=>Wp,asNativeElements:()=>HE,assertPlatform:()=>Ey,createNgModuleRef:()=>ey,createPlatform:()=>qw,createPlatformFactory:()=>VE,defineInjectable:()=>wr,destroyPlatform:()=>UE,enableProdMode:()=>Zw,forwardRef:()=>H,getDebugNode:()=>Dy,getModuleFactory:()=>ib,getNgModuleById:()=>Qw,getPlatform:()=>Id,inject:()=>Ve,isDevMode:()=>rb,platformCore:()=>t0,resolveForwardRef:()=>X,setTestabilityGetter:()=>vy,\u0275ALLOW_MULTIPLE_PLATFORMS:()=>za,\u0275APP_ID_RANDOM_PROVIDER:()=>fy,\u0275ChangeDetectorStatus:()=>on,\u0275ComponentFactory:()=>Km,\u0275Console:()=>NE,\u0275DEFAULT_LOCALE_ID:()=>mr,\u0275INJECTOR_SCOPE:()=>Pv,\u0275LifecycleHooksFeature:()=>$c,\u0275LocaleDataIndex:()=>St,\u0275NG_COMP_DEF:()=>W,\u0275NG_DIR_DEF:()=>Q,\u0275NG_ELEMENT_ID:()=>xe,\u0275NG_INJ_DEF:()=>_i,\u0275NG_MOD_DEF:()=>ie,\u0275NG_PIPE_DEF:()=>Ae,\u0275NG_PROV_DEF:()=>Ar,\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>Qm,\u0275NO_CHANGE:()=>xt,\u0275NgModuleFactory:()=>Pn,\u0275NoopNgZone:()=>$w,\u0275ReflectionCapabilities:()=>Io,\u0275Render3ComponentFactory:()=>Ul,\u0275Render3ComponentRef:()=>sE,\u0275Render3NgModuleRef:()=>ni,\u0275RuntimeError:()=>pe,\u0275ViewRef:()=>Ou,\u0275_sanitizeHtml:()=>bf,\u0275_sanitizeUrl:()=>Pa,\u0275allowSanitizationBypassAndThrow:()=>Jo,\u0275bypassSanitizationTrustHtml:()=>yg,\u0275bypassSanitizationTrustResourceUrl:()=>$y,\u0275bypassSanitizationTrustScript:()=>By,\u0275bypassSanitizationTrustStyle:()=>yf,\u0275bypassSanitizationTrustUrl:()=>Cc,\u0275clearResolutionOfComponentResourcesQueue:()=>vc,\u0275compileComponent:()=>$l,\u0275compileDirective:()=>$p,\u0275compileNgModule:()=>js,\u0275compileNgModuleDefs:()=>ao,\u0275compileNgModuleFactory:()=>Gw,\u0275compilePipe:()=>ME,\u0275createInjector:()=>Fv,\u0275defaultIterableDiffers:()=>aC,\u0275defaultKeyValueDiffers:()=>uC,\u0275detectChanges:()=>Nv,\u0275devModeEqual:()=>hI,\u0275findLocaleData:()=>gr,\u0275flushModuleScopingQueueAsMuchAsPossible:()=>vd,\u0275getDebugNode:()=>Dy,\u0275getDebugNodeR2:()=>eC,\u0275getDirectives:()=>sI,\u0275getHostElement:()=>tm,\u0275getInjectableDef:()=>bn,\u0275getLContext:()=>bi,\u0275getLocaleCurrencyCode:()=>Sp,\u0275getLocalePluralCase:()=>Rm,\u0275getSanitizationBypassType:()=>mg,\u0275global:()=>vt,\u0275injectChangeDetectorRef:()=>Dd,\u0275isBoundToModule:()=>LE,\u0275isDefaultChangeDetectionStrategy:()=>zr,\u0275isListLikeIterable:()=>ep,\u0275isObservable:()=>ed,\u0275isPromise:()=>l_,\u0275isSubscribable:()=>Em,\u0275ivyEnabled:()=>o0,\u0275makeDecorator:()=>Ho,\u0275markDirty:()=>tI,\u0275noSideEffects:()=>hr,\u0275patchComponentDefWithScope:()=>zh,\u0275publishDefaultGlobalUtils:()=>zv,\u0275publishGlobalUtil:()=>so,\u0275registerLocaleData:()=>qe,\u0275registerNgModuleType:()=>aE,\u0275renderComponent:()=>aI,\u0275resetCompiledComponents:()=>Sw,\u0275resetJitOptions:()=>xi,\u0275resolveComponentResources:()=>ll,\u0275setClassMetadata:()=>oE,\u0275setCurrentInjector:()=>N,\u0275setDocument:()=>tu,\u0275setLocaleId:()=>q_,\u0275store:()=>fI,\u0275stringify:()=>ae,\u0275transitiveScopesFor:()=>us,\u0275unregisterLocaleData:()=>Nt,\u0275unwrapSafeValue:()=>Yo,\u0275whenRendered:()=>cI,\u0275\u0275CopyDefinitionFeature:()=>dI,\u0275\u0275FactoryTarget:()=>Nn,\u0275\u0275InheritDefinitionFeature:()=>sm,\u0275\u0275NgOnChangesFeature:()=>ko,\u0275\u0275ProvidersFeature:()=>Wm,\u0275\u0275advance:()=>lh,\u0275\u0275attribute:()=>rp,\u0275\u0275attributeInterpolate1:()=>Yv,\u0275\u0275attributeInterpolate2:()=>ip,\u0275\u0275attributeInterpolate3:()=>sp,\u0275\u0275attributeInterpolate4:()=>op,\u0275\u0275attributeInterpolate5:()=>Br,\u0275\u0275attributeInterpolate6:()=>Jr,\u0275\u0275attributeInterpolate7:()=>vh,\u0275\u0275attributeInterpolate8:()=>ap,\u0275\u0275attributeInterpolateV:()=>Jv,\u0275\u0275classMap:()=>vp,\u0275\u0275classMapInterpolate1:()=>S_,\u0275\u0275classMapInterpolate2:()=>A_,\u0275\u0275classMapInterpolate3:()=>Sm,\u0275\u0275classMapInterpolate4:()=>Am,\u0275\u0275classMapInterpolate5:()=>M_,\u0275\u0275classMapInterpolate6:()=>Dp,\u0275\u0275classMapInterpolate7:()=>x_,\u0275\u0275classMapInterpolate8:()=>R_,\u0275\u0275classMapInterpolateV:()=>Nl,\u0275\u0275classProp:()=>w_,\u0275\u0275contentQuery:()=>IE,\u0275\u0275defineComponent:()=>Ke,\u0275\u0275defineDirective:()=>rr,\u0275\u0275defineInjectable:()=>tn,\u0275\u0275defineInjector:()=>yi,\u0275\u0275defineNgModule:()=>nr,\u0275\u0275definePipe:()=>xr,\u0275\u0275directiveInject:()=>dp,\u0275\u0275disableBindings:()=>vs,\u0275\u0275element:()=>SI,\u0275\u0275elementContainer:()=>Rl,\u0275\u0275elementContainerEnd:()=>Xc,\u0275\u0275elementContainerStart:()=>wh,\u0275\u0275elementEnd:()=>ym,\u0275\u0275elementStart:()=>mm,\u0275\u0275enableBindings:()=>Ws,\u0275\u0275getCurrentView:()=>_m,\u0275\u0275getInheritedFactory:()=>Kn,\u0275\u0275hostProperty:()=>xm,\u0275\u0275i18n:()=>Ba,\u0275\u0275i18nApply:()=>Rp,\u0275\u0275i18nAttributes:()=>X_,\u0275\u0275i18nEnd:()=>qm,\u0275\u0275i18nExp:()=>Ll,\u0275\u0275i18nPostprocess:()=>Op,\u0275\u0275i18nStart:()=>Gm,\u0275\u0275inject:()=>Y,\u0275\u0275injectAttribute:()=>Ma,\u0275\u0275invalidFactory:()=>gm,\u0275\u0275invalidFactoryDep:()=>de,\u0275\u0275listener:()=>fp,\u0275\u0275loadQuery:()=>oa,\u0275\u0275namespaceHTML:()=>lg,\u0275\u0275namespaceMathML:()=>Ia,\u0275\u0275namespaceSVG:()=>sc,\u0275\u0275nextContext:()=>pp,\u0275\u0275ngDeclareClassMetadata:()=>cC,\u0275\u0275ngDeclareComponent:()=>pb,\u0275\u0275ngDeclareDirective:()=>Jl,\u0275\u0275ngDeclareFactory:()=>a0,\u0275\u0275ngDeclareInjectable:()=>u0,\u0275\u0275ngDeclareInjector:()=>mb,\u0275\u0275ngDeclareNgModule:()=>l0,\u0275\u0275ngDeclarePipe:()=>Ry,\u0275\u0275pipe:()=>dE,\u0275\u0275pipeBind1:()=>hE,\u0275\u0275pipeBind2:()=>fE,\u0275\u0275pipeBind3:()=>pw,\u0275\u0275pipeBind4:()=>gw,\u0275\u0275pipeBindV:()=>mw,\u0275\u0275projection:()=>c_,\u0275\u0275projectionDef:()=>gp,\u0275\u0275property:()=>Ih,\u0275\u0275propertyInterpolate:()=>$n,\u0275\u0275propertyInterpolate1:()=>td,\u0275\u0275propertyInterpolate2:()=>d_,\u0275\u0275propertyInterpolate3:()=>h_,\u0275\u0275propertyInterpolate4:()=>nd,\u0275\u0275propertyInterpolate5:()=>rd,\u0275\u0275propertyInterpolate6:()=>f_,\u0275\u0275propertyInterpolate7:()=>wm,\u0275\u0275propertyInterpolate8:()=>p_,\u0275\u0275propertyInterpolateV:()=>g_,\u0275\u0275pureFunction0:()=>uE,\u0275\u0275pureFunction1:()=>gd,\u0275\u0275pureFunction2:()=>lw,\u0275\u0275pureFunction3:()=>oo,\u0275\u0275pureFunction4:()=>cw,\u0275\u0275pureFunction5:()=>ty,\u0275\u0275pureFunction6:()=>dw,\u0275\u0275pureFunction7:()=>hw,\u0275\u0275pureFunction8:()=>wn,\u0275\u0275pureFunctionV:()=>fw,\u0275\u0275queryRefresh:()=>ri,\u0275\u0275reference:()=>pI,\u0275\u0275resolveBody:()=>_u,\u0275\u0275resolveDocument:()=>Si,\u0275\u0275resolveWindow:()=>Rg,\u0275\u0275restoreView:()=>Bu,\u0275\u0275sanitizeHtml:()=>Sc,\u0275\u0275sanitizeResourceUrl:()=>Sf,\u0275\u0275sanitizeScript:()=>mu,\u0275\u0275sanitizeStyle:()=>Cg,\u0275\u0275sanitizeUrl:()=>fl,\u0275\u0275sanitizeUrlOrResourceUrl:()=>bg,\u0275\u0275setComponentScope:()=>dt,\u0275\u0275setNgModuleScope:()=>Ka,\u0275\u0275styleMap:()=>Ps,\u0275\u0275styleMapInterpolate1:()=>O_,\u0275\u0275styleMapInterpolate2:()=>N_,\u0275\u0275styleMapInterpolate3:()=>P_,\u0275\u0275styleMapInterpolate4:()=>k_,\u0275\u0275styleMapInterpolate5:()=>bp,\u0275\u0275styleMapInterpolate6:()=>ks,\u0275\u0275styleMapInterpolate7:()=>F_,\u0275\u0275styleMapInterpolate8:()=>L_,\u0275\u0275styleMapInterpolateV:()=>ad,\u0275\u0275styleProp:()=>I_,\u0275\u0275stylePropInterpolate1:()=>V_,\u0275\u0275stylePropInterpolate2:()=>U_,\u0275\u0275stylePropInterpolate3:()=>Tp,\u0275\u0275stylePropInterpolate4:()=>j_,\u0275\u0275stylePropInterpolate5:()=>B_,\u0275\u0275stylePropInterpolate6:()=>Mm,\u0275\u0275stylePropInterpolate7:()=>$_,\u0275\u0275stylePropInterpolate8:()=>Sh,\u0275\u0275stylePropInterpolateV:()=>H_,\u0275\u0275syntheticHostListener:()=>xu,\u0275\u0275syntheticHostProperty:()=>Xr,\u0275\u0275template:()=>Xv,\u0275\u0275templateRefExtractor:()=>Tw,\u0275\u0275text:()=>Dm,\u0275\u0275textInterpolate:()=>sd,\u0275\u0275textInterpolate1:()=>Ip,\u0275\u0275textInterpolate2:()=>wp,\u0275\u0275textInterpolate3:()=>bh,\u0275\u0275textInterpolate4:()=>bm,\u0275\u0275textInterpolate5:()=>Cp,\u0275\u0275textInterpolate6:()=>Th,\u0275\u0275textInterpolate7:()=>T_,\u0275\u0275textInterpolate8:()=>Tm,\u0275\u0275textInterpolateV:()=>od,\u0275\u0275trustConstantHtml:()=>Zy,\u0275\u0275trustConstantResourceUrl:()=>Qy,\u0275\u0275viewQuery:()=>bw});var I=F(7579),h=F(727),V=F(8306),oe=F(6451),te=F(3099);function fe(i){for(let s in i)if(i[s]===fe)return s;throw Error("Could not find renamed property on target object.")}function ue(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function ae(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ae).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function ce(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const $=fe({__forward_ref__:fe});function H(i){return i.__forward_ref__=H,i.toString=function(){return ae(this())},i}function X(i){return $e(i)?i():i}function $e(i){return"function"==typeof i&&i.hasOwnProperty($)&&i.__forward_ref__===H}class pe extends Error{constructor(s,o){super(function Me(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,o)),this.code=s}}function Z(i){return"string"==typeof i?i:null==i?"":String(i)}function ne(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Z(i)}function ze(i,s){const o=s?` in ${s}`:"";throw new pe(-201,`No provider for ${ne(i)} found${o}`)}function _t(i,s,o,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${o} ${u} ${s} <=Actual]`))}function tn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}const wr=tn;function yi(i){return{providers:i.providers||[],imports:i.imports||[]}}function bn(i){return vi(i,Ar)||vi(i,Fe)}function vi(i,s){return i.hasOwnProperty(s)?i[s]:null}function cs(i){return i&&(i.hasOwnProperty(_i)||i.hasOwnProperty(dr))?i[_i]:null}const Ar=fe({\u0275prov:fe}),_i=fe({\u0275inj:fe}),Fe=fe({ngInjectableDef:fe}),dr=fe({ngInjectorDef:fe});var ct=(()=>((ct=ct||{})[ct.Default=0]="Default",ct[ct.Host=1]="Host",ct[ct.Self=2]="Self",ct[ct.SkipSelf=4]="SkipSelf",ct[ct.Optional=8]="Optional",ct))();let Ei;function Yn(i){const s=Ei;return Ei=i,s}function ds(i,s,o){const u=bn(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&ct.Optional?null:void 0!==s?s:void ze(ae(i),"Injector")}function hr(i){return{toString:i}.toString()}var Cn=(()=>((Cn=Cn||{})[Cn.OnPush=0]="OnPush",Cn[Cn.Default=1]="Default",Cn))(),on=(()=>((on=on||{})[on.CheckOnce=0]="CheckOnce",on[on.Checked=1]="Checked",on[on.CheckAlways=2]="CheckAlways",on[on.Detached=3]="Detached",on[on.Errored=4]="Errored",on[on.Destroyed=5]="Destroyed",on))();function zr(i){return null==i||i===Cn.Default}var $t=(()=>{return(i=$t||($t={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",$t;var i})();const gt="undefined"!=typeof globalThis&&globalThis,Et="undefined"!=typeof window&&window,Gi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,vt=gt||"undefined"!=typeof global&&global||Et||Gi,Oi={},G=[],W=fe({\u0275cmp:fe}),Q=fe({\u0275dir:fe}),Ae=fe({\u0275pipe:fe}),ie=fe({\u0275mod:fe}),Qe=fe({\u0275fac:fe}),xe=fe({__NG_ELEMENT_ID__:fe});let Te=0;function Ke(i){return hr(()=>{const o={},u={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Cn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||G,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||$t.Emulated,id:"c",styles:i.styles||G,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,g=i.features,y=i.pipes;return u.id+=Te++,u.inputs=fs(i.inputs,o),u.outputs=fs(i.outputs),g&&g.forEach(E=>E(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(Pt):null,u.pipeDefs=y?()=>("function"==typeof y?y():y).map(Ct):null,u})}function dt(i,s,o){const u=i.\u0275cmp;u.directiveDefs=()=>s.map(Pt),u.pipeDefs=()=>o.map(Ct)}function Pt(i){return Tn(i)||kt(i)}function Ct(i){return mt(i)}const gn={};function nr(i){return hr(()=>{const s={type:i.type,bootstrap:i.bootstrap||G,declarations:i.declarations||G,imports:i.imports||G,exports:i.exports||G,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(gn[i.id]=i.type),s})}function Ka(i,s){return hr(()=>{const o=an(i,!0);o.declarations=s.declarations||G,o.imports=s.imports||G,o.exports=s.exports||G})}function fs(i,s){if(null==i)return Oi;const o={};for(const u in i)if(i.hasOwnProperty(u)){let c=i[u],g=c;Array.isArray(c)&&(g=c[1],c=c[0]),o[c]=u,s&&(s[c]=g)}return o}const rr=Ke;function xr(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Tn(i){return i[W]||null}function kt(i){return i[Q]||null}function mt(i){return i[Ae]||null}function an(i,s){const o=i[ie]||null;if(!o&&!0===s)throw new Error(`Type ${ae(i)} does not have '\u0275mod' property.`);return o}function Ii(i){return Array.isArray(i)&&"object"==typeof i[1]}function wi(i){return Array.isArray(i)&&!0===i[1]}function Za(i){return 0!=(8&i.flags)}function qn(i){return 2==(2&i.flags)}function zi(i){return 1==(1&i.flags)}function Ni(i){return null!==i.template}function ju(i){return 0!=(512&i[2])}function ys(i,s){return i.hasOwnProperty(Qe)?i[Qe]:null}class po{constructor(s,o,u){this.previousValue=s,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function ko(){return On}function On(i){return i.type.prototype.ngOnChanges&&(i.setInput=Ki),Wi}function Wi(){const i=fa(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===Oi)i.previous=s;else for(let u in s)o[u]=s[u];i.current=null,this.ngOnChanges(s)}}function Ki(i,s,o,u){const c=fa(i)||function zn(i,s){return i[ha]=s}(i,{previous:Oi,current:null}),g=c.current||(c.current={}),y=c.previous,E=this.declaredInputs[o],C=y[E];g[E]=new po(C&&C.currentValue,s,y===Oi),i[u]=s}ko.ngInherit=!0;const ha="__ngSimpleChanges__";function fa(i){return i[ha]||null}let Pr=null;const go=i=>{Pr=i},kr=function(i,s,o){null!=Pr&&Pr(i,s,o)},pa="http://www.w3.org/2000/svg",eu="http://www.w3.org/1998/MathML/";let Fo;function tu(i){Fo=i}function zs(){return void 0!==Fo?Fo:"undefined"!=typeof document?document:void 0}function Zt(i){return!!i.listen}const Zi={createRenderer:(i,s)=>zs()};function vn(i){for(;Array.isArray(i);)i=i[0];return i}function T(i,s){return vn(s[i])}function k(i,s){return vn(s[i.index])}function me(i,s){return i.data[s]}function Pe(i,s){return i[s]}function We(i,s){const o=s[i];return Ii(o)?o:o[0]}function Ot(i){return 4==(4&i[2])}function zt(i){return 128==(128&i[2])}function Mt(i,s){return null==s?null:i[s]}function Sn(i){i[18]=0}function un(i,s){i[5]+=s;let o=i,u=i[3];for(;null!==u&&(1===s&&1===o[5]||-1===s&&0===o[5]);)u[5]+=s,o=u,u=u[3]}const rt={lFrame:ou(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Yi(){return rt.bindingsEnabled}function Ws(){rt.bindingsEnabled=!0}function vs(){rt.bindingsEnabled=!1}function ke(){return rt.lFrame.lView}function Vt(){return rt.lFrame.tView}function Bu(i){return rt.lFrame.contextLView=i,i[8]}function An(){let i=Ks();for(;null!==i&&64===i.type;)i=i.parent;return i}function Ks(){return rt.lFrame.currentTNode}function Zs(){const i=rt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}function Ji(i,s){const o=rt.lFrame;o.currentTNode=i,o.isParent=s}function Lo(){return rt.lFrame.isParent}function $u(){rt.lFrame.isParent=!1}function ga(){return rt.isInCheckNoChangesMode}function iu(i){rt.isInCheckNoChangesMode=i}function Cr(){const i=rt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Xi(){return rt.lFrame.bindingIndex}function Vo(i){return rt.lFrame.bindingIndex=i}function Qs(){return rt.lFrame.bindingIndex++}function Li(i){const s=rt.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}function ma(i){rt.lFrame.inI18n=i}function qu(i,s){const o=rt.lFrame;o.bindingIndex=o.bindingRootIndex=i,Uo(s)}function Uo(i){rt.lFrame.currentDirectiveIndex=i}function ya(i){const s=rt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function va(){return rt.lFrame.currentQueryIndex}function _a(i){rt.lFrame.currentQueryIndex=i}function zu(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function ic(i,s,o){if(o&ct.SkipSelf){let c=s,g=i;for(;!(c=c.parent,null!==c||o&ct.Host||(c=zu(g),null===c||(g=g[15],10&c.type))););if(null===c)return!1;s=c,i=g}const u=rt.lFrame=Nd();return u.currentTNode=s,u.lView=i,!0}function Ea(i){const s=Nd(),o=i[1];rt.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Nd(){const i=rt.lFrame,s=null===i?null:i.child;return null===s?ou(i):s}function ou(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function au(){const i=rt.lFrame;return rt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Wu=au;function Ku(){const i=au();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Dr(){return rt.lFrame.selectedIndex}function ci(i){rt.lFrame.selectedIndex=i}function Mn(){const i=rt.lFrame;return me(i.tView,i.selectedIndex)}function sc(){rt.lFrame.currentNamespace=pa}function Ia(){rt.lFrame.currentNamespace=eu}function lg(){!function Pd(){rt.lFrame.currentNamespace=null}()}function oc(i,s){for(let o=s.directiveStart,u=s.directiveEnd;o<u;o++){const g=i.data[o].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:M,ngOnDestroy:O}=g;y&&(i.contentHooks||(i.contentHooks=[])).push(-o,y),E&&((i.contentHooks||(i.contentHooks=[])).push(o,E),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,E)),C&&(i.viewHooks||(i.viewHooks=[])).push(-o,C),M&&((i.viewHooks||(i.viewHooks=[])).push(o,M),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,M)),null!=O&&(i.destroyHooks||(i.destroyHooks=[])).push(o,O)}}function yo(i,s,o){nf(i,s,3,o)}function ac(i,s,o,u){(3&i[2])===o&&nf(i,s,o,u)}function uu(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function nf(i,s,o,u){const g=null!=u?u:-1,y=s.length-1;let E=0;for(let C=void 0!==u?65535&i[18]:0;C<y;C++)if("number"==typeof s[C+1]){if(E=s[C],null!=u&&E>=u)break}else s[C]<0&&(i[18]+=65536),(E<g||-1==g)&&(Ld(i,o,s,C),i[18]=(4294901760&i[18])+C+2),C++}function Ld(i,s,o,u){const c=o[u]<0,g=o[u+1],E=i[c?-o[u]:o[u]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048,kr(4,E,g);try{g.call(E)}finally{kr(5,E,g)}}}else{kr(4,E,g);try{g.call(E)}finally{kr(5,E,g)}}}class jn{constructor(s,o,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function lu(i,s,o){const u=Zt(i);let c=0;for(;c<o.length;){const g=o[c];if("number"==typeof g){if(0!==g)break;c++;const y=o[c++],E=o[c++],C=o[c++];u?i.setAttribute(s,E,C,y):s.setAttributeNS(y,E,C)}else{const y=g,E=o[++c];_o(y)?u&&i.setProperty(s,y,E):u?i.setAttribute(s,y,E):s.setAttribute(y,E),c++}}return c}function uc(i){return 3===i||4===i||6===i}function _o(i){return 64===i.charCodeAt(0)}function br(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let u=0;u<s.length;u++){const c=s[u];"number"==typeof c?o=c:0===o||Ys(i,o,c,null,-1===o||2===o?s[++u]:null)}}return i}function Ys(i,s,o,u,c){let g=0,y=i.length;if(-1===s)y=-1;else for(;g<i.length;){const E=i[g++];if("number"==typeof E){if(E===s){y=-1;break}if(E>s){y=g-1;break}}}for(;g<i.length;){const E=i[g];if("number"==typeof E)break;if(E===o){if(null===u)return void(null!==c&&(i[g+1]=c));if(u===i[g+1])return void(i[g+2]=c)}g++,null!==u&&g++,null!==c&&g++}-1!==y&&(i.splice(y,0,s),g=y+1),i.splice(g++,0,o),null!==u&&i.splice(g++,0,u),null!==c&&i.splice(g++,0,c)}function af(i){return-1!==i}function cu(i){return 32767&i}function du(i,s){let o=function uf(i){return i>>16}(i),u=s;for(;o>0;)u=u[15],o--;return u}let lc=!0;function hu(i){const s=lc;return lc=i,s}let Ju=0;function ba(i,s){const o=di(i,s);if(-1!==o)return o;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,Js(u.data,i),Js(s,null),Js(u.blueprint,null));const c=Eo(i,s),g=i.injectorIndex;if(af(c)){const y=cu(c),E=du(c,s),C=E[1].data;for(let M=0;M<8;M++)s[g+M]=E[y+M]|C[y+M]}return s[g+8]=c,g}function Js(i,s){i.push(0,0,0,0,0,0,0,0,s)}function di(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Eo(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,u=null,c=s;for(;null!==c;){const g=c[1],y=g.type;if(u=2===y?g.declTNode:1===y?c[6]:null,null===u)return-1;if(o++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function Ta(i,s,o){!function lf(i,s,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(xe)&&(u=o[xe]),null==u&&(u=o[xe]=Ju++);const c=255&u;s.data[i+(c>>5)]|=1<<c}(i,s,o)}function cc(i,s,o){if(o&ct.Optional)return i;ze(s,"NodeInjector")}function Es(i,s,o,u){if(o&ct.Optional&&void 0===u&&(u=null),0==(o&(ct.Self|ct.Host))){const c=i[9],g=Yn(void 0);try{return c?c.get(s,u,o&ct.Optional):ds(s,u,o&ct.Optional)}finally{Yn(g)}}return cc(u,s,o)}function Xs(i,s,o,u=ct.Default,c){if(null!==i){const g=function Ud(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(xe)?i[xe]:void 0;return"number"==typeof s?s>=0?255&s:Xu:s}(o);if("function"==typeof g){if(!ic(s,i,u))return u&ct.Host?cc(c,o,u):Es(s,o,u,c);try{const y=g(u);if(null!=y||u&ct.Optional)return y;ze(o)}finally{Wu()}}else if("number"==typeof g){let y=null,E=di(i,s),C=-1,M=u&ct.Host?s[16][6]:null;for((-1===E||u&ct.SkipSelf)&&(C=-1===E?Eo(i,s):s[E+8],-1!==C&&Bo(u,!1)?(y=s[1],E=cu(C),s=du(C,s)):E=-1);-1!==E;){const O=s[1];if(jd(g,E,O.data)){const U=Xn(E,s,o,y,u,M);if(U!==Is)return U}C=s[E+8],-1!==C&&Bo(u,s[1].data[E+8]===M)&&jd(g,E,s)?(y=O,E=cu(C),s=du(C,s)):E=-1}}}return Es(s,o,u,c)}const Is={};function Xu(){return new $o(An(),ke())}function Xn(i,s,o,u,c,g){const y=s[1],E=y.data[i+8],O=es(E,y,o,null==u?qn(E)&&lc:u!=y&&0!=(3&E.type),c&ct.Host&&g===E);return null!==O?Fr(s,y,O,E):Is}function es(i,s,o,u,c){const g=i.providerIndexes,y=s.data,E=1048575&g,C=i.directiveStart,O=g>>20,K=c?E+O:i.directiveEnd;for(let ee=u?E:E+O;ee<K;ee++){const Se=y[ee];if(ee<C&&o===Se||ee>=C&&Se.type===o)return ee}if(c){const ee=y[C];if(ee&&Ni(ee)&&ee.type===o)return C}return null}function Fr(i,s,o,u){let c=i[o];const g=s.data;if(function rf(i){return i instanceof jn}(c)){const y=c;y.resolving&&function he(i,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new pe(-200,`Circular dependency in DI detected for ${i}${o}`)}(ne(g[o]));const E=hu(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?Yn(y.injectImpl):null;ic(i,u,ct.Default);try{c=i[o]=y.factory(void 0,g,i,u),s.firstCreatePass&&o>=u.directiveStart&&function Fd(i,s,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:g}=s.type.prototype;if(u){const y=On(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,y),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,y)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,c),g&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,g),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,g))}(o,g[o],s)}finally{null!==C&&Yn(C),hu(E),y.resolving=!1,Wu()}}return c}function jd(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function Bo(i,s){return!(i&ct.Self||i&ct.Host&&s)}class $o{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,u){return Xs(this._tNode,this._lView,s,u,o)}}function Kn(i){return hr(()=>{const s=i.prototype.constructor,o=s[Qe]||Aa(s),u=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==u;){const g=c[Qe]||Aa(c);if(g&&g!==o)return g;c=Object.getPrototypeOf(c)}return g=>new g})}function Aa(i){return $e(i)?()=>{const s=Aa(X(i));return s&&s()}:ys(i)}function Ma(i){return function Sa(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const g=o[c];if(uc(g))break;if(0===g)c+=2;else if("number"==typeof g)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(g===s)return o[c+1];c+=2}}}return null}(An(),i)}const eo="__annotations__",to="__parameters__",Vi="__prop__metadata__";function Ho(i,s,o,u,c){return hr(()=>{const g=Go(s);function y(...E){if(this instanceof y)return g.call(this,...E),this;const C=new y(...E);return function(O){return c&&c(O,...E),(O.hasOwnProperty(eo)?O[eo]:Object.defineProperty(O,eo,{value:[]})[eo]).push(C),u&&u(O),O}}return o&&(y.prototype=Object.create(o.prototype)),y.prototype.ngMetadataName=i,y.annotationCls=y,y})}function Go(i){return function(...o){if(i){const u=i(...o);for(const c in u)this[c]=u[c]}}}function qo(i,s,o){return hr(()=>{const u=Go(s);function c(...g){if(this instanceof c)return u.apply(this,g),this;const y=new c(...g);return E.annotation=y,E;function E(C,M,O){const U=C.hasOwnProperty(to)?C[to]:Object.defineProperty(C,to,{value:[]})[to];for(;U.length<=O;)U.push(null);return(U[O]=U[O]||[]).push(y),C}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}function hi(i,s,o,u){return hr(()=>{const c=Go(s);function g(...y){if(this instanceof g)return c.apply(this,y),this;const E=new g(...y);return function C(M,O){const U=M.constructor,K=U.hasOwnProperty(Vi)?U[Vi]:Object.defineProperty(U,Vi,{value:{}})[Vi];K[O]=K.hasOwnProperty(O)&&K[O]||[],K[O].unshift(E),u&&u(M,O,...y)}}return o&&(g.prototype=Object.create(o.prototype)),g.prototype.ngMetadataName=i,g.annotationCls=g,g})}const Bd=qo("Attribute",i=>({attributeName:i,__NG_ELEMENT_ID__:()=>Ma(i)}));class In{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=tn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const fu=new In("AnalyzeForEntryComponents");class zo{}const dc=hi("ContentChildren",(i,s={})=>Object.assign({selector:i,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},s),zo),hc=hi("ContentChild",(i,s={})=>Object.assign({selector:i,first:!0,isViewQuery:!1,descendants:!0},s),zo),cf=hi("ViewChildren",(i,s={})=>Object.assign({selector:i,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0},s),zo),el=hi("ViewChild",(i,s)=>Object.assign({selector:i,first:!0,isViewQuery:!0,descendants:!0},s),zo);var Nn=(()=>((Nn=Nn||{})[Nn.Directive=0]="Directive",Nn[Nn.Component=1]="Component",Nn[Nn.Injectable=2]="Injectable",Nn[Nn.Pipe=3]="Pipe",Nn[Nn.NgModule=4]="NgModule",Nn))();function er(i){const s=vt.ng;if(s&&s.\u0275compilerFacade)return s.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const nl=Function;function ts(i){return"function"==typeof i}function Ci(i,s){void 0===s&&(s=i);for(let o=0;o<i.length;o++){let u=i[o];Array.isArray(u)?(s===i&&(s=i.slice(0,o)),Ci(u,s)):s!==i&&s.push(u)}return s}function ws(i,s){i.forEach(o=>Array.isArray(o)?ws(o,s):s(o))}function df(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function Cs(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Ds(i,s){const o=[];for(let u=0;u<i;u++)o.push(s);return o}function Lr(i,s,o){let u=Ko(i,s);return u>=0?i[1|u]=o:(u=~u,function Ra(i,s,o,u){let c=i.length;if(c==s)i.push(o,u);else if(1===c)i.push(u,i[0]),i[0]=o;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=o,i[s+1]=u}}(i,u,s,o)),u}function ol(i,s){const o=Ko(i,s);if(o>=0)return i[1|o]}function Ko(i,s){return function cg(i,s,o){let u=0,c=i.length>>o;for(;c!==u;){const g=u+(c-u>>1),y=i[g<<o];if(s===y)return g<<o;y>s?c=g:u=g+1}return~(c<<o)}(i,s,1)}const dg=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,pc=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,hf=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Oa=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class Io{constructor(s){this._reflect=s||vt.Reflect}isReflectionEnabled(){return!0}factory(s){return(...o)=>new s(...o)}_zipTypesAndAnnotations(s,o){let u;u=Ds(void 0===s?o.length:s.length);for(let c=0;c<u.length;c++)u[c]=void 0===s?[]:s[c]&&s[c]!=Object?[s[c]]:[],o&&null!=o[c]&&(u[c]=u[c].concat(o[c]));return u}_ownParameters(s,o){if(function Hd(i){return dg.test(i)||Oa.test(i)||pc.test(i)&&!hf.test(i)}(s.toString()))return null;if(s.parameters&&s.parameters!==o.parameters)return s.parameters;const c=s.ctorParameters;if(c&&c!==o.ctorParameters){const E="function"==typeof c?c():c,C=E.map(O=>O&&O.type),M=E.map(O=>O&&Zo(O.decorators));return this._zipTypesAndAnnotations(C,M)}const g=s.hasOwnProperty(to)&&s[to],y=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",s);return y||g?this._zipTypesAndAnnotations(y,g):Ds(s.length)}parameters(s){if(!ts(s))return[];const o=Qr(s);let u=this._ownParameters(s,o);return!u&&o!==Object&&(u=this.parameters(o)),u||[]}_ownAnnotations(s,o){if(s.annotations&&s.annotations!==o.annotations){let u=s.annotations;return"function"==typeof u&&u.annotations&&(u=u.annotations),u}return s.decorators&&s.decorators!==o.decorators?Zo(s.decorators):s.hasOwnProperty(eo)?s[eo]:null}annotations(s){if(!ts(s))return[];const o=Qr(s),u=this._ownAnnotations(s,o)||[];return(o!==Object?this.annotations(o):[]).concat(u)}_ownPropMetadata(s,o){if(s.propMetadata&&s.propMetadata!==o.propMetadata){let u=s.propMetadata;return"function"==typeof u&&u.propMetadata&&(u=u.propMetadata),u}if(s.propDecorators&&s.propDecorators!==o.propDecorators){const u=s.propDecorators,c={};return Object.keys(u).forEach(g=>{c[g]=Zo(u[g])}),c}return s.hasOwnProperty(Vi)?s[Vi]:null}propMetadata(s){if(!ts(s))return{};const o=Qr(s),u={};if(o!==Object){const g=this.propMetadata(o);Object.keys(g).forEach(y=>{u[y]=g[y]})}const c=this._ownPropMetadata(s,o);return c&&Object.keys(c).forEach(g=>{const y=[];u.hasOwnProperty(g)&&y.push(...u[g]),y.push(...c[g]),u[g]=y}),u}ownPropMetadata(s){return ts(s)&&this._ownPropMetadata(s,Qr(s))||{}}hasLifecycleHook(s,o){return s instanceof nl&&o in s.prototype}guards(s){return{}}getter(s){return new Function("o","return o."+s+";")}setter(s){return new Function("o","v","return o."+s+" = v;")}method(s){return new Function("o","args",`if (!o.${s}) throw new Error('"${s}" is undefined');\n        return o.${s}.apply(o, args);`)}importUri(s){return"object"==typeof s&&s.filePath?s.filePath:`./${ae(s)}`}resourceUri(s){return`./${ae(s)}`}resolveIdentifier(s,o,u,c){return c}resolveEnum(s,o){return s[o]}}function Zo(i){return i?i.map(s=>new(0,s.type.annotationCls)(...s.args?s.args:[])):[]}function Qr(i){const s=i.prototype?Object.getPrototypeOf(i.prototype):null;return(s?s.constructor:null)||Object}const Vr={},al="__NG_DI_FLAG__",wo="ngTempTokenPath",mc=/\n/gm,yc="__source",D=fe({provide:String,useValue:fe});let A;function N(i){const s=A;return A=i,s}function B(i,s=ct.Default){if(void 0===A)throw new pe(203,"");return null===A?ds(i,void 0,s):A.get(i,s&ct.Optional?null:void 0,s)}function Y(i,s=ct.Default){return(function Wt(){return Ei}()||B)(X(i),s)}function de(i){throw new Error("invalid")}const Ve=Y;function Je(i){const s=[];for(let o=0;o<i.length;o++){const u=X(i[o]);if(Array.isArray(u)){if(0===u.length)throw new pe(900,"");let c,g=ct.Default;for(let y=0;y<u.length;y++){const E=u[y],C=rn(E);"number"==typeof C?-1===C?c=E.token:g|=C:c=E}s.push(Y(c,g))}else s.push(Y(u))}return s}function Xe(i,s){return i[al]=s,i.prototype[al]=s,i}function rn(i){return i[al]}const Zn=Xe(qo("Inject",i=>({token:i})),-1),_n=Xe(qo("Optional"),8),Di=Xe(qo("Self"),2),ns=Xe(qo("SkipSelf"),4),Co=Xe(qo("Host"),1);let Ui=null;function bs(){return Ui=Ui||new Io}function Na(i){return ul(bs().parameters(i))}function ul(i){return i.map(s=>function qd(i){const s={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(i)&&i.length>0)for(let o=0;o<i.length;o++){const u=i[o];if(void 0===u)continue;const c=Object.getPrototypeOf(u);if(u instanceof _n||"Optional"===c.ngMetadataName)s.optional=!0;else if(u instanceof ns||"SkipSelf"===c.ngMetadataName)s.skipSelf=!0;else if(u instanceof Di||"Self"===c.ngMetadataName)s.self=!0;else if(u instanceof Co||"Host"===c.ngMetadataName)s.host=!0;else if(u instanceof Zn)s.token=u.token;else if(u instanceof Bd){if(void 0===u.attributeName)throw new Error("Attribute name must be defined.");s.attribute=u.attributeName}else s.token=u}else s.token=void 0===i||Array.isArray(i)&&0===i.length?null:i;return s}(s))}function ll(i){const s=[],o=new Map;function u(c){let g=o.get(c);if(!g){const y=i(c);o.set(c,g=y.then(pf))}return g}return cl.forEach((c,g)=>{const y=[];c.templateUrl&&y.push(u(c.templateUrl).then(U=>{c.template=U}));const E=c.styleUrls,C=c.styles||(c.styles=[]),M=c.styles.length;E&&E.forEach((U,K)=>{C.push(""),y.push(u(U).then(ee=>{C[M+K]=ee,E.splice(E.indexOf(U),1),0==E.length&&(c.styleUrls=void 0)}))});const O=Promise.all(y).then(()=>function _c(i){gu.delete(i)}(g));s.push(O)}),vc(),Promise.all(s).then(()=>{})}let cl=new Map;const gu=new Set;function zd(i){return!!(i.templateUrl&&!i.hasOwnProperty("template")||i.styleUrls&&i.styleUrls.length)}function vc(){const i=cl;return cl=new Map,i}function pf(i){return"string"==typeof i?i:i.text()}let Do,Ic;function dl(){if(void 0===Do&&(Do=null,vt.trustedTypes))try{Do=vt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Do}function Ec(i){var s;return(null===(s=dl())||void 0===s?void 0:s.createHTML(i))||i}function hl(){if(void 0===Ic&&(Ic=null,vt.trustedTypes))try{Ic=vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Ic}function pg(i){var s;return(null===(s=hl())||void 0===s?void 0:s.createHTML(i))||i}function Wd(i){var s;return(null===(s=hl())||void 0===s?void 0:s.createScript(i))||i}function Qo(i){var s;return(null===(s=hl())||void 0===s?void 0:s.createScriptURL(i))||i}class Ts{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class jy extends Ts{getTypeName(){return"HTML"}}class wc extends Ts{getTypeName(){return"Style"}}class mf extends Ts{getTypeName(){return"Script"}}class I0 extends Ts{getTypeName(){return"URL"}}class gg extends Ts{getTypeName(){return"ResourceURL"}}function Yo(i){return i instanceof Ts?i.changingThisBreaksApplicationSecurity:i}function Jo(i,s){const o=mg(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}function mg(i){return i instanceof Ts&&i.getTypeName()||null}function yg(i){return new jy(i)}function yf(i){return new wc(i)}function By(i){return new mf(i)}function Cc(i){return new I0(i)}function $y(i){return new gg(i)}function Kd(i){const s=new vf(i);return function Gy(){try{return!!(new window.DOMParser).parseFromString(Ec(""),"text/html")}catch(i){return!1}}()?new Hy(s):s}class Hy{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(Ec(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class vf{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(s){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Ec(s),o;const u=this.inertDocument.createElement("body");return u.innerHTML=Ec(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const o=s.attributes;for(let c=o.length-1;0<c;c--){const y=o.item(c).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&s.removeAttribute(y)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const _f=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,zy=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Pa(i){return(i=String(i)).match(_f)||i.match(zy)?i:"unsafe:"+i}function vg(i){return(i=String(i)).split(",").map(s=>Pa(s.trim())).join(", ")}function no(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function Dc(...i){const s={};for(const o of i)for(const u in o)o.hasOwnProperty(u)&&(s[u]=!0);return s}const Zd=no("area,br,col,hr,img,wbr"),_g=no("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ef=no("rp,rt"),bc=Dc(Zd,Dc(_g,no("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Dc(Ef,no("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dc(Ef,_g)),Tc=no("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qd=no("srcset"),wf=Dc(Tc,Qd,no("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),no("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Eg=no("script,style,template");class Cf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!bc.hasOwnProperty(o))return this.sanitizedSomething=!0,!Eg.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=s.attributes;for(let c=0;c<u.length;c++){const g=u.item(c),y=g.name,E=y.toLowerCase();if(!wf.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let C=g.value;Tc[E]&&(C=Pa(C)),Qd[E]&&(C=vg(C)),this.buf.push(" ",y,'="',Df(C),'"')}return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();bc.hasOwnProperty(o)&&!Zd.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(Df(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const Ig=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wg=/([^\#-~ |!])/g;function Df(i){return i.replace(/&/g,"&amp;").replace(Ig,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(wg,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let bo;function bf(i,s){let o=null;try{bo=bo||Kd(i);let u=s?String(s):"";o=bo.getInertBodyElement(u);let c=5,g=u;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,u=g,g=o.innerHTML,o=bo.getInertBodyElement(u)}while(u!==g);return Ec((new Cf).sanitizeChildren(Tf(o)||o))}finally{if(o){const u=Tf(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Tf(i){return"content"in i&&function Ky(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Dn=(()=>((Dn=Dn||{})[Dn.NONE=0]="NONE",Dn[Dn.HTML=1]="HTML",Dn[Dn.STYLE=2]="STYLE",Dn[Dn.SCRIPT=3]="SCRIPT",Dn[Dn.URL=4]="URL",Dn[Dn.RESOURCE_URL=5]="RESOURCE_URL",Dn))();function Sc(i){const s=Jd();return s?pg(s.sanitize(Dn.HTML,i)||""):Jo(i,"HTML")?pg(Yo(i)):bf(zs(),Z(i))}function Cg(i){const s=Jd();return s?s.sanitize(Dn.STYLE,i)||"":Jo(i,"Style")?Yo(i):Z(i)}function fl(i){const s=Jd();return s?s.sanitize(Dn.URL,i)||"":Jo(i,"URL")?Yo(i):Pa(Z(i))}function Sf(i){const s=Jd();if(s)return Qo(s.sanitize(Dn.RESOURCE_URL,i)||"");if(Jo(i,"ResourceURL"))return Qo(Yo(i));throw new pe(904,"")}function mu(i){const s=Jd();if(s)return Wd(s.sanitize(Dn.SCRIPT,i)||"");if(Jo(i,"Script"))return Wd(Yo(i));throw new pe(905,"")}function Zy(i){return Ec(i[0])}function Qy(i){return function gf(i){var s;return(null===(s=dl())||void 0===s?void 0:s.createScriptURL(i))||i}(i[0])}function bg(i,s,o){return function Dg(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?Sf:fl}(s,o)(i)}function Jd(){const i=ke();return i&&i[12]}function bi(i){let s=yu(i);if(s){if(Array.isArray(s)){const o=s;let u,c,g;if(function eh(i){return i&&i.constructor&&i.constructor.\u0275cmp}(i)){if(u=vu(o,i),-1==u)throw new Error("The provided component was not found in the application");c=i}else if(function Af(i){return i&&i.constructor&&i.constructor.\u0275dir}(i)){if(u=function Ac(i,s){let o=i[1].firstChild;for(;o;){const c=o.directiveEnd;for(let g=o.directiveStart;g<c;g++)if(i[g]===s)return o.index;o=Ag(o)}return-1}(o,i),-1==u)throw new Error("The provided directive was not found in the application");g=Mf(u,o,!1)}else if(u=pl(o,i),-1==u)return null;const y=vn(o[u]),E=yu(y),C=E&&!Array.isArray(E)?E:Tg(o,u,y);if(c&&void 0===C.component&&(C.component=c,Yr(C.component,C)),g&&void 0===C.directives){C.directives=g;for(let M=0;M<g.length;M++)Yr(g[M],C)}Yr(C.native,C),s=C}}else{const o=i;let u=o;for(;u=u.parentNode;){const c=yu(u);if(c){let g;if(g=Array.isArray(c)?c:c.lView,!g)return null;const y=pl(g,o);if(y>=0){const E=vn(g[y]),C=Tg(g,y,E);Yr(E,C),s=C;break}}}}return s||null}function Tg(i,s,o){return{lView:i,nodeIndex:s,native:o,component:void 0,directives:void 0,localRefs:void 0}}function Ss(i){let o,s=yu(i);if(Array.isArray(s)){const u=vu(s,i);o=We(u,s);const c=Tg(s,u,o[0]);c.component=i,Yr(i,c),Yr(c.native,c)}else o=We(s.nodeIndex,s.lView);return o}const Sg="__ngContext__";function Yr(i,s){i[Sg]=s}function yu(i){return i[Sg]||null}function Xd(i){const s=yu(i);return s?Array.isArray(s)?s:s.lView:null}function pl(i,s){const o=i[1];for(let u=20;u<o.bindingStartIndex;u++)if(vn(i[u])===s)return u;return-1}function Ag(i){if(i.child)return i.child;if(i.next)return i.next;for(;i.parent&&!i.parent.next;)i=i.parent;return i.parent&&i.parent.next}function vu(i,s){const o=i[1].components;if(o)for(let u=0;u<o.length;u++){const c=o[u];if(We(c,i)[8]===s)return c}else if(We(20,i)[8]===s)return 20;return-1}function Mf(i,s,o){const u=s[1].data[i];let c=u.directiveStart;return 0==c?G:(!o&&2&u.flags&&c++,s.slice(c,u.directiveEnd))}const nh="ngOriginalError";function Ur(i){return i[nh]}function gl(i,...s){i.error(...s)}class Rc{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),u=function xc(i){return i&&i.ngErrorLogger||gl}(s);u(this._console,"ERROR",s),o&&u(this._console,"ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&Ur(s);for(;o&&Ur(o);)o=Ur(o);return o||null}}const Ti={name:"custom-elements"},Mg={name:"no-errors-schema"},Xo=/^>|^->|<!--|-->|--!>|<!-$/g,xf=/(<|>)/;const ih=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(vt))();function Rg(i){return i.ownerDocument.defaultView}function Si(i){return i.ownerDocument}function _u(i){return i.ownerDocument.body}function To(i){return i instanceof Function?i():i}var So=(()=>((So=So||{})[So.Important=1]="Important",So[So.DashCase=2]="DashCase",So))();let Ai;function Nc(i,s){return Ai(i,s)}function Pc(i){const s=i[3];return wi(s)?s[3]:s}function Bn(i){return function kf(i){let s=Ii(i)?i:Xd(i);for(;s&&!(512&s[2]);)s=Pc(s);return s}(i)[8]}function ml(i){return Ff(i[13])}function yl(i){return Ff(i[4])}function Ff(i){for(;null!==i&&!wi(i);)i=i[4];return i}function xn(i,s,o,u,c){if(null!=u){let g,y=!1;wi(u)?g=u:Ii(u)&&(y=!0,u=u[0]);const E=vn(u);0===i&&null!==o?null==c?ht(s,o,E):it(s,o,E,c||null,!0):1===i&&null!==o?it(s,o,E,c||null,!0):2===i?ah(s,E,y):3===i&&s.destroyNode(E),null!=g&&function D0(i,s,o,u,c){const g=o[7];g!==vn(o)&&xn(s,i,u,g,c);for(let E=10;E<o.length;E++){const C=o[E];jf(C[1],C,i,s,u,g)}}(s,i,g,o,c)}}function rs(i,s){return Zt(i)?i.createText(s):i.createTextNode(s)}function Lf(i,s,o){Zt(i)?i.setValue(s,o):s.textContent=o}function tv(i,s){return i.createComment(function rh(i){return i.replace(Xo,s=>s.replace(xf,"\u200b$1\u200b"))}(s))}function vl(i,s,o){return Zt(i)?i.createElement(s,o):null===o?i.createElement(s):i.createElementNS(o,s)}function f(i,s){const o=i[9],u=o.indexOf(s),c=s[3];1024&s[2]&&(s[2]&=-1025,un(c,-1)),o.splice(u,1)}function _(i,s){if(i.length<=10)return;const o=10+s,u=i[o];if(u){const c=u[17];null!==c&&c!==i&&f(c,u),s>0&&(i[o-1][4]=u[4]);const g=Cs(i,10+s);!function kg(i,s){jf(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const y=g[19];null!==y&&y.detachView(g[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function b(i,s){if(!(256&s[2])){const o=s[11];Zt(o)&&o.destroyNode&&jf(i,s,o,3,null,null),function rv(i){let s=i[13];if(!s)return R(i[1],i);for(;s;){let o=null;if(Ii(s))o=s[13];else{const u=s[10];u&&(o=u)}if(!o){for(;s&&!s[4]&&s!==i;)Ii(s)&&R(s[1],s),s=s[3];null===s&&(s=i),Ii(s)&&R(s[1],s),o=s&&s[4]}s=o}}(s)}}function R(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function se(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let u=0;u<o.length;u+=2){const c=s[o[u]];if(!(c instanceof jn)){const g=o[u+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const E=c[g[y]],C=g[y+1];kr(4,E,C);try{C.call(E)}finally{kr(5,E,C)}}else{kr(4,c,g);try{g.call(c)}finally{kr(5,c,g)}}}}}(i,s),function q(i,s){const o=i.cleanup,u=s[7];let c=-1;if(null!==o)for(let g=0;g<o.length-1;g+=2)if("string"==typeof o[g]){const y=o[g+1],E="function"==typeof y?y(s):vn(s[y]),C=u[c=o[g+2]],M=o[g+3];"boolean"==typeof M?E.removeEventListener(o[g],C,M):M>=0?u[c=M]():u[c=-M].unsubscribe(),g+=2}else{const y=u[c=o[g+1]];o[g].call(y)}if(null!==u){for(let g=c+1;g<u.length;g++)u[g]();s[7]=null}}(i,s),1===s[1].type&&Zt(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&wi(s[3])){o!==s[3]&&f(o,s);const u=s[19];null!==u&&u.detachView(i)}}}function He(i,s,o){return je(i,s.parent,o)}function je(i,s,o){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return o[0];if(2&u.flags){const c=i.data[u.directiveStart].encapsulation;if(c===$t.None||c===$t.Emulated)return null}return k(u,o)}function it(i,s,o,u,c){Zt(i)?i.insertBefore(s,o,u,c):s.insertBefore(o,u,c)}function ht(i,s,o){Zt(i)?i.appendChild(s,o):s.appendChild(o)}function Ut(i,s,o,u,c){null!==u?it(i,s,o,u,c):ht(i,s,o)}function As(i,s){return Zt(i)?i.parentNode(s):s.parentNode}function sh(i,s,o){return _l(i,s,o)}function kc(i,s,o){return 40&i.type?k(i,o):null}let El,_l=kc;function oh(i,s){_l=i,El=s}function Fc(i,s,o,u){const c=He(i,u,s),g=s[11],E=sh(u.parent||s[6],u,s);if(null!=c)if(Array.isArray(o))for(let C=0;C<o.length;C++)Ut(g,c,o[C],E,!1);else Ut(g,c,o,E,!1);void 0!==El&&El(g,u,s,o,c)}function Il(i,s){if(null!==s){const o=s.type;if(3&o)return k(s,i);if(4&o)return wl(-1,i[s.index]);if(8&o){const u=s.child;if(null!==u)return Il(i,u);{const c=i[s.index];return wi(c)?wl(-1,c):vn(c)}}if(32&o)return Nc(s,i)()||vn(i[s.index]);{const u=Vf(i,s);return null!==u?Array.isArray(u)?u[0]:Il(Pc(i[16]),u):Il(i,s.next)}}return null}function Vf(i,s){return null!==s?i[16][6].projection[s.projection]:null}function wl(i,s){const o=10+i+1;if(o<s.length){const u=s[o],c=u[1].firstChild;if(null!==c)return Il(u,c)}return s[7]}function ah(i,s,o){const u=As(i,s);u&&function tr(i,s,o,u){Zt(i)?i.removeChild(s,o,u):s.removeChild(o)}(i,u,s,o)}function Uf(i,s,o,u,c,g,y){for(;null!=o;){const E=u[o.index],C=o.type;if(y&&0===s&&(E&&Yr(vn(E),u),o.flags|=4),64!=(64&o.flags))if(8&C)Uf(i,s,o.child,u,c,g,!1),xn(s,i,c,E,g);else if(32&C){const M=Nc(o,u);let O;for(;O=M();)xn(s,i,c,O,g);xn(s,i,c,E,g)}else 16&C?C0(i,s,u,o,c,g):xn(s,i,c,E,g);o=y?o.projectionNext:o.next}}function jf(i,s,o,u,c,g){Uf(o,u,i.firstChild,s,c,g,!1)}function C0(i,s,o,u,c,g){const y=o[16],C=y[6].projection[u.projection];if(Array.isArray(C))for(let M=0;M<C.length;M++)xn(s,i,c,C[M],g);else Uf(i,s,C,y[3],c,g,!0)}function Lg(i,s,o){Zt(i)?i.setAttribute(s,"style",o):s.style.cssText=o}function ea(i,s,o){Zt(i)?""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o):s.className=o}function Lc(i,s,o){let u=i.length;for(;;){const c=i.indexOf(s,o);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const g=s.length;if(c+g===u||i.charCodeAt(c+g)<=32)return c}o=c+1}}const sv="ng-template";function NC(i,s,o){let u=0;for(;u<i.length;){let c=i[u++];if(o&&"class"===c){if(c=i[u],-1!==Lc(c.toLowerCase(),s,0))return!0}else if(1===c){for(;u<i.length&&"string"==typeof(c=i[u++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function Cl(i){return 4===i.type&&i.value!==sv}function b0(i,s,o){return s===(4!==i.type||o?i.value:sv)}function PC(i,s,o){let u=4;const c=i.attrs||[],g=function ov(i){for(let s=0;s<i.length;s++)if(uc(i[s]))return s;return i.length}(c);let y=!1;for(let E=0;E<s.length;E++){const C=s[E];if("number"!=typeof C){if(!y)if(4&u){if(u=2|1&u,""!==C&&!b0(i,C,o)||""===C&&1===s.length){if(Ms(u))return!1;y=!0}}else{const M=8&u?C:s[++E];if(8&u&&null!==i.attrs){if(!NC(i.attrs,M,o)){if(Ms(u))return!1;y=!0}continue}const U=T0(8&u?"class":C,c,Cl(i),o);if(-1===U){if(Ms(u))return!1;y=!0;continue}if(""!==M){let K;K=U>g?"":c[U+1].toLowerCase();const ee=8&u?K:null;if(ee&&-1!==Lc(ee,M,0)||2&u&&M!==K){if(Ms(u))return!1;y=!0}}}}else{if(!y&&!Ms(u)&&!Ms(C))return!1;if(y&&Ms(C))continue;y=!1,u=C|1&u}}return Ms(u)||y}function Ms(i){return 0==(1&i)}function T0(i,s,o,u){if(null===s)return-1;let c=0;if(u||!o){let g=!1;for(;c<s.length;){const y=s[c];if(y===i)return c;if(3===y||6===y)g=!0;else{if(1===y||2===y){let E=s[++c];for(;"string"==typeof E;)E=s[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=g?1:2}return-1}return function av(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const u=i[o];if("number"==typeof u)return-1;if(u===s)return o;o++}return-1}(s,i)}function Vg(i,s,o=!1){for(let u=0;u<s.length;u++)if(PC(i,s[u],o))return!0;return!1}function kC(i,s){e:for(let o=0;o<s.length;o++){const u=s[o];if(i.length===u.length){for(let c=0;c<i.length;c++)if(i[c]!==u[c])continue e;return!0}}return!1}function uh(i,s){return i?":not("+s.trim()+")":s}function FC(i){let s=i[0],o=1,u=2,c="",g=!1;for(;o<i.length;){let y=i[o];if("string"==typeof y)if(2&u){const E=i[++o];c+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?c+="."+y:4&u&&(c+=" "+y);else""!==c&&!Ms(y)&&(s+=uh(g,c),c=""),u=y,g=g||!Ms(u);o++}return""!==c&&(s+=uh(g,c)),s}const xt={};function lh(i){Ug(Vt(),ke(),Dr()+i,ga())}function Ug(i,s,o,u){if(!u)if(3==(3&s[2])){const g=i.preOrderCheckHooks;null!==g&&yo(s,g,o)}else{const g=i.preOrderHooks;null!==g&&ac(s,g,0,o)}ci(o)}function Bf(i,s){return i<<17|s<<2}function ta(i){return i>>17&32767}function lv(i){return 2|i}function Cu(i){return(131068&i)>>2}function Bg(i,s){return-131069&i|s<<2}function cv(i){return 1|i}const _v=(()=>Promise.resolve(null))();function k0(i,s){const o=i.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const c=o[u],g=o[u+1];if(-1!==g){const y=i.data[g];_a(c),y.contentQueries(2,s[g],g)}}}function jc(i,s,o,u,c,g,y,E,C,M){const O=s.blueprint.slice();return O[0]=c,O[2]=140|u,Sn(O),O[3]=O[15]=i,O[8]=o,O[10]=y||i&&i[10],O[11]=E||i&&i[11],O[12]=C||i&&i[12]||null,O[9]=M||i&&i[9]||null,O[6]=g,O[16]=2==s.type?i[16]:O,O}function hh(i,s,o,u,c){let g=i.data[s];if(null===g)g=qg(i,s,o,u,c),function Gu(){return rt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=o,g.value=u,g.attrs=c;const y=Zs();g.injectorIndex=null===y?-1:y.injectorIndex}return Ji(g,!0),g}function qg(i,s,o,u,c){const g=Ks(),y=Lo(),C=i.data[s]=function XC(i,s,o,u,c,g){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,o,s,u,c);return null===i.firstChild&&(i.firstChild=C),null!==g&&(y?null==g.child&&null!==C.parent&&(g.child=C):null===g.next&&(g.next=C)),C}function bu(i,s,o,u){if(0===o)return-1;const c=s.length;for(let g=0;g<o;g++)s.push(u),i.blueprint.push(u),i.data.push(null);return c}function Kf(i,s,o){Ea(s);try{const u=i.viewQuery;null!==u&&Zf(1,u,o);const c=i.template;null!==c&&F0(i,s,c,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&k0(i,s),i.staticViewQueries&&Zf(2,i.viewQuery,o);const g=i.components;null!==g&&function YC(i,s){for(let o=0;o<s.length;o++)Zg(i,s[o])}(s,g)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,Ku()}}function fh(i,s,o,u){const c=s[2];if(256==(256&c))return;Ea(s);const g=ga();try{Sn(s),Vo(i.bindingStartIndex),null!==o&&F0(i,s,o,2,u);const y=3==(3&c);if(!g)if(y){const M=i.preOrderCheckHooks;null!==M&&yo(s,M,null)}else{const M=i.preOrderHooks;null!==M&&ac(s,M,0,null),uu(s,0)}if(function cD(i){for(let s=ml(i);null!==s;s=yl(s)){if(!s[2])continue;const o=s[9];for(let u=0;u<o.length;u++){const c=o[u],g=c[3];0==(1024&c[2])&&un(g,1),c[2]|=1024}}}(s),function lD(i){for(let s=ml(i);null!==s;s=yl(s))for(let o=10;o<s.length;o++){const u=s[o],c=u[1];zt(u)&&fh(c,u,c.template,u[8])}}(s),null!==i.contentQueries&&k0(i,s),!g)if(y){const M=i.contentCheckHooks;null!==M&&yo(s,M)}else{const M=i.contentHooks;null!==M&&ac(s,M,1),uu(s,1)}!function ZC(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)ci(~c);else{const g=c,y=o[++u],E=o[++u];qu(y,g),E(2,s[g])}}}finally{ci(-1)}}(i,s);const E=i.components;null!==E&&function QC(i,s){for(let o=0;o<s.length;o++)jr(i,s[o])}(s,E);const C=i.viewQuery;if(null!==C&&Zf(2,C,u),!g)if(y){const M=i.viewCheckHooks;null!==M&&yo(s,M)}else{const M=i.viewHooks;null!==M&&ac(s,M,2),uu(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),g||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,un(s[3],-1))}finally{Ku()}}function zg(i,s,o,u){const c=s[10],g=!ga(),y=Ot(s);try{g&&!y&&c.begin&&c.begin(),y&&Kf(i,s,u),fh(i,s,o,u)}finally{g&&!y&&c.end&&c.end()}}function F0(i,s,o,u,c){const g=Dr(),y=2&u;try{ci(-1),y&&s.length>20&&Ug(i,s,20,ga()),kr(y?2:0,c),o(u,c)}finally{ci(g),kr(y?3:1,c)}}function ph(i,s,o){if(Za(s)){const c=s.directiveEnd;for(let g=s.directiveStart;g<c;g++){const y=i.data[g];y.contentQueries&&y.contentQueries(1,o[g],g)}}}function Ev(i,s,o){!Yi()||(function rD(i,s,o,u){const c=o.directiveStart,g=o.directiveEnd;i.firstCreatePass||ba(o,s),Yr(u,s);const y=o.initialInputs;for(let E=c;E<g;E++){const C=i.data[E],M=Ni(C);M&&bv(s,o,C);const O=Fr(s,i,E,o);Yr(O,s),null!==y&&aD(0,E-c,O,C,0,y),M&&(We(o.index,s)[8]=O)}}(i,s,o,k(o,s)),128==(128&o.flags)&&function iD(i,s,o){const u=o.directiveStart,c=o.directiveEnd,y=o.index,E=function su(){return rt.lFrame.currentDirectiveIndex}();try{ci(y);for(let C=u;C<c;C++){const M=i.data[C],O=s[C];Uo(C),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&G0(M,O)}}finally{ci(-1),Uo(E)}}(i,s,o))}function Iv(i,s,o=k){const u=s.localNames;if(null!==u){let c=s.index+1;for(let g=0;g<u.length;g+=2){const y=u[g+1],E=-1===y?o(s,i):i[y];i[c++]=E}}}function gh(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Wg(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Wg(i,s,o,u,c,g,y,E,C,M){const O=20+u,U=O+c,K=function JC(i,s){const o=[];for(let u=0;u<s;u++)o.push(u<i?null:xt);return o}(O,U),ee="function"==typeof M?M():M;return K[1]={type:i,blueprint:K,template:o,queries:null,viewQuery:E,declTNode:s,data:K.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:ee,incompleteFirstPass:!1}}function V0(i,s,o){if(Zt(i))return i.selectRootElement(s,o===$t.ShadowDom);let u="string"==typeof s?i.querySelector(s):s;return u.textContent="",u}function U0(i,s,o,u){const c=Rv(s);null===o?c.push(u):(c.push(o),i.firstCreatePass&&J0(i).push(u,c.length-1))}function j0(i,s,o){for(let u in i)if(i.hasOwnProperty(u)){const c=i[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(s,c):o[u]=[s,c]}return o}function ro(i,s,o,u,c,g,y,E){const C=k(s,o);let O,M=s.inputs;!E&&null!=M&&(O=M[u])?(eI(i,o,O,u,c),qn(s)&&function tD(i,s){const o=We(s,i);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(u=function B0(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),c=null!=y?y(c,s.value||"",u):c,Zt(g)?g.setProperty(C,u,c):_o(u)||(C.setProperty?C.setProperty(u,c):C[u]=c))}function Kg(i,s,o,u){let c=!1;if(Yi()){const g=function sD(i,s,o){const u=i.directiveRegistry;let c=null;if(u)for(let g=0;g<u.length;g++){const y=u[g];Vg(o,y.selectors,!1)&&(c||(c=[]),Ta(ba(o,s),i,y.type),Ni(y)?(q0(i,o),c.unshift(y)):c.push(y))}return c}(i,s,o),y=null===u?null:{"":-1};if(null!==g){c=!0,z0(o,i.data.length,g.length);for(let O=0;O<g.length;O++){const U=g[O];U.providersResolver&&U.providersResolver(U)}let E=!1,C=!1,M=bu(i,s,g.length,null);for(let O=0;O<g.length;O++){const U=g[O];o.mergedAttrs=br(o.mergedAttrs,U.hostAttrs),W0(i,o,s,M,U),oD(M,U,y),null!==U.contentQueries&&(o.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(o.flags|=128);const K=U.type.prototype;!E&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),E=!0),!C&&(K.ngOnChanges||K.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),C=!0),M++}!function eD(i,s){const u=s.directiveEnd,c=i.data,g=s.attrs,y=[];let E=null,C=null;for(let M=s.directiveStart;M<u;M++){const O=c[M],U=O.inputs,K=null===g||Cl(s)?null:uD(U,g);y.push(K),E=j0(U,M,E),C=j0(O.outputs,M,C)}null!==E&&(E.hasOwnProperty("class")&&(s.flags|=16),E.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=E,s.outputs=C}(i,o)}y&&function Dv(i,s,o){if(s){const u=i.localNames=[];for(let c=0;c<s.length;c+=2){const g=o[s[c+1]];if(null==g)throw new pe(-301,`Export of name '${s[c+1]}' not found!`);u.push(s[c],g)}}}(o,u,y)}return o.mergedAttrs=br(o.mergedAttrs,o.attrs),c}function Cv(i,s,o,u,c,g){const y=g.hostBindings;if(y){let E=i.hostBindingOpCodes;null===E&&(E=i.hostBindingOpCodes=[]);const C=~s.index;(function H0(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(E)!=C&&E.push(C),E.push(u,c,y)}}function G0(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function q0(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function oD(i,s,o){if(o){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)o[s.exportAs[u]]=i;Ni(s)&&(o[""]=i)}}function z0(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}function W0(i,s,o,u,c){i.data[u]=c;const g=c.factory||(c.factory=ys(c.type)),y=new jn(g,Ni(c),null);i.blueprint[u]=y,o[u]=y,Cv(i,s,0,u,bu(i,o,c.hostVars,xt),c)}function bv(i,s,o){const u=k(s,i),c=gh(o),g=i[10],y=Fa(i,jc(i,c,null,o.onPush?64:16,u,s,g,g.createRenderer(u,o),null,null));i[s.index]=y}function ra(i,s,o,u,c,g){const y=k(i,s);Tv(s[11],y,g,i.value,o,u,c)}function Tv(i,s,o,u,c,g,y){if(null==g)Zt(i)?i.removeAttribute(s,c,o):s.removeAttribute(c);else{const E=null==y?Z(g):y(g,u||"",c);Zt(i)?i.setAttribute(s,c,E,o):o?s.setAttributeNS(o,c,E):s.setAttribute(c,E)}}function aD(i,s,o,u,c,g){const y=g[s];if(null!==y){const E=u.setInput;for(let C=0;C<y.length;){const M=y[C++],O=y[C++],U=y[C++];null!==E?u.setInput(o,U,M,O):o[O]=U}}}function uD(i,s){let o=null,u=0;for(;u<s.length;){const c=s[u];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,i[c],s[u+1])),u+=2}else u+=2;else u+=4}return o}function Sv(i,s,o,u){return new Array(i,!0,!1,s,null,0,u,o,null,null)}function jr(i,s){const o=We(s,i);if(zt(o)){const u=o[1];80&o[2]?fh(u,o,u.template,o[8]):o[5]>0&&Av(o)}}function Av(i){for(let u=ml(i);null!==u;u=yl(u))for(let c=10;c<u.length;c++){const g=u[c];if(1024&g[2]){const y=g[1];fh(y,g,y.template,g[8])}else g[5]>0&&Av(g)}const o=i[1].components;if(null!==o)for(let u=0;u<o.length;u++){const c=We(o[u],i);zt(c)&&c[5]>0&&Av(c)}}function Zg(i,s){const o=We(s,i),u=o[1];(function Mv(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(u,o),Kf(u,o,o[8])}function Fa(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function bl(i){for(;i;){i[2]|=64;const s=Pc(i);if(ju(i)&&!s)return i;i=s}return null}function xv(i){for(let s=0;s<i.components.length;s++){const o=i.components[s],u=Xd(o),c=u[1];zg(c,u,c.template,o)}}function Qg(i,s,o){const u=s[10];u.begin&&u.begin();try{fh(i,s,i.template,o)}catch(c){throw Ov(s,c),c}finally{u.end&&u.end()}}function Z0(i){xv(i[8])}function Zf(i,s,o){_a(0),s(i,o)}const Bc=_v;function Rv(i){return i[7]||(i[7]=[])}function J0(i){return i.cleanup||(i.cleanup=[])}function X0(i,s,o){return(null===i||Ni(i))&&(o=function S(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(o[s.index])),o[11]}function Ov(i,s){const o=i[9],u=o?o.get(Rc,null):null;u&&u.handleError(s)}function eI(i,s,o,u,c){for(let g=0;g<o.length;){const y=o[g++],E=o[g++],C=s[y],M=i.data[y];null!==M.setInput?M.setInput(C,c,u,E):C[E]=c}}function Tu(i,s,o){const u=T(s,i);Lf(i[11],u,o)}function Yg(i,s,o){let u=o?i.styles:null,c=o?i.classes:null,g=0;if(null!==s)for(let y=0;y<s.length;y++){const E=s[y];"number"==typeof E?g=E:1==g?c=ce(c,E):2==g&&(u=ce(u,E+": "+s[++y]+";"))}o?i.styles=u:i.stylesWithoutHost=u,o?i.classes=c:i.classesWithoutHost=c}function Nv(i){const s=Ss(i);Qg(s[1],s,i)}function tI(i){!function K0(i,s){if(0===i.flags&&i.clean==_v){let u;i.flags|=s,i.clean=new Promise(c=>u=c),i.scheduler(()=>{if(1&i.flags&&(i.flags&=-2,xv(i)),2&i.flags){i.flags&=-3;const c=i.playerHandler;c&&c.flushPlayers()}i.clean=_v,u(null)})}}(bl(Ss(i))[8],1)}const Jg=new In("INJECTOR",-1);class Xg{get(s,o=Vr){if(o===Vr){const u=new Error(`NullInjectorError: No provider for ${ae(s)}!`);throw u.name="NullInjectorError",u}return o}}const Pv=new In("Set Injector scope."),Qf={},nI={};let kv;function dD(){return void 0===kv&&(kv=new Xg),kv}function Fv(i,s=null,o=null,u){const c=em(i,s,o,u);return c._resolveInjectorDefTypes(),c}function em(i,s=null,o=null,u){return new hD(i,o,s||dD(),u)}class hD{constructor(s,o,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];o&&ws(o,E=>this.processProvider(E,s,o)),ws([s],E=>this.processInjectorType(E,[],g)),this.records.set(Jg,xs(void 0,this));const y=this.records.get(Pv);this.scope=null!=y?y.value:null,this.source=c||("object"==typeof s?null:ae(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=Vr,u=ct.Default){this.assertNotDestroyed();const c=N(this),g=Yn(void 0);try{if(!(u&ct.SkipSelf)){let E=this.records.get(s);if(void 0===E){const C=function jv(i){return"function"==typeof i||"object"==typeof i&&i instanceof In}(s)&&bn(s);E=C&&this.injectableDefInScope(C)?xs(Lv(s),Qf):null,this.records.set(s,E)}if(null!=E)return this.hydrate(s,E)}return(u&ct.Self?dD():this.parent).get(s,o=u&ct.Optional&&o===Vr?null:o)}catch(y){if("NullInjectorError"===y.name){if((y[wo]=y[wo]||[]).unshift(ae(s)),c)throw y;return function ln(i,s,o,u){const c=i[wo];throw s[yc]&&c.unshift(s[yc]),i.message=function Tr(i,s,o,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=ae(s);if(Array.isArray(s))c=s.map(ae).join(" -> ");else if("object"==typeof s){let g=[];for(let y in s)if(s.hasOwnProperty(y)){let E=s[y];g.push(y+":"+("string"==typeof E?JSON.stringify(E):ae(E)))}c=`{${g.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${i.replace(mc,"\n  ")}`}("\n"+i.message,c,o,u),i.ngTokenPath=c,i[wo]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{Yn(g),N(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,c)=>s.push(ae(c))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,"")}processInjectorType(s,o,u){if(!(s=X(s)))return!1;let c=cs(s);const g=null==c&&s.ngModule||void 0,y=void 0===g?s:g,E=-1!==u.indexOf(y);if(void 0!==g&&(c=cs(g)),null==c)return!1;if(null!=c.imports&&!E){let O;u.push(y);try{ws(c.imports,U=>{this.processInjectorType(U,o,u)&&(void 0===O&&(O=[]),O.push(U))})}finally{}if(void 0!==O)for(let U=0;U<O.length;U++){const{ngModule:K,providers:ee}=O[U];ws(ee,Se=>this.processProvider(Se,K,ee||G))}}this.injectorDefTypes.add(y);const C=ys(y)||(()=>new y);this.records.set(y,xs(C,Qf));const M=c.providers;if(null!=M&&!E){const O=s;ws(M,U=>this.processProvider(U,O,M))}return void 0!==g&&void 0!==s.providers}processProvider(s,o,u){let c=Su(s=X(s))?s:X(s&&s.provide);const g=function fD(i,s,o){return ot(i)?xs(void 0,i.useValue):xs(rI(i),Qf)}(s);if(Su(s)||!0!==s.multi)this.records.get(c);else{let y=this.records.get(c);y||(y=xs(void 0,Qf,!0),y.factory=()=>Je(y.multi),this.records.set(c,y)),c=s,y.multi.push(s)}this.records.set(c,g)}hydrate(s,o){return o.value===Qf&&(o.value=nI,o.value=o.factory()),"object"==typeof o.value&&o.value&&function pD(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=X(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Lv(i){const s=bn(i),o=null!==s?s.factory:ys(i);if(null!==o)return o;if(i instanceof In)throw new pe(204,"");if(i instanceof Function)return function CT(i){const s=i.length;if(s>0)throw Ds(s,"?"),new pe(204,"");const o=function nn(i){const s=i&&(i[Ar]||i[Fe]);if(s){const o=function Qt(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new pe(204,"")}function rI(i,s,o){let u;if(Su(i)){const c=X(i);return ys(c)||Lv(c)}if(ot(i))u=()=>X(i.useValue);else if(function Ft(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...Je(i.deps||[]));else if(function Vv(i){return!(!i||!i.useExisting)}(i))u=()=>Y(X(i.useExisting));else{const c=X(i&&(i.useClass||i.provide));if(!function Yf(i){return!!i.deps}(i))return ys(c)||Lv(c);u=()=>new c(...Je(i.deps))}return u}function xs(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function ot(i){return null!==i&&"object"==typeof i&&D in i}function Su(i){return"function"==typeof i}let io=(()=>{class i{static create(o,u){var c;if(Array.isArray(o))return Fv({name:""},u,o,"");{const g=null!==(c=o.name)&&void 0!==c?c:"";return Fv({name:g},o.parent,o.providers,g)}}}return i.THROW_IF_NOT_FOUND=Vr,i.NULL=new Xg,i.\u0275prov=tn({token:i,providedIn:"any",factory:()=>Y(Jg)}),i.__NG_ELEMENT_ID__=-1,i})();function Bv(i){Xf(i);const s=bi(i);return null===s?null:(void 0===s.component&&(s.component=function Xy(i,s){const o=s[1].data[i];return 2&o.flags?s[o.directiveStart]:null}(s.nodeIndex,s.lView)),s.component)}function iI(i){Xf(i);const s=bi(i);return null===s?null:s.lView[8]}function fi(i){const s=bi(i);if(null===s)return null;let u,o=s.lView;for(;2===o[1].type&&(u=Pc(o));)o=u;return 512&o[2]?null:o[8]}function Jf(i){return[...Bn(i).components]}function pi(i){const s=bi(i);return null===s?io.NULL:new $o(s.lView[1].data[s.nodeIndex],s.lView)}function sI(i){if(i instanceof Text)return[];const s=bi(i);if(null===s)return[];const o=s.lView,u=o[1],c=s.nodeIndex;return(null==u?void 0:u.data[c])?(void 0===s.directives&&(s.directives=Mf(c,o,!1)),null===s.directives?[]:[...s.directives]):[]}function gD(i){const{constructor:s}=i;if(!s)throw new Error("Unable to find the instance constructor");const o=Tn(s);if(o)return{inputs:o.inputs,outputs:o.outputs,encapsulation:o.encapsulation,changeDetection:o.onPush?Cn.OnPush:Cn.Default};const u=kt(s);return u?{inputs:u.inputs,outputs:u.outputs}:null}function tm(i){return bi(i).native}function $v(i){Xf(i);const s=bi(i);if(null===s)return[];const o=s.lView,c=o[7],g=o[1].cleanup,y=[];if(g&&c)for(let E=0;E<g.length;){const C=g[E++],M=g[E++];if("string"==typeof C){const O=C,U=vn(o[M]),K=c[g[E++]],ee=g[E++],Se="boolean"==typeof ee||ee>=0?"dom":"output",Ge="boolean"==typeof ee&&ee;i==U&&y.push({element:i,name:O,callback:K,useCapture:Ge,type:Se})}}return y.sort(Hv),y}function Hv(i,s){return i.name==s.name?0:i.name<s.name?-1:1}function nm(i){return void 0!==i.type&&void 0!==i.template&&void 0!==i.declaredInputs}function Xf(i){if("undefined"!=typeof Element&&!(i instanceof Element))throw new Error("Expecting instance of DOM Element")}function is(i){tI(i),Jf(i).forEach(s=>Nv(s))}let qv=!1;function zv(){qv||(qv=!0,so("\u0275setProfiler",go),so("getDirectiveMetadata",gD),so("getComponent",Bv),so("getContext",iI),so("getListeners",$v),so("getOwningComponent",fi),so("getHostElement",tm),so("getInjector",pi),so("getRootComponents",Jf),so("getDirectives",sI),so("applyChanges",is))}function so(i,s){if("undefined"==typeof COMPILED||!COMPILED){const o=vt;if(o){let u=o.ng;u||(u=o.ng={}),u[i]=s}}}function aI(i,s={}){const o=s.rendererFactory||Zi,u=s.sanitizer||null,c=Tn(i);c.type!=i&&(c.type=i);const g=c.selectors[0][0],E=V0(o.createRenderer(null,null),s.host||g,c.encapsulation),C=c.onPush?576:528,M=lI(s.scheduler,s.playerHandler),O=o.createRenderer(E,c),U=Wg(0,null,null,1,0,null,null,null,null,null),K=jc(null,U,M,C,null,null,o,O,null,s.injector||null);let ee;Ea(K);try{o.begin&&o.begin(),ee=uI(rm(E,c,K,o,O,u),c,K,M,s.hostFeatures||null),Kf(U,K,null),fh(U,K,null,null)}finally{Ku(),o.end&&o.end()}return ee}function rm(i,s,o,u,c,g){const y=o[1];o[20]=i;const C=hh(y,20,2,"#host",null),M=C.mergedAttrs=s.hostAttrs;null!==M&&(Yg(C,M,!0),null!==i&&(lu(c,i,M),null!==C.classes&&ea(c,i,C.classes),null!==C.styles&&Lg(c,i,C.styles)));const O=u.createRenderer(i,s),U=jc(o,gh(s),null,s.onPush?64:16,o[20],C,u,O,g||null,null);return y.firstCreatePass&&(Ta(ba(C,o),y,s.type),q0(y,C),z0(C,o.length,1)),Fa(o,U),o[20]=U}function uI(i,s,o,u,c){const g=o[1],y=function $0(i,s,o){const u=An();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),W0(i,u,s,bu(i,s,1,null),o));const c=Fr(s,i,u.directiveStart,u);Yr(c,s);const g=k(u,s);return g&&Yr(g,s),c}(g,o,s);if(u.components.push(y),i[8]=y,c&&c.forEach(C=>C(y,s)),s.contentQueries){const C=An();s.contentQueries(1,y,C.directiveStart)}const E=An();return!g.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(ci(E.index),Cv(o[1],E,0,E.directiveStart,E.directiveEnd,s),G0(s,y)),y}function lI(i,s){return{components:[],scheduler:i||ih,clean:Bc,playerHandler:s||null,flags:0}}function $c(i,s){oc(Xd(i)[1],An())}function cI(i){return Bn(i).clean}function im(i){return Object.getPrototypeOf(i.prototype).constructor}function sm(i){let s=im(i.type),o=!0;const u=[i];for(;s;){let c;if(Ni(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new pe(903,"");c=s.\u0275dir}if(c){if(o){u.push(c);const y=i;y.inputs=om(i.inputs),y.declaredInputs=om(i.declaredInputs),y.outputs=om(i.outputs);const E=c.hostBindings;E&&Kv(i,E);const C=c.viewQuery,M=c.contentQueries;if(C&&am(i,C),M&&Wv(i,M),ue(i.inputs,c.inputs),ue(i.declaredInputs,c.declaredInputs),ue(i.outputs,c.outputs),Ni(c)&&c.data.animation){const O=i.data;O.animation=(O.animation||[]).concat(c.data.animation)}}const g=c.features;if(g)for(let y=0;y<g.length;y++){const E=g[y];E&&E.ngInherit&&E(i),E===sm&&(o=!1)}}s=Object.getPrototypeOf(s)}!function vD(i){let s=0,o=null;for(let u=i.length-1;u>=0;u--){const c=i[u];c.hostVars=s+=c.hostVars,c.hostAttrs=br(c.hostAttrs,o=br(o,c.hostAttrs))}}(u)}function om(i){return i===Oi?{}:i===G?[]:i}function am(i,s){const o=i.viewQuery;i.viewQuery=o?(u,c)=>{s(u,c),o(u,c)}:s}function Wv(i,s){const o=i.contentQueries;i.contentQueries=o?(u,c,g)=>{s(u,c,g),o(u,c,g)}:s}function Kv(i,s){const o=i.hostBindings;i.hostBindings=o?(u,c)=>{s(u,c),o(u,c)}:s}const Zv=["providersResolver"],_D=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function dI(i){let o,s=im(i.type);o=Ni(i)?s.\u0275cmp:s.\u0275dir;const u=i;for(const c of Zv)u[c]=o[c];if(Ni(o))for(const c of _D)u[c]=o[c]}let mh=null;function Hc(){if(!mh){const i=vt.Symbol;if(i&&i.iterator)mh=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const u=s[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(mh=u)}}}return mh}function hI(i,s){const o=ep(i),u=ep(s);return o&&u?function ji(i,s,o){const u=i[Hc()](),c=s[Hc()]();for(;;){const g=u.next(),y=c.next();if(g.done&&y.done)return!0;if(g.done||y.done||!o(g.value,y.value))return!1}}(i,s,hI):!(o||!i||"object"!=typeof i&&"function"!=typeof i||u||!s||"object"!=typeof s&&"function"!=typeof s)||Object.is(i,s)}function ep(i){return!!Qv(i)&&(Array.isArray(i)||!(i instanceof Map)&&Hc()in i)}function Qv(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Os(i,s,o){return i[s]=o}function np(i,s){return i[s]}function Bi(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function La(i,s,o,u){const c=Bi(i,s,o);return Bi(i,s+1,u)||c}function Gc(i,s,o,u,c){const g=La(i,s,o,u);return Bi(i,s+2,c)||g}function Ns(i,s,o,u,c,g){const y=La(i,s,o,u);return La(i,s+2,c,g)||y}function rp(i,s,o,u){const c=ke();return Bi(c,Qs(),s)&&(Vt(),ra(Mn(),c,i,s,o,u)),rp}function Sl(i,s){let o=!1,u=Xi();for(let g=1;g<s.length;g+=2)o=Bi(i,u++,s[g])||o;if(Vo(u),!o)return xt;let c=s[0];for(let g=1;g<s.length;g+=2)c+=Z(s[g])+s[g+1];return c}function Al(i,s,o,u){return Bi(i,Qs(),o)?s+Z(o)+u:xt}function qc(i,s,o,u,c,g){const E=La(i,Xi(),o,c);return Li(2),E?s+Z(o)+u+Z(c)+g:xt}function zc(i,s,o,u,c,g,y,E){const M=Gc(i,Xi(),o,c,y);return Li(3),M?s+Z(o)+u+Z(c)+g+Z(y)+E:xt}function yh(i,s,o,u,c,g,y,E,C,M){const U=Ns(i,Xi(),o,c,y,C);return Li(4),U?s+Z(o)+u+Z(c)+g+Z(y)+E+Z(C)+M:xt}function Wc(i,s,o,u,c,g,y,E,C,M,O,U){const K=Xi();let ee=Ns(i,K,o,c,y,C);return ee=Bi(i,K+4,O)||ee,Li(5),ee?s+Z(o)+u+Z(c)+g+Z(y)+E+Z(C)+M+Z(O)+U:xt}function Kc(i,s,o,u,c,g,y,E,C,M,O,U,K,ee){const Se=Xi();let Ge=Ns(i,Se,o,c,y,C);return Ge=La(i,Se+4,O,K)||Ge,Li(6),Ge?s+Z(o)+u+Z(c)+g+Z(y)+E+Z(C)+M+Z(O)+U+Z(K)+ee:xt}function Ml(i,s,o,u,c,g,y,E,C,M,O,U,K,ee,Se,Ge){const Ze=Xi();let st=Ns(i,Ze,o,c,y,C);return st=Gc(i,Ze+4,O,K,Se)||st,Li(7),st?s+Z(o)+u+Z(c)+g+Z(y)+E+Z(C)+M+Z(O)+U+Z(K)+ee+Z(Se)+Ge:xt}function Zc(i,s,o,u,c,g,y,E,C,M,O,U,K,ee,Se,Ge,Ze,st){const Ne=Xi();let Dt=Ns(i,Ne,o,c,y,C);return Dt=Ns(i,Ne+4,O,K,Se,Ze)||Dt,Li(8),Dt?s+Z(o)+u+Z(c)+g+Z(y)+E+Z(C)+M+Z(O)+U+Z(K)+ee+Z(Se)+Ge+Z(Ze)+st:xt}function Yv(i,s,o,u,c,g){const y=ke(),E=Al(y,s,o,u);return E!==xt&&ra(Mn(),y,i,E,c,g),Yv}function ip(i,s,o,u,c,g,y,E){const C=ke(),M=qc(C,s,o,u,c,g);return M!==xt&&ra(Mn(),C,i,M,y,E),ip}function sp(i,s,o,u,c,g,y,E,C,M){const O=ke(),U=zc(O,s,o,u,c,g,y,E);return U!==xt&&ra(Mn(),O,i,U,C,M),sp}function op(i,s,o,u,c,g,y,E,C,M,O,U){const K=ke(),ee=yh(K,s,o,u,c,g,y,E,C,M);return ee!==xt&&ra(Mn(),K,i,ee,O,U),op}function Br(i,s,o,u,c,g,y,E,C,M,O,U,K,ee){const Se=ke(),Ge=Wc(Se,s,o,u,c,g,y,E,C,M,O,U);return Ge!==xt&&ra(Mn(),Se,i,Ge,K,ee),Br}function Jr(i,s,o,u,c,g,y,E,C,M,O,U,K,ee,Se,Ge){const Ze=ke(),st=Kc(Ze,s,o,u,c,g,y,E,C,M,O,U,K,ee);return st!==xt&&ra(Mn(),Ze,i,st,Se,Ge),Jr}function vh(i,s,o,u,c,g,y,E,C,M,O,U,K,ee,Se,Ge,Ze,st){const Ne=ke(),Dt=Ml(Ne,s,o,u,c,g,y,E,C,M,O,U,K,ee,Se,Ge);return Dt!==xt&&ra(Mn(),Ne,i,Dt,Ze,st),vh}function ap(i,s,o,u,c,g,y,E,C,M,O,U,K,ee,Se,Ge,Ze,st,Ne,Dt){const jt=ke(),Jt=Zc(jt,s,o,u,c,g,y,E,C,M,O,U,K,ee,Se,Ge,Ze,st);return Jt!==xt&&ra(Mn(),jt,i,Jt,Ne,Dt),ap}function Jv(i,s,o,u){const c=ke(),g=Sl(c,s);return g!==xt&&ra(Mn(),c,i,g,o,u),Jv}function Xv(i,s,o,u,c,g,y,E){const C=ke(),M=Vt(),O=i+20,U=M.firstCreatePass?function ED(i,s,o,u,c,g,y,E,C){const M=s.consts,O=hh(s,i,4,y||null,Mt(M,E));Kg(s,o,O,Mt(M,C)),oc(s,O);const U=O.tViews=Wg(2,O,u,c,g,s.directiveRegistry,s.pipeRegistry,null,s.schemas,M);return null!==s.queries&&(s.queries.template(s,O),U.queries=s.queries.embeddedTView(O)),O}(O,M,C,s,o,u,c,g,y):M.data[O];Ji(U,!1);const K=C[11].createComment("");Fc(M,C,K,U),Yr(K,C),Fa(C,C[O]=Sv(K,C,K,U)),zi(U)&&Ev(M,C,U),null!=y&&Iv(C,U,E)}function fI(i,s,o,u){o>=i.data.length&&(i.data[o]=null,i.blueprint[o]=null),s[o]=u}function pI(i){return Pe(function Hu(){return rt.lFrame.contextLView}(),20+i)}const um={\u0275\u0275defineInjectable:tn,\u0275\u0275defineInjector:yi,\u0275\u0275inject:Y,\u0275\u0275invalidFactoryDep:de,resolveForwardRef:X};const ID=fe({provide:String,useValue:fe});function lm(i){return void 0!==i.useClass}function mI(i){return void 0!==i.useFactory}const n_=Ho("Injectable",void 0,void 0,void 0,(i,s)=>function e_(i,s){let o=null,u=null;i.hasOwnProperty(Ar)||Object.defineProperty(i,Ar,{get:()=>(null===o&&(o=er().compileInjectable(um,`ng:///${i.name}/\u0275prov.js`,function t_(i,s){const o=s||{providedIn:null},u={name:i.name,type:i,typeArgumentCount:0,providedIn:o.providedIn};return(lm(o)||mI(o))&&void 0!==o.deps&&(u.deps=ul(o.deps)),lm(o)?u.useClass=o.useClass:function gI(i){return ID in i}(o)?u.useValue=o.useValue:mI(o)?u.useFactory=o.useFactory:function cm(i){return void 0!==i.useExisting}(o)&&(u.useExisting=o.useExisting),u}(i,s))),o)}),i.hasOwnProperty(Qe)||Object.defineProperty(i,Qe,{get:()=>{if(null===u){const c=er();u=c.compileFactory(um,`ng:///${i.name}/\u0275fac.js`,{name:i.name,type:i,typeArgumentCount:0,deps:Na(i),target:c.FactoryTarget.Injectable})}return u},configurable:!0})}(i,s));function r_(i){return i.length>1?" ("+function yI(i){const s=[];for(let o=0;o<i.length;++o){if(s.indexOf(i[o])>-1)return s.push(i[o]),s;s.push(i[o])}return s}(i.slice().reverse()).map(u=>ae(u.token)).join(" -> ")+")":""}function Qc(i,s,o,u){const c=[s],g=o(c),y=u?function ka(i,s){const o=`${i} caused by: ${s instanceof Error?s.message:s}`,u=Error(o);return u[nh]=s,u}(g,u):Error(g);return y.addKey=vI,y.keys=c,y.injectors=[i],y.constructResolvingMessage=o,y[nh]=u,y}function vI(i,s){this.injectors.push(i),this.keys.push(s),this.message=this.constructResolvingMessage(this.keys)}function II(i,s){const o=[];for(let u=0,c=s.length;u<c;u++){const g=s[u];o.push(g&&0!=g.length?g.map(ae).join(" "):"?")}return Error("Cannot resolve all parameters for '"+ae(i)+"'("+o.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+ae(i)+"' is decorated with Injectable.")}function CD(i,s){return Error(`Cannot mix multi providers and regular providers, got: ${i} ${s}`)}class Au{constructor(s,o){if(this.token=s,this.id=o,!s)throw new Error("Token must be defined!");this.displayName=ae(this.token)}static get(s){return i_.get(X(s))}static get numberOfKeys(){return i_.numberOfKeys}}class Yc{constructor(){this._allKeys=new Map}get(s){if(s instanceof Au)return s;if(this._allKeys.has(s))return this._allKeys.get(s);const o=new Au(s,Au.numberOfKeys);return this._allKeys.set(s,o),o}get numberOfKeys(){return this._allKeys.size}}const i_=new Yc;class hm{constructor(s){this.reflectionCapabilities=s}updateCapabilities(s){this.reflectionCapabilities=s}factory(s){return this.reflectionCapabilities.factory(s)}parameters(s){return this.reflectionCapabilities.parameters(s)}annotations(s){return this.reflectionCapabilities.annotations(s)}propMetadata(s){return this.reflectionCapabilities.propMetadata(s)}hasLifecycleHook(s,o){return this.reflectionCapabilities.hasLifecycleHook(s,o)}getter(s){return this.reflectionCapabilities.getter(s)}setter(s){return this.reflectionCapabilities.setter(s)}method(s){return this.reflectionCapabilities.method(s)}importUri(s){return this.reflectionCapabilities.importUri(s)}resourceUri(s){return this.reflectionCapabilities.resourceUri(s)}resolveIdentifier(s,o,u,c){return this.reflectionCapabilities.resolveIdentifier(s,o,u,c)}resolveEnum(s,o){return this.reflectionCapabilities.resolveEnum(s,o)}}const s_=new hm(new Io);class xl{constructor(s,o,u){this.key=s,this.optional=o,this.visibility=u}static fromKey(s){return new xl(s,!1,null)}}const wI=[];class $i{constructor(s,o,u){this.key=s,this.resolvedFactories=o,this.multiProvider=u,this.resolvedFactory=this.resolvedFactories[0]}}class o_{constructor(s,o){this.factory=s,this.dependencies=o}}function up(i){let s,o;if(i.useClass){const u=X(i.useClass);s=s_.factory(u),o=Eh(u)}else i.useExisting?(s=u=>u,o=[xl.fromKey(Au.get(i.useExisting))]):i.useFactory?(s=i.useFactory,o=function DI(i,s){if(s){const o=s.map(u=>[u]);return s.map(u=>pm(i,u,o))}return Eh(i)}(i.useFactory,i.deps)):(s=()=>i.useValue,o=wI);return new o_(s,o)}function fm(i){return new $i(Au.get(i.provide),[up(i)],i.multi||!1)}function CI(i){const u=function a_(i,s){for(let o=0;o<i.length;o++){const u=i[o],c=s.get(u.key.id);if(c){if(u.multiProvider!==c.multiProvider)throw CD(c,u);if(u.multiProvider)for(let g=0;g<u.resolvedFactories.length;g++)c.resolvedFactories.push(u.resolvedFactories[g]);else s.set(u.key.id,u)}else{let g;g=u.multiProvider?new $i(u.key,u.resolvedFactories.slice(),u.multiProvider):u,s.set(u.key.id,g)}}return s}(u_(i,[]).map(fm),new Map);return Array.from(u.values())}function u_(i,s){return i.forEach(o=>{if(o instanceof nl)s.push({provide:o,useClass:o});else if(o&&"object"==typeof o&&void 0!==o.provide)s.push(o);else{if(!Array.isArray(o))throw function wD(i){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${i}`)}(o);u_(o,s)}}),s}function Eh(i){const s=s_.parameters(i);if(!s)return[];if(s.some(o=>null==o))throw II(i,s);return s.map(o=>pm(i,o,s))}function pm(i,s,o){let u=null,c=!1;if(!Array.isArray(s))return lp(s instanceof Zn?s.token:s,c,null);let g=null;for(let y=0;y<s.length;++y){const E=s[y];E instanceof nl?u=E:E instanceof Zn?u=E.token:E instanceof _n?c=!0:E instanceof Di||E instanceof ns?g=E:E instanceof In&&(u=E)}if(u=X(u),null!=u)return lp(u,c,g);throw II(i,o)}function lp(i,s,o){return new xl(Au.get(i),s,o)}const Jc={};class Mu{static resolve(s){return CI(s)}static resolveAndCreate(s,o){const u=Mu.resolve(s);return Mu.fromResolvedProviders(u,o)}static fromResolvedProviders(s,o){return new cp(s,o)}}let cp=(()=>{class i{constructor(o,u){this._constructionCounter=0,this._providers=o,this.parent=u||null;const c=o.length;this.keyIds=[],this.objs=[];for(let g=0;g<c;g++)this.keyIds[g]=o[g].key.id,this.objs[g]=Jc}get(o,u=Vr){return this._getByKey(Au.get(o),null,u)}resolveAndCreateChild(o){const u=Mu.resolve(o);return this.createChildFromResolved(u)}createChildFromResolved(o){const u=new i(o);return u.parent=this,u}resolveAndInstantiate(o){return this.instantiateResolved(Mu.resolve([o])[0])}instantiateResolved(o){return this._instantiateProvider(o)}getProviderAtIndex(o){if(o<0||o>=this._providers.length)throw function _h(i){return Error(`Index ${i} is out-of-bounds.`)}(o);return this._providers[o]}_new(o){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function EI(i,s){return Qc(i,s,function(o){return`Cannot instantiate cyclic dependency!${r_(o)}`})}(this,o.key);return this._instantiateProvider(o)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(o){if(o.multiProvider){const u=[];for(let c=0;c<o.resolvedFactories.length;++c)u[c]=this._instantiate(o,o.resolvedFactories[c]);return u}return this._instantiate(o,o.resolvedFactories[0])}_instantiate(o,u){const c=u.factory;let g,y;try{g=u.dependencies.map(E=>this._getByReflectiveDependency(E))}catch(E){throw E.addKey&&E.addKey(this,o.key),E}try{y=c(...g)}catch(E){throw function dm(i,s,o,u){return Qc(i,u,function(c){const g=ae(c[0].token);return`${s.message}: Error during instantiation of ${g}!${r_(c)}.`},s)}(this,E,0,o.key)}return y}_getByReflectiveDependency(o){return this._getByKey(o.key,o.visibility,o.optional?null:Vr)}_getByKey(o,u,c){return o===i.INJECTOR_KEY?this:u instanceof Di?this._getByKeySelf(o,c):this._getByKeyDefault(o,c,u)}_getObjByKeyId(o){for(let u=0;u<this.keyIds.length;u++)if(this.keyIds[u]===o)return this.objs[u]===Jc&&(this.objs[u]=this._new(this._providers[u])),this.objs[u];return Jc}_throwOrNull(o,u){if(u!==Vr)return u;throw function _I(i,s){return Qc(i,s,function(o){return`No provider for ${ae(o[0].token)}!${r_(o)}`})}(this,o)}_getByKeySelf(o,u){const c=this._getObjByKeyId(o.id);return c!==Jc?c:this._throwOrNull(o,u)}_getByKeyDefault(o,u,c){let g;for(g=c instanceof ns?this.parent:this;g instanceof i;){const y=g,E=y._getObjByKeyId(o.id);if(E!==Jc)return E;g=y.parent}return null!==g?g.get(o.token,u):this._throwOrNull(o,u)}get displayName(){return`ReflectiveInjector(providers: [${function bI(i,s){const o=[];for(let u=0;u<i._providers.length;++u)o[u]=s(i.getProviderAtIndex(u));return o}(this,u=>' "'+u.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return i.INJECTOR_KEY=Au.get(io),i})();function dp(i,s=ct.Default){const o=ke();return null===o?Y(i,s):Xs(An(),o,X(i),s)}function gm(){throw new Error("invalid")}function Ih(i,s,o){const u=ke();return Bi(u,Qs(),s)&&ro(Vt(),Mn(),u,i,s,u[11],o,!1),Ih}function hp(i,s,o,u,c){const y=c?"class":"style";eI(i,o,s.inputs[y],y,u)}function mm(i,s,o,u){const c=ke(),g=Vt(),y=20+i,E=c[11],C=c[y]=vl(E,s,function kd(){return rt.lFrame.currentNamespace}()),M=g.firstCreatePass?function TI(i,s,o,u,c,g,y){const E=s.consts,M=hh(s,i,2,c,Mt(E,g));return Kg(s,o,M,Mt(E,y)),null!==M.attrs&&Yg(M,M.attrs,!1),null!==M.mergedAttrs&&Yg(M,M.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,M),M}(y,g,c,0,s,o,u):g.data[y];Ji(M,!0);const O=M.mergedAttrs;null!==O&&lu(E,C,O);const U=M.classes;null!==U&&ea(E,C,U);const K=M.styles;null!==K&&Lg(E,C,K),64!=(64&M.flags)&&Fc(g,c,C,M),0===function Fi(){return rt.lFrame.elementDepthCount}()&&Yr(C,c),function mo(){rt.lFrame.elementDepthCount++}(),zi(M)&&(Ev(g,c,M),ph(g,M,c)),null!==u&&Iv(c,M)}function ym(){let i=An();Lo()?$u():(i=i.parent,Ji(i,!1));const s=i;!function Qi(){rt.lFrame.elementDepthCount--}();const o=Vt();o.firstCreatePass&&(oc(o,i),Za(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Qu(i){return 0!=(16&i.flags)}(s)&&hp(o,s,ke(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function jo(i){return 0!=(32&i.flags)}(s)&&hp(o,s,ke(),s.stylesWithoutHost,!1)}function SI(i,s,o,u){mm(i,s,o,u),ym()}function wh(i,s,o){const u=ke(),c=Vt(),g=i+20,y=c.firstCreatePass?function AI(i,s,o,u,c){const g=s.consts,y=Mt(g,u),E=hh(s,i,8,"ng-container",y);return null!==y&&Yg(E,y,!0),Kg(s,o,E,Mt(g,c)),null!==s.queries&&s.queries.elementStart(s,E),E}(g,c,u,s,o):c.data[g];Ji(y,!0);const E=u[g]=u[11].createComment("");Fc(c,u,E,y),Yr(E,u),zi(y)&&(Ev(c,u,y),ph(c,y,u)),null!=o&&Iv(u,y)}function Xc(){let i=An();const s=Vt();Lo()?$u():(i=i.parent,Ji(i,!1)),s.firstCreatePass&&(oc(s,i),Za(i)&&s.queries.elementEnd(i))}function Rl(i,s,o){wh(i,s,o),Xc()}function _m(){return ke()}function l_(i){return!!i&&"function"==typeof i.then}function Em(i){return!!i&&"function"==typeof i.subscribe}const ed=Em;function fp(i,s,o,u){const c=ke(),g=Vt(),y=An();return xI(g,c,c[11],y,i,s,!!o,u),fp}function xu(i,s){const o=An(),u=ke(),c=Vt();return xI(c,u,X0(ya(c.data),o,u),o,i,s,!1),xu}function xI(i,s,o,u,c,g,y,E){const C=zi(u),O=i.firstCreatePass&&J0(i),U=s[8],K=Rv(s);let ee=!0;if(3&u.type||E){const Ze=k(u,s),st=E?E(Ze):Ze,Ne=K.length,Dt=E?jt=>E(vn(jt[u.index])):u.index;if(Zt(o)){let jt=null;if(!E&&C&&(jt=function MI(i,s,o,u){const c=i.cleanup;if(null!=c)for(let g=0;g<c.length-1;g+=2){const y=c[g];if(y===o&&c[g+1]===u){const E=s[7],C=c[g+2];return E.length>C?E[C]:null}"string"==typeof y&&(g+=2)}return null}(i,s,c,u.index)),null!==jt)(jt.__ngLastListenerFn__||jt).__ngNextListenerFn__=g,jt.__ngLastListenerFn__=g,ee=!1;else{g=ia(u,s,U,g,!1);const Jt=o.listen(st,c,g);K.push(g,Jt),O&&O.push(c,Dt,Ne,Ne+1)}}else g=ia(u,s,U,g,!0),st.addEventListener(c,g,y),K.push(g),O&&O.push(c,Dt,Ne,y)}else g=ia(u,s,U,g,!1);const Se=u.outputs;let Ge;if(ee&&null!==Se&&(Ge=Se[c])){const Ze=Ge.length;if(Ze)for(let st=0;st<Ze;st+=2){const ls=s[Ge[st]][Ge[st+1]].subscribe(g),No=K.length;K.push(g,ls),O&&O.push(c,u.index,No,-(No+1))}}}function Ol(i,s,o,u){try{return kr(6,s,o),!1!==o(u)}catch(c){return Ov(i,c),!1}finally{kr(7,s,o)}}function ia(i,s,o,u,c){return function g(y){if(y===Function)return u;const E=2&i.flags?We(i.index,s):s;0==(32&s[2])&&bl(E);let C=Ol(s,o,u,y),M=g.__ngNextListenerFn__;for(;M;)C=Ol(s,o,M,y)&&C,M=M.__ngNextListenerFn__;return c&&!1===C&&(y.preventDefault(),y.returnValue=!1),C}}function pp(i=1){return function Zu(i){return(rt.lFrame.contextLView=function tf(i,s){for(;i>0;)s=s[15],i--;return s}(i,rt.lFrame.contextLView))[8]}(i)}function Im(i,s){let o=null;const u=function S0(i){const s=i.attrs;if(null!=s){const o=s.indexOf(5);if(0==(1&o))return s[o+1]}return null}(i);for(let c=0;c<s.length;c++){const g=s[c];if("*"!==g){if(null===u?Vg(i,g,!0):kC(u,g))return c}else o=c}return o}function gp(i){const s=ke()[16][6];if(!s.projection){const u=s.projection=Ds(i?i.length:1,null),c=u.slice();let g=s.child;for(;null!==g;){const y=i?Im(g,i):0;null!==y&&(c[y]?c[y].projectionNext=g:u[y]=g,c[y]=g),g=g.next}}}function c_(i,s=0,o){const u=ke(),c=Vt(),g=hh(c,20+i,16,null,o||null);null===g.projection&&(g.projection=s),$u(),64!=(64&g.flags)&&function RC(i,s,o){C0(s[11],0,s,o,He(i,o,s),sh(o.parent||s[6],o,s))}(c,u,g)}function $n(i,s,o){return td(i,"",s,"",o),$n}function td(i,s,o,u,c){const g=ke(),y=Al(g,s,o,u);return y!==xt&&ro(Vt(),Mn(),g,i,y,g[11],c,!1),td}function d_(i,s,o,u,c,g,y){const E=ke(),C=qc(E,s,o,u,c,g);return C!==xt&&ro(Vt(),Mn(),E,i,C,E[11],y,!1),d_}function h_(i,s,o,u,c,g,y,E,C){const M=ke(),O=zc(M,s,o,u,c,g,y,E);return O!==xt&&ro(Vt(),Mn(),M,i,O,M[11],C,!1),h_}function nd(i,s,o,u,c,g,y,E,C,M,O){const U=ke(),K=yh(U,s,o,u,c,g,y,E,C,M);return K!==xt&&ro(Vt(),Mn(),U,i,K,U[11],O,!1),nd}function rd(i,s,o,u,c,g,y,E,C,M,O,U,K){const ee=ke(),Se=Wc(ee,s,o,u,c,g,y,E,C,M,O,U);return Se!==xt&&ro(Vt(),Mn(),ee,i,Se,ee[11],K,!1),rd}function f_(i,s,o,u,c,g,y,E,C,M,O,U,K,ee,Se){const Ge=ke(),Ze=Kc(Ge,s,o,u,c,g,y,E,C,M,O,U,K,ee);return Ze!==xt&&ro(Vt(),Mn(),Ge,i,Ze,Ge[11],Se,!1),f_}function wm(i,s,o,u,c,g,y,E,C,M,O,U,K,ee,Se,Ge,Ze){const st=ke(),Ne=Ml(st,s,o,u,c,g,y,E,C,M,O,U,K,ee,Se,Ge);return Ne!==xt&&ro(Vt(),Mn(),st,i,Ne,st[11],Ze,!1),wm}function p_(i,s,o,u,c,g,y,E,C,M,O,U,K,ee,Se,Ge,Ze,st,Ne){const Dt=ke(),jt=Zc(Dt,s,o,u,c,g,y,E,C,M,O,U,K,ee,Se,Ge,Ze,st);return jt!==xt&&ro(Vt(),Mn(),Dt,i,jt,Dt[11],Ne,!1),p_}function g_(i,s,o){const u=ke(),c=Sl(u,s);return c!==xt&&ro(Vt(),Mn(),u,i,c,u[11],o,!1),g_}function Ru(i,s,o,u,c){const g=i[o+1],y=null===s;let E=u?ta(g):Cu(g),C=!1;for(;0!==E&&(!1===C||y);){const O=i[E+1];RI(i[E],s)&&(C=!0,i[E+1]=u?cv(O):lv(O)),E=u?ta(O):Cu(O)}C&&(i[o+1]=u?lv(g):cv(g))}function RI(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Ko(i,s)>=0}const $r={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function m_(i){return i.substring($r.key,$r.keyEnd)}function Ch(i){return i.substring($r.value,$r.valueEnd)}function OI(i,s){const o=$r.textEnd;return o===s?-1:(s=$r.keyEnd=function v_(i,s,o){for(;s<o&&i.charCodeAt(s)>32;)s++;return s}(i,$r.key=s,o),id(i,s,o))}function PI(i,s){const o=$r.textEnd;let u=$r.key=id(i,s,o);return o===u?-1:(u=$r.keyEnd=function __(i,s,o){let u;for(;s<o&&(45===(u=i.charCodeAt(s))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)s++;return s}(i,u,o),u=E_(i,u,o),u=$r.value=id(i,u,o),u=$r.valueEnd=function kI(i,s,o){let u=-1,c=-1,g=-1,y=s,E=y;for(;y<o;){const C=i.charCodeAt(y++);if(59===C)return E;34===C||39===C?E=y=Cm(i,C,y,o):s===y-4&&85===g&&82===c&&76===u&&40===C?E=y=Cm(i,41,y,o):C>32&&(E=y),g=c,c=u,u=-33&C}return E}(i,u,o),E_(i,u,o))}function y_(i){$r.key=0,$r.keyEnd=0,$r.value=0,$r.valueEnd=0,$r.textEnd=i.length}function id(i,s,o){for(;s<o&&i.charCodeAt(s)<=32;)s++;return s}function E_(i,s,o,u){return(s=id(i,s,o))<o&&s++,s}function Cm(i,s,o,u){let c=-1,g=o;for(;g<u;){const y=i.charCodeAt(g++);if(y==s&&92!==c)return g;c=92==y&&92===c?0:y}throw new Error}function I_(i,s,o){return Mo(i,s,o,!1),I_}function w_(i,s){return Mo(i,s,null,!0),w_}function Ps(i){ss(D_,yp,i,!1)}function yp(i,s){for(let o=function NI(i){return y_(i),PI(i,id(i,0,$r.textEnd))}(s);o>=0;o=PI(s,o))D_(i,m_(s),Ch(s))}function vp(i){ss(Lr,Ao,i,!0)}function Ao(i,s){for(let o=function bD(i){return y_(i),OI(i,id(i,0,$r.textEnd))}(s);o>=0;o=OI(s,o))Lr(i,m_(s),!0)}function Mo(i,s,o,u){const c=ke(),g=Vt(),y=Li(2);g.firstUpdatePass&&FI(g,i,y,u),s!==xt&&Bi(c,y,s)&&Ep(g,g.data[Dr()],c,c[11],i,c[y+1]=function jI(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ae(Yo(i)))),i}(s,o),u,y)}function ss(i,s,o,u){const c=Vt(),g=Li(2);c.firstUpdatePass&&FI(c,null,g,u);const y=ke();if(o!==xt&&Bi(y,g,o)){const E=c.data[Dr()];if(BI(E,u)&&!Dh(c,g)){let C=u?E.classesWithoutHost:E.stylesWithoutHost;null!==C&&(o=ce(C,o||"")),hp(c,E,y,o,u)}else!function UI(i,s,o,u,c,g,y,E){c===xt&&(c=G);let C=0,M=0,O=0<c.length?c[0]:null,U=0<g.length?g[0]:null;for(;null!==O||null!==U;){const K=C<c.length?c[C+1]:void 0,ee=M<g.length?g[M+1]:void 0;let Ge,Se=null;O===U?(C+=2,M+=2,K!==ee&&(Se=U,Ge=ee)):null===U||null!==O&&O<U?(C+=2,Se=O):(M+=2,Se=U,Ge=ee),null!==Se&&Ep(i,s,o,u,Se,Ge,y,E),O=C<c.length?c[C]:null,U=M<g.length?g[M]:null}}(c,E,y,y[11],y[g+1],y[g+1]=function VI(i,s,o){if(null==o||""===o)return G;const u=[],c=Yo(o);if(Array.isArray(c))for(let g=0;g<c.length;g++)i(u,c[g],!0);else if("object"==typeof c)for(const g in c)c.hasOwnProperty(g)&&i(u,g,c[g]);else"string"==typeof c&&s(u,c);return u}(i,s,o),u,g)}}function Dh(i,s){return s>=i.expandoStartIndex}function FI(i,s,o,u){const c=i.data;if(null===c[o+1]){const g=c[Dr()],y=Dh(i,o);BI(g,u)&&null===s&&!y&&(s=!1),s=function Hr(i,s,o,u){const c=ya(i);let g=u?s.residualClasses:s.residualStyles;if(null===c)0===(u?s.classBindings:s.styleBindings)&&(o=_p(o=C_(null,i,s,o,u),s.attrs,u),g=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==c)if(o=C_(c,i,s,o,u),null===g){let C=function LI(i,s,o){const u=o?s.classBindings:s.styleBindings;if(0!==Cu(u))return i[ta(u)]}(i,s,u);void 0!==C&&Array.isArray(C)&&(C=C_(null,i,s,C[1],u),C=_p(C,s.attrs,u),function TD(i,s,o,u){i[ta(o?s.classBindings:s.styleBindings)]=u}(i,s,u,C))}else g=function SD(i,s,o){let u;const c=s.directiveEnd;for(let g=1+s.directiveStylingLast;g<c;g++)u=_p(u,i[g].hostAttrs,o);return _p(u,s.attrs,o)}(i,s,u)}return void 0!==g&&(u?s.residualClasses=g:s.residualStyles=g),o}(c,g,s,u),function DD(i,s,o,u,c,g){let y=g?s.classBindings:s.styleBindings,E=ta(y),C=Cu(y);i[u]=o;let O,M=!1;if(Array.isArray(o)){const U=o;O=U[1],(null===O||Ko(U,O)>0)&&(M=!0)}else O=o;if(c)if(0!==C){const K=ta(i[E+1]);i[u+1]=Bf(K,E),0!==K&&(i[K+1]=Bg(i[K+1],u)),i[E+1]=function UC(i,s){return 131071&i|s<<17}(i[E+1],u)}else i[u+1]=Bf(E,0),0!==E&&(i[E+1]=Bg(i[E+1],u)),E=u;else i[u+1]=Bf(C,0),0===E?E=u:i[C+1]=Bg(i[C+1],u),C=u;M&&(i[u+1]=lv(i[u+1])),Ru(i,O,u,!0),Ru(i,O,u,!1),function mp(i,s,o,u,c){const g=c?i.residualClasses:i.residualStyles;null!=g&&"string"==typeof s&&Ko(g,s)>=0&&(o[u+1]=cv(o[u+1]))}(s,O,i,u,g),y=Bf(E,C),g?s.classBindings=y:s.styleBindings=y}(c,g,s,o,y,u)}}function C_(i,s,o,u,c){let g=null;const y=o.directiveEnd;let E=o.directiveStylingLast;for(-1===E?E=o.directiveStart:E++;E<y&&(g=s[E],u=_p(u,g.hostAttrs,c),g!==i);)E++;return null!==i&&(o.directiveStylingLast=E),u}function _p(i,s,o){const u=o?1:2;let c=-1;if(null!==s)for(let g=0;g<s.length;g++){const y=s[g];"number"==typeof y?c=y:c===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Lr(i,y,!!o||s[++g]))}return void 0===i?null:i}function D_(i,s,o){Lr(i,s,Yo(o))}function Ep(i,s,o,u,c,g,y,E){if(!(3&s.type))return;const C=i.data,M=C[E+1];xo(function $f(i){return 1==(1&i)}(M)?b_(C,s,o,c,Cu(M),y):void 0)||(xo(g)||function jg(i){return 2==(2&i)}(M)&&(g=b_(C,null,o,c,E,y)),function iv(i,s,o,u,c){const g=Zt(i);if(s)c?g?i.addClass(o,u):o.classList.add(u):g?i.removeClass(o,u):o.classList.remove(u);else{let y=-1===u.indexOf("-")?void 0:So.DashCase;if(null==c)g?i.removeStyle(o,u,y):o.style.removeProperty(u);else{const E="string"==typeof c&&c.endsWith("!important");E&&(c=c.slice(0,-10),y|=So.Important),g?i.setStyle(o,u,c,y):o.style.setProperty(u,c,E?"important":"")}}}(u,y,T(Dr(),o),c,g))}function b_(i,s,o,u,c,g){const y=null===s;let E;for(;c>0;){const C=i[c],M=Array.isArray(C),O=M?C[1]:C,U=null===O;let K=o[c+1];K===xt&&(K=U?G:void 0);let ee=U?ol(K,u):O===u?K:void 0;if(M&&!xo(ee)&&(ee=ol(C,u)),xo(ee)&&(E=ee,y))return E;const Se=i[c+1];c=y?ta(Se):Cu(Se)}if(null!==s){let C=g?s.residualClasses:s.residualStyles;null!=C&&(E=ol(C,u))}return E}function xo(i){return void 0!==i}function BI(i,s){return 0!=(i.flags&(s?16:32))}function Dm(i,s=""){const o=ke(),u=Vt(),c=i+20,g=u.firstCreatePass?hh(u,c,1,s,null):u.data[c],y=o[c]=rs(o[11],s);Fc(u,o,y,g),Ji(g,!1)}function sd(i){return Ip("",i,""),sd}function Ip(i,s,o){const u=ke(),c=Al(u,i,s,o);return c!==xt&&Tu(u,Dr(),c),Ip}function wp(i,s,o,u,c){const g=ke(),y=qc(g,i,s,o,u,c);return y!==xt&&Tu(g,Dr(),y),wp}function bh(i,s,o,u,c,g,y){const E=ke(),C=zc(E,i,s,o,u,c,g,y);return C!==xt&&Tu(E,Dr(),C),bh}function bm(i,s,o,u,c,g,y,E,C){const M=ke(),O=yh(M,i,s,o,u,c,g,y,E,C);return O!==xt&&Tu(M,Dr(),O),bm}function Cp(i,s,o,u,c,g,y,E,C,M,O){const U=ke(),K=Wc(U,i,s,o,u,c,g,y,E,C,M,O);return K!==xt&&Tu(U,Dr(),K),Cp}function Th(i,s,o,u,c,g,y,E,C,M,O,U,K){const ee=ke(),Se=Kc(ee,i,s,o,u,c,g,y,E,C,M,O,U,K);return Se!==xt&&Tu(ee,Dr(),Se),Th}function T_(i,s,o,u,c,g,y,E,C,M,O,U,K,ee,Se){const Ge=ke(),Ze=Ml(Ge,i,s,o,u,c,g,y,E,C,M,O,U,K,ee,Se);return Ze!==xt&&Tu(Ge,Dr(),Ze),T_}function Tm(i,s,o,u,c,g,y,E,C,M,O,U,K,ee,Se,Ge,Ze){const st=ke(),Ne=Zc(st,i,s,o,u,c,g,y,E,C,M,O,U,K,ee,Se,Ge,Ze);return Ne!==xt&&Tu(st,Dr(),Ne),Tm}function od(i){const s=ke(),o=Sl(s,i);return o!==xt&&Tu(s,Dr(),o),od}function S_(i,s,o){ss(Lr,Ao,Al(ke(),i,s,o),!0)}function A_(i,s,o,u,c){ss(Lr,Ao,qc(ke(),i,s,o,u,c),!0)}function Sm(i,s,o,u,c,g,y){ss(Lr,Ao,zc(ke(),i,s,o,u,c,g,y),!0)}function Am(i,s,o,u,c,g,y,E,C){ss(Lr,Ao,yh(ke(),i,s,o,u,c,g,y,E,C),!0)}function M_(i,s,o,u,c,g,y,E,C,M,O){ss(Lr,Ao,Wc(ke(),i,s,o,u,c,g,y,E,C,M,O),!0)}function Dp(i,s,o,u,c,g,y,E,C,M,O,U,K){ss(Lr,Ao,Kc(ke(),i,s,o,u,c,g,y,E,C,M,O,U,K),!0)}function x_(i,s,o,u,c,g,y,E,C,M,O,U,K,ee,Se){ss(Lr,Ao,Ml(ke(),i,s,o,u,c,g,y,E,C,M,O,U,K,ee,Se),!0)}function R_(i,s,o,u,c,g,y,E,C,M,O,U,K,ee,Se,Ge,Ze){ss(Lr,Ao,Zc(ke(),i,s,o,u,c,g,y,E,C,M,O,U,K,ee,Se,Ge,Ze),!0)}function Nl(i){ss(Lr,Ao,Sl(ke(),i),!0)}function O_(i,s,o){Ps(Al(ke(),i,s,o))}function N_(i,s,o,u,c){Ps(qc(ke(),i,s,o,u,c))}function P_(i,s,o,u,c,g,y){Ps(zc(ke(),i,s,o,u,c,g,y))}function k_(i,s,o,u,c,g,y,E,C){Ps(yh(ke(),i,s,o,u,c,g,y,E,C))}function bp(i,s,o,u,c,g,y,E,C,M,O){Ps(Wc(ke(),i,s,o,u,c,g,y,E,C,M,O))}function ks(i,s,o,u,c,g,y,E,C,M,O,U,K){Ps(Kc(ke(),i,s,o,u,c,g,y,E,C,M,O,U,K))}function F_(i,s,o,u,c,g,y,E,C,M,O,U,K,ee,Se){Ps(Ml(ke(),i,s,o,u,c,g,y,E,C,M,O,U,K,ee,Se))}function L_(i,s,o,u,c,g,y,E,C,M,O,U,K,ee,Se,Ge,Ze){Ps(Zc(ke(),i,s,o,u,c,g,y,E,C,M,O,U,K,ee,Se,Ge,Ze))}function ad(i){Ps(Sl(ke(),i))}function V_(i,s,o,u,c){return Mo(i,Al(ke(),s,o,u),c,!1),V_}function U_(i,s,o,u,c,g,y){return Mo(i,qc(ke(),s,o,u,c,g),y,!1),U_}function Tp(i,s,o,u,c,g,y,E,C){return Mo(i,zc(ke(),s,o,u,c,g,y,E),C,!1),Tp}function j_(i,s,o,u,c,g,y,E,C,M,O){return Mo(i,yh(ke(),s,o,u,c,g,y,E,C,M),O,!1),j_}function B_(i,s,o,u,c,g,y,E,C,M,O,U,K){return Mo(i,Wc(ke(),s,o,u,c,g,y,E,C,M,O,U),K,!1),B_}function Mm(i,s,o,u,c,g,y,E,C,M,O,U,K,ee,Se){return Mo(i,Kc(ke(),s,o,u,c,g,y,E,C,M,O,U,K,ee),Se,!1),Mm}function $_(i,s,o,u,c,g,y,E,C,M,O,U,K,ee,Se,Ge,Ze){return Mo(i,Ml(ke(),s,o,u,c,g,y,E,C,M,O,U,K,ee,Se,Ge),Ze,!1),$_}function Sh(i,s,o,u,c,g,y,E,C,M,O,U,K,ee,Se,Ge,Ze,st,Ne){return Mo(i,Zc(ke(),s,o,u,c,g,y,E,C,M,O,U,K,ee,Se,Ge,Ze,st),Ne,!1),Sh}function H_(i,s,o){return Mo(i,Sl(ke(),s),o,!1),H_}function xm(i,s,o){const u=ke();return Bi(u,Qs(),s)&&ro(Vt(),Mn(),u,i,s,u[11],o,!0),xm}function Xr(i,s,o){const u=ke();if(Bi(u,Qs(),s)){const g=Vt(),y=Mn();ro(g,y,u,i,s,X0(ya(g.data),y,u),o,!0)}return Xr}const Ro=void 0;var G_=["en",[["a","p"],["AM","PM"],Ro],[["AM","PM"],Ro,Ro],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ro,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ro,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ro,"{1} 'at' {0}",Ro],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Pl(i){const o=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Ah={};function qe(i,s,o){"string"!=typeof s&&(o=s,s=i[St.LocaleId]),s=s.toLowerCase().replace(/_/g,"-"),Ah[s]=i,o&&(Ah[s][St.ExtraData]=o)}function gr(i){const s=function et(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=yt(s);if(o)return o;const u=s.split("-")[0];if(o=yt(u),o)return o;if("en"===u)return G_;throw new Error(`Missing locale data for the locale "${i}".`)}function Sp(i){return gr(i)[St.CurrencyCode]||null}function Rm(i){return gr(i)[St.PluralCase]}function yt(i){return i in Ah||(Ah[i]=vt.ng&&vt.ng.common&&vt.ng.common.locales&&vt.ng.common.locales[i]),Ah[i]}function Nt(){Ah={}}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const ve=["zero","one","two","few","many"],mr="en-US",Om={marker:"element"},Nm={marker:"ICU"};var yr=(()=>((yr=yr||{})[yr.SHIFT=2]="SHIFT",yr[yr.APPEND_EAGERLY=1]="APPEND_EAGERLY",yr[yr.COMMENT=2]="COMMENT",yr))();let HI=mr;function q_(i){(function pt(i,s){null==i&&_t(s,i,null,"!=")})(i,"Expected localeId to be defined"),"string"==typeof i&&(HI=i.toLowerCase().replace(/_/g,"-"))}function MD(i,s,o){const u=s.insertBeforeIndex,c=Array.isArray(u)?u[0]:u;return null===c?kc(i,0,o):vn(o[c])}function Fs(i,s,o,u,c){const g=s.insertBeforeIndex;if(Array.isArray(g)){let y=u,E=null;if(3&s.type||(E=y,y=c),null!==y&&0==(2&s.flags))for(let C=1;C<g.length;C++)it(i,y,o[g[C]],E,!1)}}function GI(i,s){if(i.push(s),i.length>1)for(let o=i.length-2;o>=0;o--){const u=i[o];z_(u)||en(u,s)&&null===Mh(u)&&qI(u,s.index)}}function z_(i){return!(64&i.type)}function en(i,s){return z_(s)||i.index>s.index}function Mh(i){const s=i.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function qI(i,s){const o=i.insertBeforeIndex;Array.isArray(o)?o[0]=s:(oh(MD,Fs),i.insertBeforeIndex=s)}function vr(i,s){const o=i.data[s];return null===o||"string"==typeof o?null:o.hasOwnProperty("currentCaseLViewIndex")?o:o.value}function ud(i,s,o){const u=qg(i,o,64,null,null);return GI(s,u),u}function Ap(i,s){const o=s[i.currentCaseLViewIndex];return null===o?o:o<0?~o:o}function xh(i){return i>>>17}function fn(i){return(131070&i)>>>1}let Va=0,Mp=0;function ir(i,s,o,u){const c=o[11];let y,g=null;for(let E=0;E<s.length;E++){const C=s[E];if("string"==typeof C){const M=s[++E];null===o[M]&&(o[M]=rs(c,C))}else if("number"==typeof C)switch(1&C){case 0:const M=xh(C);let O,U;if(null===g&&(g=M,y=As(c,u)),M===g?(O=u,U=y):(O=null,U=vn(o[M])),null!==U){const Ge=fn(C);it(c,U,o[Ge],O,!1);const st=vr(i,Ge);if(null!==st&&"object"==typeof st){const Ne=Ap(st,o);null!==Ne&&ir(i,st.create[Ne],o,o[st.anchorIdx])}}break;case 1:const ee=s[++E],Se=s[++E];Tv(c,T(C>>>1,o),null,null,ee,Se,null)}else switch(C){case Nm:const M=s[++E],O=s[++E];null===o[O]&&Yr(o[O]=tv(c,M),o);break;case Om:const U=s[++E],K=s[++E];null===o[K]&&Yr(o[K]=vl(c,U,null),o)}}}function Fl(i,s,o,u,c){for(let g=0;g<o.length;g++){const y=o[g],E=o[++g];if(y&c){let C="";for(let M=g+1;M<=g+E;M++){const O=o[M];if("string"==typeof O)C+=O;else if("number"==typeof O)if(O<0)C+=Z(s[u-O]);else{const U=O>>>2;switch(3&O){case 1:const K=o[++M],ee=o[++M],Se=i.data[U];"string"==typeof Se?Tv(s[11],s[U],null,Se,K,C,ee):ro(i,Se,s,K,C,s[11],ee,!1);break;case 0:const Ge=s[U];null!==Ge&&Lf(s[11],Ge,C);break;case 2:KI(i,vr(i,U),s,C);break;case 3:Pm(i,vr(i,U),u,s)}}}}else{const C=o[g+1];if(C>0&&3==(3&C)){const O=vr(i,C>>>2);s[O.currentCaseLViewIndex]<0&&Pm(i,O,u,s)}}g+=E}}function Pm(i,s,o,u){let c=u[s.currentCaseLViewIndex];if(null!==c){let g=Va;c<0&&(c=u[s.currentCaseLViewIndex]=~c,g=-1),Fl(i,u,s.update[c],o,g)}}function KI(i,s,o,u){const c=function RD(i,s){let o=i.cases.indexOf(s);if(-1===o)switch(i.type){case 1:{const u=function Ue(i,s){const o=Rm(s)(parseInt(i,10)),u=ve[o];return void 0!==u?u:"other"}(s,function AD(){return HI}());o=i.cases.indexOf(u),-1===o&&"other"!==u&&(o=i.cases.indexOf("other"));break}case 0:o=i.cases.indexOf("other")}return-1===o?null:o}(s,u);if(Ap(s,o)!==c&&(Rh(i,s,o),o[s.currentCaseLViewIndex]=null===c?null:~c,null!==c)){const y=o[s.anchorIdx];y&&ir(i,s.create[c],o,y)}}function Rh(i,s,o){let u=Ap(s,o);if(null!==u){const c=s.remove[u];for(let g=0;g<c.length;g++){const y=c[g];if(y>0){const E=T(y,o);null!==E&&ah(o[11],E)}else Rh(i,vr(i,~y),o)}}}function ld(){const i=[];let o,u,s=-1;function g(E,C){s=0;const M=Ap(E,C);u=null!==M?E.remove[M]:G}function y(){if(s<u.length){const E=u[s++];return E>0?o[E]:(i.push(s,u),g(o[1].data[~E],o),y())}return 0===i.length?null:(u=i.pop(),s=i.pop(),y())}return function c(E,C){for(o=C;i.length;)i.pop();return g(E.value,C),y}}const Ua=/\ufffd(\d+):?\d*\ufffd/gi,sa=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,xp=/\ufffd(\d+)\ufffd/,cd=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ph=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,W_=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Fm=/\uE500/g;function Z_(i,s,o,u,c,g,y){const E=bu(i,u,1,null);let C=E<<yr.SHIFT,M=Zs();s===M&&(M=null),null===M&&(C|=yr.APPEND_EAGERLY),y&&(C|=yr.COMMENT,function Pf(i){void 0===Ai&&(Ai=i())}(ld)),c.push(C,null===g?"":g);const O=qg(i,E,y?32:1,null===g?"":g,null);GI(o,O);const U=O.index;return Ji(O,!1),null!==M&&s!==M&&function zI(i,s){let o=i.insertBeforeIndex;null===o?(oh(MD,Fs),o=i.insertBeforeIndex=[null,s]):(function re(i,s,o){i!=s&&_t(o,i,s,"==")}(Array.isArray(o),!0,"Expecting array here"),o.push(s))}(M,U),O}function QI(i,s,o,u,c,g,y){const E=y.match(Ua),C=Z_(i,s,o,g,u,E?null:y,!1);E&&ja(c,y,C.index,null,0,null)}function ja(i,s,o,u,c,g){const y=i.length,E=y+1;i.push(null,null);const C=y+2,M=s.split(Ua);let O=0;for(let U=0;U<M.length;U++){const K=M[U];if(1&U){const ee=c+parseInt(K,10);i.push(-1-ee),O|=Q_(ee)}else""!==K&&i.push(K)}return i.push(o<<2|(u?1:0)),u&&i.push(u,g),i[y]=O,i[E]=i.length-C,O}function Hi(i){let s=0;for(let o=0;o<i.length;o++){const u=i[o];"number"==typeof u&&u<0&&s++}return s}function Q_(i){return 1<<Math.min(i,31)}function Um(i){let s,g,o="",u=0,c=!1;for(;null!==(s=Ph.exec(i));)c?s[0]===`\ufffd/*${g}\ufffd`&&(u=s.index,c=!1):(o+=i.substring(u,s.index+s[0].length),g=s[1],c=!0);return o+=i.substr(u),o}function kh(i,s,o,u,c,g){let y=0;const E={type:c.type,currentCaseLViewIndex:bu(i,s,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function Hm(i,s,o){i.push(Q_(s.mainBinding),2,-1-s.mainBinding,o<<2|2)})(o,c,g),function At(i,s,o){const u=i.data[s];null===u?i.data[s]=o:u.value=o}(i,g,E);const C=c.values;for(let M=0;M<C.length;M++){const O=C[M],U=[];for(let K=0;K<O.length;K++){const ee=O[K];if("string"!=typeof ee){const Se=U.push(ee)-1;O[K]=`\x3c!--\ufffd${Se}\ufffd--\x3e`}}y=YI(i,E,s,o,u,c.cases[M],O.join(""),U)|y}y&&function os(i,s,o){i.push(s,1,o<<2|3)}(o,y,g)}function Bm(i){const s=[],o=[];let u=1,c=0;const g=Y_(i=i.replace(cd,function(y,E,C){return u="select"===C?0:1,c=parseInt(E.substr(1),10),""}));for(let y=0;y<g.length;){let E=g[y++].trim();1===u&&(E=E.replace(/\s*(?:=)?(\w+)\s*/,"$1")),E.length&&s.push(E);const C=Y_(g[y++]);s.length>o.length&&o.push(C)}return{type:u,mainBinding:c,cases:s,values:o}}function Y_(i){if(!i)return[];let s=0;const o=[],u=[],c=/[{}]/g;let g;for(c.lastIndex=0;g=c.exec(i);){const E=g.index;if("}"==g[0]){if(o.pop(),0==o.length){const C=i.substring(s,E);cd.test(C)?u.push(Bm(C)):u.push(C),s=E+1}}else{if(0==o.length){const C=i.substring(s,E);u.push(C),s=E+1}o.push("{")}}const y=i.substring(s);return u.push(y),u}function YI(i,s,o,u,c,g,y,E){const C=[],M=[],O=[];s.cases.push(g),s.create.push(C),s.remove.push(M),s.update.push(O);const K=Kd(zs()).getInertBodyElement(y),ee=Tf(K)||K;return ee?Fh(i,s,o,u,C,M,O,ee,c,E,0):0}function Fh(i,s,o,u,c,g,y,E,C,M,O){let U=0,K=E.firstChild;for(;K;){const ee=bu(i,o,1,null);switch(K.nodeType){case Node.ELEMENT_NODE:const Se=K,Ge=Se.tagName.toLowerCase();if(bc.hasOwnProperty(Ge)){J_(c,Om,Ge,C,ee),i.data[ee]=Ge;const Dt=Se.attributes;for(let jt=0;jt<Dt.length;jt++){const Jt=Dt.item(jt),ls=Jt.name.toLowerCase();Jt.value.match(Ua)?wf.hasOwnProperty(ls)&&ja(y,Jt.value,ee,Jt.name,0,Tc[ls]?Pa:Qd[ls]?vg:null):ND(c,ee,Jt)}U=Fh(i,s,o,u,c,g,y,K,ee,M,O+1)|U,JI(g,ee,O)}break;case Node.TEXT_NODE:const Ze=K.textContent||"",st=Ze.match(Ua);J_(c,null,st?"":Ze,C,ee),JI(g,ee,O),st&&(U=ja(y,Ze,ee,null,0,null)|U);break;case Node.COMMENT_NODE:const Ne=xp.exec(K.textContent||"");if(Ne){const jt=M[parseInt(Ne[1],10)];J_(c,Nm,"",C,ee),kh(i,o,u,C,jt,ee),$m(g,ee,O)}}K=K.nextSibling}return U}function JI(i,s,o){0===o&&i.push(s)}function $m(i,s,o){0===o&&(i.push(~s),i.push(s))}function J_(i,s,o,u,c){null!==s&&i.push(s),i.push(o,c,function gi(i,s,o){return i|s<<17|o<<1}(0,u,c))}function ND(i,s,o){i.push(s<<1|1,o.name,o.value)}const ew=/\[(\ufffd.+?\ufffd?)\]/,PD=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,kD=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,FD=/{([A-Z0-9_]+)}/g,LD=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Lh=/\/\*/,Vh=/\d+\:(\d+)/;function Gm(i,s,o=-1){const u=Vt(),c=ke(),g=20+i,y=Mt(u.consts,s),E=Zs();u.firstCreatePass&&function Lm(i,s,o,u,c,g){const y=Zs(),E=[],C=[],M=[[]];c=function jm(i,s){if(function sr(i){return-1===i}(s))return Um(i);{const o=i.indexOf(`:${s}\ufffd`)+2+s.toString().length,u=i.search(new RegExp(`\ufffd\\/\\*\\d+:${s}\ufffd`));return Um(i.substring(o,u))}}(c,g);const O=function K_(i){return i.replace(Fm," ")}(c).split(W_);for(let U=0;U<O.length;U++){let K=O[U];if(0==(1&U)){const ee=Y_(K);for(let Se=0;Se<ee.length;Se++){let Ge=ee[Se];if(0==(1&Se)){const Ze=Ge;""!==Ze&&QI(i,y,M[0],E,C,o,Ze)}else{const Ze=Ge;if("object"!=typeof Ze)throw new Error(`Unable to parse ICU expression in "${c}" message.`);kh(i,o,C,s,Ze,Z_(i,y,M[0],o,E,"",!0).index)}}}else{const ee=47===K.charCodeAt(0),Ge=(K.charCodeAt(ee?1:0),20+Number.parseInt(K.substring(ee?2:1)));if(ee)M.shift(),Ji(Zs(),!1);else{const Ze=ud(i,M[0],Ge);M.unshift([]),Ji(Ze,!0)}}}i.data[u]={create:E,update:C}}(u,null===E?0:E.index,c,g,y,o);const C=u.data[g],O=je(u,E===c[6]?null:E,c);(function kl(i,s,o,u){const c=i[11];for(let g=0;g<s.length;g++){const y=s[g++],E=s[g],C=(y&yr.COMMENT)===yr.COMMENT,M=(y&yr.APPEND_EAGERLY)===yr.APPEND_EAGERLY,O=y>>>yr.SHIFT;let U=i[O];null===U&&(U=i[O]=C?c.createComment(E):rs(c,E)),M&&null!==o&&it(c,o,U,u,!1)}})(c,C.create,O,E&&8&E.type?c[E.index]:null),ma(!0)}function qm(){ma(!1)}function Ba(i,s,o){Gm(i,s,o),qm()}function X_(i,s){const o=Vt();!function Vm(i,s,o){const c=An().index,g=[];if(i.firstCreatePass&&null===i.data[s]){for(let y=0;y<o.length;y+=2){const E=o[y],C=o[y+1];if(""!==C){if(sa.test(C))throw new Error(`ICU expressions are not supported in attributes. Message: "${C}".`);ja(g,C,c,E,Hi(g),null)}}i.data[s]=g}}(o,i+20,Mt(o.consts,s))}function Ll(i){return function ei(i){i&&(Va|=1<<Math.min(Mp,31)),Mp++}(Bi(ke(),Qs(),i)),Ll}function Rp(i){!function xD(i,s,o){if(Mp>0){const u=i.data[o];Fl(i,s,Array.isArray(u)?u:u.update,Xi()-Mp-1,Va)}Va=0,Mp=0}(Vt(),ke(),i+20)}function Op(i,s={}){return function VD(i,s={}){let o=i;if(ew.test(i)){const u={},c=[0];o=o.replace(PD,(g,y,E)=>{const C=y||E,M=u[C]||[];if(M.length||(C.split("|").forEach(Ge=>{const Ze=Ge.match(Vh),st=Ze?parseInt(Ze[1],10):0,Ne=Lh.test(Ge);M.push([st,Ne,Ge])}),u[C]=M),!M.length)throw new Error(`i18n postprocess: unmatched placeholder - ${C}`);const O=c[c.length-1];let U=0;for(let Ge=0;Ge<M.length;Ge++)if(M[Ge][0]===O){U=Ge;break}const[K,ee,Se]=M[U];return ee?c.pop():O!==K&&c.push(K),M.splice(U,1),Se})}return Object.keys(s).length&&(o=o.replace(kD,(u,c,g,y,E,C)=>s.hasOwnProperty(g)?`${c}${s[g]}${C}`:u),o=o.replace(FD,(u,c)=>s.hasOwnProperty(c)?s[c]:u),o=o.replace(LD,(u,c)=>{if(s.hasOwnProperty(c)){const g=s[c];if(!g.length)throw new Error(`i18n postprocess: unmatched ICU - ${u} with key: ${c}`);return g.shift()}return u})),o}(i,s)}function Np(i,s,o,u,c){if(i=X(i),Array.isArray(i))for(let g=0;g<i.length;g++)Np(i[g],s,o,u,c);else{const g=Vt(),y=ke();let E=Su(i)?i:X(i.provide),C=rI(i);const M=An(),O=1048575&M.providerIndexes,U=M.directiveStart,K=M.providerIndexes>>20;if(Su(i)||!i.multi){const ee=new jn(C,c,dp),Se=Ls(E,s,c?O:O+K,U);-1===Se?(Ta(ba(M,y),g,E),Pp(g,i,s.length),s.push(E),M.directiveStart++,M.directiveEnd++,c&&(M.providerIndexes+=1048576),o.push(ee),y.push(ee)):(o[Se]=ee,y[Se]=ee)}else{const ee=Ls(E,s,O+K,U),Se=Ls(E,s,O,O+K),Ge=ee>=0&&o[ee],Ze=Se>=0&&o[Se];if(c&&!Ze||!c&&!Ge){Ta(ba(M,y),g,E);const st=function tE(i,s,o,u,c){const g=new jn(i,o,dp);return g.multi=[],g.index=s,g.componentProviders=0,dd(g,c,u&&!o),g}(c?kp:tw,o.length,c,u,C);!c&&Ze&&(o[Se].providerFactory=st),Pp(g,i,s.length,0),s.push(E),M.directiveStart++,M.directiveEnd++,c&&(M.providerIndexes+=1048576),o.push(st),y.push(st)}else Pp(g,i,ee>-1?ee:Se,dd(o[c?Se:ee],C,!c&&u));!c&&u&&Ze&&o[Se].componentProviders++}}}function Pp(i,s,o,u){const c=Su(s),g=function Uv(i){return!!i.useClass}(s);if(c||g){const C=(g?X(s.useClass):s).prototype.ngOnDestroy;if(C){const M=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const O=M.indexOf(o);-1===O?M.push(o,[u,C]):M[O+1].push(u,C)}else M.push(o,C)}}}function dd(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function Ls(i,s,o,u){for(let c=o;c<u;c++)if(s[c]===i)return c;return-1}function tw(i,s,o,u){return zm(this.multi,[])}function kp(i,s,o,u){const c=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=Fr(o,o[1],this.providerFactory.index,u);g=E.slice(0,y),zm(c,g);for(let C=y;C<E.length;C++)g.push(E[C])}else g=[],zm(c,g);return g}function zm(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function Wm(i,s=[]){return o=>{o.providersResolver=(u,c)=>function eE(i,s,o){const u=Vt();if(u.firstCreatePass){const c=Ni(i);Np(o,u.data,u.blueprint,c,!0),Np(s,u.data,u.blueprint,c,!1)}}(u,c?c(i):i,s)}}class nE{}class Km{}class Zm{resolveComponentFactory(s){throw function nw(i){const s=Error(`No component factory found for ${ae(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Fp=(()=>{class i{}return i.NULL=new Zm,i})();function jD(){return hd(An(),ke())}function hd(i,s){return new $a(k(i,s))}let $a=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=jD,i})();function fd(i){return i instanceof $a?i.nativeElement:i}class Vl{}let rw=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function iw(){const i=ke(),o=We(An().index,i);return function Uh(i){return i[11]}(Ii(o)?o:i)}(),i})(),iE=(()=>{class i{}return i.\u0275prov=tn({token:i,providedIn:"root",factory:()=>null}),i})();class jh{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const sw=new jh("13.1.3"),Qm={};function or(i,s,o,u,c=!1){for(;null!==o;){const g=s[o.index];if(null!==g&&u.push(vn(g)),wi(g))for(let E=10;E<g.length;E++){const C=g[E],M=C[1].firstChild;null!==M&&or(C[1],C,M,u)}const y=o.type;if(8&y)or(i,s,o.child,u);else if(32&y){const E=Nc(o,s);let C;for(;C=E();)u.push(C)}else if(16&y){const E=Vf(s,o);if(Array.isArray(E))u.push(...E);else{const C=Pc(s[16]);or(C[1],C,E,u,!0)}}o=c?o.projectionNext:o.next}return u}class Ou{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return or(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(wi(s)){const o=s[8],u=o?o.indexOf(this):-1;u>-1&&(_(s,u),Cs(o,u))}this._attachedToViewContainer=!1}b(this._lView[1],this._lView)}onDestroy(s){U0(this._lView[1],this._lView,null,s)}markForCheck(){bl(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Qg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Q0(i,s,o){iu(!0);try{Qg(i,s,o)}finally{iu(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new pe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Fg(i,s){jf(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new pe(902,"");this._appRef=s}}class Ym extends Ou{constructor(s){super(s),this._view=s}detectChanges(){Z0(this._view)}checkNoChanges(){!function Y0(i){iu(!0);try{Z0(i)}finally{iu(!1)}}(this._view)}get context(){return null}}class ow extends Fp{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=Tn(s);return new Ul(o,this.ngModule)}}function Jm(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}const aw=new In("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ih});class Ul extends Km{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function LC(i){return i.map(FC).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Jm(this.componentDef.inputs)}get outputs(){return Jm(this.componentDef.outputs)}create(s,o,u,c){const g=(c=c||this.ngModule)?function uw(i,s){return{get:(o,u,c)=>{const g=i.get(o,Qm,c);return g!==Qm||u===Qm?g:s.get(o,u,c)}}}(s,c.injector):s,y=g.get(Vl,Zi),E=g.get(iE,null),C=y.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",O=u?V0(C,u,this.componentDef.encapsulation):vl(y.createRenderer(null,this.componentDef),M,function $D(i){const s=i.toLowerCase();return"svg"===s?pa:"math"===s?eu:null}(M)),U=this.componentDef.onPush?576:528,K=lI(),ee=Wg(0,null,null,1,0,null,null,null,null,null),Se=jc(null,ee,K,U,null,null,y,C,E,g);let Ge,Ze;Ea(Se);try{const st=rm(O,this.componentDef,Se,y,C);if(O)if(u)lu(C,O,["ng-version",sw.full]);else{const{attrs:Ne,classes:Dt}=function VC(i){const s=[],o=[];let u=1,c=2;for(;u<i.length;){let g=i[u];if("string"==typeof g)2===c?""!==g&&s.push(g,i[++u]):8===c&&o.push(g);else{if(!Ms(c))break;c=g}u++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);Ne&&lu(C,O,Ne),Dt&&Dt.length>0&&ea(C,O,Dt.join(" "))}if(Ze=me(ee,20),void 0!==o){const Ne=Ze.projection=[];for(let Dt=0;Dt<this.ngContentSelectors.length;Dt++){const jt=o[Dt];Ne.push(null!=jt?Array.from(jt):null)}}Ge=uI(st,this.componentDef,Se,K,[$c]),Kf(ee,Se,null)}finally{Ku()}return new sE(this.componentType,Ge,hd(Ze,Se),Se,Ze)}}class sE extends nE{constructor(s,o,u,c,g){super(),this.location=u,this._rootLView=c,this._tNode=g,this.instance=o,this.hostView=this.changeDetectorRef=new Ym(c),this.componentType=s}get injector(){return new $o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function oE(i,s,o,u){return hr(()=>{const c=i;null!==s&&(c.hasOwnProperty("decorators")&&void 0!==c.decorators?c.decorators.push(...s):c.decorators=s),null!==o&&(c.ctorParameters=o),null!==u&&(c.propDecorators=c.hasOwnProperty("propDecorators")&&void 0!==c.propDecorators?Object.assign(Object.assign({},c.propDecorators),u):u)})}class Ha{}class Xm{}const Bh=new Map;function aE(i){const s=new Set;!function o(u){const c=an(u,!0),g=c.id;if(null!==g){(function sn(i,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${i} - ${ae(s)} vs ${ae(s.name)}`)})(g,Bh.get(g),u),Bh.set(g,u)}const y=To(c.imports);for(const E of y)s.has(E)||(s.add(E),o(E))}(i)}function _r(i){return Bh.get(i)||gn[i]}function ey(i,s){return new ni(i,null!=s?s:null)}class ni extends Ha{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ow(this);const u=an(s);this._bootstrapComponents=To(u.bootstrap),this._r3Injector=em(s,o,[{provide:Ha,useValue:this},{provide:Fp,useValue:this.componentFactoryResolver}],ae(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=io.THROW_IF_NOT_FOUND,u=ct.Default){return s===io||s===Ha||s===Jg?this:this._r3Injector.get(s,o,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Pn extends Xm{constructor(s){super(),this.moduleType=s,null!==an(s)&&aE(s)}create(s){return new ni(this.moduleType,s)}}function uE(i,s,o){const u=Cr()+i,c=ke();return c[u]===xt?Os(c,u,o?s.call(o):s()):np(c,u)}function gd(i,s,o,u){return $h(ke(),Cr(),i,s,o,u)}function lw(i,s,o,u,c){return Hh(ke(),Cr(),i,s,o,u,c)}function oo(i,s,o,u,c,g){return Lp(ke(),Cr(),i,s,o,u,c,g)}function cw(i,s,o,u,c,g,y){return lE(ke(),Cr(),i,s,o,u,c,g,y)}function ty(i,s,o,u,c,g,y,E){const C=Cr()+i,M=ke(),O=Ns(M,C,o,u,c,g);return Bi(M,C+4,y)||O?Os(M,C+5,E?s.call(E,o,u,c,g,y):s(o,u,c,g,y)):np(M,C+5)}function dw(i,s,o,u,c,g,y,E,C){const M=Cr()+i,O=ke(),U=Ns(O,M,o,u,c,g);return La(O,M+4,y,E)||U?Os(O,M+6,C?s.call(C,o,u,c,g,y,E):s(o,u,c,g,y,E)):np(O,M+6)}function hw(i,s,o,u,c,g,y,E,C,M){const O=Cr()+i,U=ke();let K=Ns(U,O,o,u,c,g);return Gc(U,O+4,y,E,C)||K?Os(U,O+7,M?s.call(M,o,u,c,g,y,E,C):s(o,u,c,g,y,E,C)):np(U,O+7)}function wn(i,s,o,u,c,g,y,E,C,M,O){const U=Cr()+i,K=ke(),ee=Ns(K,U,o,u,c,g);return Ns(K,U+4,y,E,C,M)||ee?Os(K,U+8,O?s.call(O,o,u,c,g,y,E,C,M):s(o,u,c,g,y,E,C,M)):np(K,U+8)}function fw(i,s,o,u){return cE(ke(),Cr(),i,s,o,u)}function jl(i,s){const o=i[s];return o===xt?void 0:o}function $h(i,s,o,u,c,g){const y=s+o;return Bi(i,y,c)?Os(i,y+1,g?u.call(g,c):u(c)):jl(i,y+1)}function Hh(i,s,o,u,c,g,y){const E=s+o;return La(i,E,c,g)?Os(i,E+2,y?u.call(y,c,g):u(c,g)):jl(i,E+2)}function Lp(i,s,o,u,c,g,y,E){const C=s+o;return Gc(i,C,c,g,y)?Os(i,C+3,E?u.call(E,c,g,y):u(c,g,y)):jl(i,C+3)}function lE(i,s,o,u,c,g,y,E,C){const M=s+o;return Ns(i,M,c,g,y,E)?Os(i,M+4,C?u.call(C,c,g,y,E):u(c,g,y,E)):jl(i,M+4)}function cE(i,s,o,u,c,g){let y=s+o,E=!1;for(let C=0;C<c.length;C++)Bi(i,y++,c[C])&&(E=!0);return E?Os(i,y,u.apply(g,c)):jl(i,y)}function dE(i,s){const o=Vt();let u;const c=i+20;o.firstCreatePass?(u=function qD(i,s){if(s)for(let o=s.length-1;o>=0;o--){const u=s[o];if(i===u.name)return u}}(s,o.pipeRegistry),o.data[c]=u,u.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(c,u.onDestroy)):u=o.data[c];const g=u.factory||(u.factory=ys(u.type)),y=Yn(dp);try{const E=hu(!1),C=g();return hu(E),fI(o,ke(),c,C),C}finally{Yn(y)}}function hE(i,s,o){const u=i+20,c=ke(),g=Pe(c,u);return Nu(c,u)?$h(c,Cr(),s,g.transform,o,g):g.transform(o)}function fE(i,s,o,u){const c=i+20,g=ke(),y=Pe(g,c);return Nu(g,c)?Hh(g,Cr(),s,y.transform,o,u,y):y.transform(o,u)}function pw(i,s,o,u,c){const g=i+20,y=ke(),E=Pe(y,g);return Nu(y,g)?Lp(y,Cr(),s,E.transform,o,u,c,E):E.transform(o,u,c)}function gw(i,s,o,u,c,g){const y=i+20,E=ke(),C=Pe(E,y);return Nu(E,y)?lE(E,Cr(),s,C.transform,o,u,c,g,C):C.transform(o,u,c,g)}function mw(i,s,o){const u=i+20,c=ke(),g=Pe(c,u);return Nu(c,u)?cE(c,Cr(),s,g.transform,o,g):g.transform.apply(g,o)}function Nu(i,s){return i[1].data[s].pure}function pE(i){return s=>{setTimeout(i,void 0,s)}}const kn=class yw extends I.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,u){var c,g,y;let E=s,C=o||(()=>null),M=u;if(s&&"object"==typeof s){const U=s;E=null===(c=U.next)||void 0===c?void 0:c.bind(U),C=null===(g=U.error)||void 0===g?void 0:g.bind(U),M=null===(y=U.complete)||void 0===y?void 0:y.bind(U)}this.__isAsync&&(C=pE(C),E&&(E=pE(E)),M&&(M=pE(M)));const O=super.subscribe({next:E,error:C,complete:M});return s instanceof h.w0&&s.add(O),O}};function gE(){return this._results[Hc()]()}class Vp{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Hc(),u=Vp.prototype;u[o]||(u[o]=gE)}get changes(){return this._changes||(this._changes=new kn)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const u=this;u.dirty=!1;const c=Ci(s);(this._changesDetected=!function Zr(i,s,o){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let c=i[u],g=s[u];if(o&&(c=o(c),g=o(g)),g!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Pu=(()=>{class i{}return i.__NG_ELEMENT_ID__=vw,i})();const Ga=Pu,mE=class extends Ga{constructor(s,o,u){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(s){const o=this._declarationTContainer.tViews,u=jc(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(u[19]=g.createEmbeddedView(o)),Kf(o,u,s),new Ou(u)}};function vw(){return Bl(An(),ke())}function Bl(i,s){return 4&i.type?new mE(s,i,hd(i,s)):null}let Up=(()=>{class i{}return i.__NG_ELEMENT_ID__=_w,i})();function _w(){return ny(An(),ke())}const Ew=Up,Iw=class extends Ew{constructor(s,o,u){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=u}get element(){return hd(this._hostTNode,this._hostLView)}get injector(){return new $o(this._hostTNode,this._hostLView)}get parentInjector(){const s=Eo(this._hostTNode,this._hostLView);if(af(s)){const o=du(s,this._hostLView),u=cu(s);return new $o(o[1].data[u+8],o)}return new $o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=ww(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,u){const c=s.createEmbeddedView(o||{});return this.insert(c,u),c}createComponent(s,o,u,c,g){const y=s&&!ts(s);let E;if(y)E=o;else{const U=o||{};E=U.index,u=U.injector,c=U.projectableNodes,g=U.ngModuleRef}const C=y?s:new Ul(Tn(s)),M=u||this.parentInjector;if(!g&&null==C.ngModule&&M){const U=M.get(Ha,null);U&&(g=U)}const O=C.create(M,c,void 0,g);return this.insert(O.hostView,E),O}insert(s,o){const u=s._lView,c=u[1];if(function hn(i){return wi(i[3])}(u)){const O=this.indexOf(s);if(-1!==O)this.detach(O);else{const U=u[3],K=new Iw(U,U[6],U[3]);K.detach(K.indexOf(s))}}const g=this._adjustIndex(o),y=this._lContainer;!function m(i,s,o,u){const c=10+u,g=o.length;u>0&&(o[c-1][4]=s),u<g-10?(s[4]=o[c],df(o,10+u,s)):(o.push(s),s[4]=null),s[3]=o;const y=s[17];null!==y&&o!==y&&function d(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(y,s);const E=s[19];null!==E&&E.insertView(i),s[2]|=128}(c,u,y,g);const E=wl(g,y),C=u[11],M=As(C,y[7]);return null!==M&&function nv(i,s,o,u,c,g){u[0]=c,u[6]=s,jf(i,u,o,1,c,g)}(c,y[6],C,u,M,E),s.attachToViewContainerRef(),df(md(y),g,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=ww(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),u=_(this._lContainer,o);u&&(Cs(md(this._lContainer),o),b(u[1],u))}detach(s){const o=this._adjustIndex(s,-1),u=_(this._lContainer,o);return u&&null!=Cs(md(this._lContainer),o)?new Ou(u):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function ww(i){return i[8]}function md(i){return i[8]||(i[8]=[])}function ny(i,s){let o;const u=s[i.index];if(wi(u))o=u;else{let c;if(8&i.type)c=vn(u);else{const g=s[11];c=g.createComment("");const y=k(i,s);it(g,As(g,y),c,function wu(i,s){return Zt(i)?i.nextSibling(s):s.nextSibling}(g,y),!1)}s[i.index]=o=Sv(u,s,c,i),Fa(s,o)}return new Iw(o,i,s)}class ry{constructor(s){this.queryList=s,this.matches=null}clone(){return new ry(this.queryList)}setDirty(){this.queryList.setDirty()}}class yE{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const u=null!==s.contentQueries?s.contentQueries[0]:o.length,c=[];for(let g=0;g<u;g++){const y=o.getByIndex(g);c.push(this.queries[y.indexInDeclarationView].clone())}return new yE(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==Mi(s,o).matches&&this.queries[o].setDirty()}}class vE{constructor(s,o,u=null){this.predicate=s,this.flags=o,this.read=u}}class _E{constructor(s=[]){this.queries=s}elementStart(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,g=this.getByIndex(u).embeddedTView(s,c);g&&(g.indexInDeclarationView=u,null!==o?o.push(g):o=[g])}return null!==o?new _E(o):null}template(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class EE{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new EE(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const g=u[c];this.matchTNodeWithReadOption(s,o,Gh(o,g)),this.matchTNodeWithReadOption(s,o,es(o,s,g,!1,!1))}else u===Pu?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,es(o,s,u,!1,!1))}matchTNodeWithReadOption(s,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===$a||c===Up||c===Pu&&4&o.type)this.addMatch(o.index,-2);else{const g=es(o,s,c,!1,!1);null!==g&&this.addMatch(o.index,g)}else this.addMatch(o.index,u)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function Gh(i,s){const o=i.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===s)return o[u+1];return null}function KD(i,s,o,u){return-1===o?function qh(i,s){return 11&i.type?hd(i,s):4&i.type?Bl(i,s):null}(s,i):-2===o?function ZD(i,s,o){return o===$a?hd(s,i):o===Pu?Bl(s,i):o===Up?ny(s,i):void 0}(i,s,u):Fr(i,i[1],o,s)}function Dw(i,s,o,u){const c=s[19].queries[u];if(null===c.matches){const g=i.data,y=o.matches,E=[];for(let C=0;C<y.length;C+=2){const M=y[C];E.push(M<0?null:KD(s,g[M],y[C+1],o.metadata.read))}c.matches=E}return c.matches}function iy(i,s,o,u){const c=i.queries.getByIndex(o),g=c.matches;if(null!==g){const y=Dw(i,s,c,o);for(let E=0;E<g.length;E+=2){const C=g[E];if(C>0)u.push(y[E/2]);else{const M=g[E+1],O=s[-C];for(let U=10;U<O.length;U++){const K=O[U];K[17]===K[3]&&iy(K[1],K,M,u)}if(null!==O[9]){const U=O[9];for(let K=0;K<U.length;K++){const ee=U[K];iy(ee[1],ee,M,u)}}}}}return u}function ri(i){const s=ke(),o=Vt(),u=va();_a(u+1);const c=Mi(o,u);if(i.dirty&&Ot(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const g=c.crossesNgTemplate?iy(o,s,u,[]):Dw(o,s,c,u);i.reset(g,fd),i.notifyOnChanges()}return!0}return!1}function bw(i,s,o){const u=Vt();u.firstCreatePass&&(ku(u,new vE(i,s,o),-1),2==(2&s)&&(u.staticViewQueries=!0)),Vs(u,ke(),s)}function IE(i,s,o,u){const c=Vt();if(c.firstCreatePass){const g=An();ku(c,new vE(s,o,u),g.index),function Qn(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(c,i),2==(2&o)&&(c.staticContentQueries=!0)}Vs(c,ke(),o)}function oa(){return function QD(i,s){return i[19].queries[s].queryList}(ke(),va())}function Vs(i,s,o){const u=new Vp(4==(4&o));U0(i,s,u,u.destroy),null===s[19]&&(s[19]=new yE),s[19].queries.push(new ry(u))}function ku(i,s,o){null===i.queries&&(i.queries=new _E),i.queries.track(new EE(s,o))}function Mi(i,s){return i.queries.getByIndex(s)}function Tw(i,s){return Bl(i,s)}const as=(()=>({\u0275\u0275attribute:rp,\u0275\u0275attributeInterpolate1:Yv,\u0275\u0275attributeInterpolate2:ip,\u0275\u0275attributeInterpolate3:sp,\u0275\u0275attributeInterpolate4:op,\u0275\u0275attributeInterpolate5:Br,\u0275\u0275attributeInterpolate6:Jr,\u0275\u0275attributeInterpolate7:vh,\u0275\u0275attributeInterpolate8:ap,\u0275\u0275attributeInterpolateV:Jv,\u0275\u0275defineComponent:Ke,\u0275\u0275defineDirective:rr,\u0275\u0275defineInjectable:tn,\u0275\u0275defineInjector:yi,\u0275\u0275defineNgModule:nr,\u0275\u0275definePipe:xr,\u0275\u0275directiveInject:dp,\u0275\u0275getInheritedFactory:Kn,\u0275\u0275inject:Y,\u0275\u0275injectAttribute:Ma,\u0275\u0275invalidFactory:gm,\u0275\u0275invalidFactoryDep:de,\u0275\u0275templateRefExtractor:Tw,\u0275\u0275NgOnChangesFeature:ko,\u0275\u0275ProvidersFeature:Wm,\u0275\u0275CopyDefinitionFeature:dI,\u0275\u0275InheritDefinitionFeature:sm,\u0275\u0275nextContext:pp,\u0275\u0275namespaceHTML:lg,\u0275\u0275namespaceMathML:Ia,\u0275\u0275namespaceSVG:sc,\u0275\u0275enableBindings:Ws,\u0275\u0275disableBindings:vs,\u0275\u0275elementStart:mm,\u0275\u0275elementEnd:ym,\u0275\u0275element:SI,\u0275\u0275elementContainerStart:wh,\u0275\u0275elementContainerEnd:Xc,\u0275\u0275elementContainer:Rl,\u0275\u0275pureFunction0:uE,\u0275\u0275pureFunction1:gd,\u0275\u0275pureFunction2:lw,\u0275\u0275pureFunction3:oo,\u0275\u0275pureFunction4:cw,\u0275\u0275pureFunction5:ty,\u0275\u0275pureFunction6:dw,\u0275\u0275pureFunction7:hw,\u0275\u0275pureFunction8:wn,\u0275\u0275pureFunctionV:fw,\u0275\u0275getCurrentView:_m,\u0275\u0275restoreView:Bu,\u0275\u0275listener:fp,\u0275\u0275projection:c_,\u0275\u0275syntheticHostProperty:Xr,\u0275\u0275syntheticHostListener:xu,\u0275\u0275pipeBind1:hE,\u0275\u0275pipeBind2:fE,\u0275\u0275pipeBind3:pw,\u0275\u0275pipeBind4:gw,\u0275\u0275pipeBindV:mw,\u0275\u0275projectionDef:gp,\u0275\u0275hostProperty:xm,\u0275\u0275property:Ih,\u0275\u0275propertyInterpolate:$n,\u0275\u0275propertyInterpolate1:td,\u0275\u0275propertyInterpolate2:d_,\u0275\u0275propertyInterpolate3:h_,\u0275\u0275propertyInterpolate4:nd,\u0275\u0275propertyInterpolate5:rd,\u0275\u0275propertyInterpolate6:f_,\u0275\u0275propertyInterpolate7:wm,\u0275\u0275propertyInterpolate8:p_,\u0275\u0275propertyInterpolateV:g_,\u0275\u0275pipe:dE,\u0275\u0275queryRefresh:ri,\u0275\u0275viewQuery:bw,\u0275\u0275loadQuery:oa,\u0275\u0275contentQuery:IE,\u0275\u0275reference:pI,\u0275\u0275classMap:vp,\u0275\u0275classMapInterpolate1:S_,\u0275\u0275classMapInterpolate2:A_,\u0275\u0275classMapInterpolate3:Sm,\u0275\u0275classMapInterpolate4:Am,\u0275\u0275classMapInterpolate5:M_,\u0275\u0275classMapInterpolate6:Dp,\u0275\u0275classMapInterpolate7:x_,\u0275\u0275classMapInterpolate8:R_,\u0275\u0275classMapInterpolateV:Nl,\u0275\u0275styleMap:Ps,\u0275\u0275styleMapInterpolate1:O_,\u0275\u0275styleMapInterpolate2:N_,\u0275\u0275styleMapInterpolate3:P_,\u0275\u0275styleMapInterpolate4:k_,\u0275\u0275styleMapInterpolate5:bp,\u0275\u0275styleMapInterpolate6:ks,\u0275\u0275styleMapInterpolate7:F_,\u0275\u0275styleMapInterpolate8:L_,\u0275\u0275styleMapInterpolateV:ad,\u0275\u0275styleProp:I_,\u0275\u0275stylePropInterpolate1:V_,\u0275\u0275stylePropInterpolate2:U_,\u0275\u0275stylePropInterpolate3:Tp,\u0275\u0275stylePropInterpolate4:j_,\u0275\u0275stylePropInterpolate5:B_,\u0275\u0275stylePropInterpolate6:Mm,\u0275\u0275stylePropInterpolate7:$_,\u0275\u0275stylePropInterpolate8:Sh,\u0275\u0275stylePropInterpolateV:H_,\u0275\u0275classProp:w_,\u0275\u0275advance:lh,\u0275\u0275template:Xv,\u0275\u0275text:Dm,\u0275\u0275textInterpolate:sd,\u0275\u0275textInterpolate1:Ip,\u0275\u0275textInterpolate2:wp,\u0275\u0275textInterpolate3:bh,\u0275\u0275textInterpolate4:bm,\u0275\u0275textInterpolate5:Cp,\u0275\u0275textInterpolate6:Th,\u0275\u0275textInterpolate7:T_,\u0275\u0275textInterpolate8:Tm,\u0275\u0275textInterpolateV:od,\u0275\u0275i18n:Ba,\u0275\u0275i18nAttributes:X_,\u0275\u0275i18nExp:Ll,\u0275\u0275i18nStart:Gm,\u0275\u0275i18nEnd:qm,\u0275\u0275i18nApply:Rp,\u0275\u0275i18nPostprocess:Op,\u0275\u0275resolveWindow:Rg,\u0275\u0275resolveDocument:Si,\u0275\u0275resolveBody:_u,\u0275\u0275setComponentScope:dt,\u0275\u0275setNgModuleScope:Ka,\u0275\u0275sanitizeHtml:Sc,\u0275\u0275sanitizeStyle:Cg,\u0275\u0275sanitizeResourceUrl:Sf,\u0275\u0275sanitizeScript:mu,\u0275\u0275sanitizeUrl:fl,\u0275\u0275sanitizeUrlOrResourceUrl:bg,\u0275\u0275trustConstantHtml:Zy,\u0275\u0275trustConstantResourceUrl:Qy,forwardRef:H,resolveForwardRef:X}))();let Fn=null;function xi(){Fn=null}const Ri=[];let aa=!1;function vd(){if(!aa){aa=!0;try{for(let i=Ri.length-1;i>=0;i--){const{moduleType:s,ngModule:o}=Ri[i];o.declarations&&o.declarations.every(_d)&&(Ri.splice(i,1),Ce(s,o))}}finally{aa=!1}}}function _d(i){return Array.isArray(i)?i.every(_d):!!X(i)}function js(i,s={}){ao(i,s),function yd(i,s){Ri.push({moduleType:i,ngModule:s})}(i,s)}function ao(i,s,o=!1){const u=Ci(s.declarations||G);let c=null;Object.defineProperty(i,ie,{configurable:!0,get:()=>(null===c&&(c=er().compileNgModule(as,`ng:///${i.name}/\u0275mod.js`,{type:i,bootstrap:Ci(s.bootstrap||G).map(X),declarations:u.map(X),imports:Ci(s.imports||G).map(X).map(Aw),exports:Ci(s.exports||G).map(X).map(Aw),schemas:s.schemas?Ci(s.schemas):null,id:s.id||null}),c.schemas||(c.schemas=[])),c)});let g=null;Object.defineProperty(i,Qe,{get:()=>{if(null===g){const E=er();g=E.compileFactory(as,`ng:///${i.name}/\u0275fac.js`,{name:i.name,type:i,deps:Na(i),target:E.FactoryTarget.NgModule,typeArgumentCount:0})}return g},configurable:!1});let y=null;Object.defineProperty(i,_i,{get:()=>{if(null===y){const E={name:i.name,type:i,providers:s.providers||G,imports:[(s.imports||G).map(X),(s.exports||G).map(X)]};y=er().compileInjector(as,`ng:///${i.name}/\u0275inj.js`,E)}return y},configurable:!1})}let jp=new WeakMap,CE=new WeakMap;function Sw(){jp=new WeakMap,CE=new WeakMap,Ri.length=0}function Ce(i,s){const o=Ci(s.declarations||G),u=us(i);o.forEach(c=>{c.hasOwnProperty(W)?zh(Tn(c),u):!c.hasOwnProperty(Q)&&!c.hasOwnProperty(Ae)&&(c.ngSelectorScope=i)})}function zh(i,s){i.directiveDefs=()=>Array.from(s.compilation.directives).map(o=>o.hasOwnProperty(W)?Tn(o):kt(o)).filter(o=>!!o),i.pipeDefs=()=>Array.from(s.compilation.pipes).map(o=>mt(o)),i.schemas=s.schemas,i.tView=null}function us(i){if(!Fu(i))throw new Error(`${i.name} does not have a module def (\u0275mod property)`);const s=an(i);if(null!==s.transitiveCompileScopes)return s.transitiveCompileScopes;const o={schemas:s.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return To(s.imports).forEach(u=>{const c=u;if(!Fu(c))throw new Error(`Importing ${c.name} which does not have a \u0275mod property`);const g=us(c);g.exported.directives.forEach(y=>o.compilation.directives.add(y)),g.exported.pipes.forEach(y=>o.compilation.pipes.add(y))}),To(s.declarations).forEach(u=>{mt(u)?o.compilation.pipes.add(u):o.compilation.directives.add(u)}),To(s.exports).forEach(u=>{const c=u;if(Fu(c)){const g=us(c);g.exported.directives.forEach(y=>{o.compilation.directives.add(y),o.exported.directives.add(y)}),g.exported.pipes.forEach(y=>{o.compilation.pipes.add(y),o.exported.pipes.add(y)})}else mt(c)?o.exported.pipes.add(c):o.exported.directives.add(c)}),s.transitiveCompileScopes=o,o}function Aw(i){return function Bp(i){return void 0!==i.ngModule}(i)?i.ngModule:i}function Fu(i){return!!an(i)}let bE=0;function $l(i,s){let o=null;(function ff(i,s){zd(s)&&(cl.set(i,s),gu.add(i))})(i,s),si(i,s),Object.defineProperty(i,W,{get:()=>{if(null===o){const u=er();if(zd(s)){const M=[`Component '${i.name}' is not resolved:`];throw s.templateUrl&&M.push(` - templateUrl: ${s.templateUrl}`),s.styleUrls&&s.styleUrls.length&&M.push(` - styleUrls: ${JSON.stringify(s.styleUrls)}`),M.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(M.join("\n"))}const c=function Us(){return Fn}();let g=s.preserveWhitespaces;void 0===g&&(g=null!==c&&void 0!==c.preserveWhitespaces&&c.preserveWhitespaces);let y=s.encapsulation;void 0===y&&(y=null!==c&&void 0!==c.defaultEncapsulation?c.defaultEncapsulation:$t.Emulated);const E=s.templateUrl||`ng:///${i.name}/template.html`,C=Object.assign(Object.assign({},sy(i,s)),{typeSourceSpan:u.createParseSourceSpan("Component",i.name,E),template:s.template||"",preserveWhitespaces:g,styles:s.styles||G,animations:s.animations,directives:[],changeDetection:s.changeDetection,pipes:new Map,encapsulation:y,interpolation:s.interpolation,viewProviders:s.viewProviders||null});bE++;try{C.usesInheritance&&oy(i),o=u.compileComponent(as,E,C)}finally{bE--}if(0===bE&&vd(),function Mw(i){return void 0!==i.ngSelectorScope}(i)){const M=us(i.ngSelectorScope);zh(o,M)}}return o},configurable:!1})}function $p(i,s){let o=null;si(i,s||{}),Object.defineProperty(i,Q,{get:()=>{if(null===o){const u=TE(i,s||{});o=er().compileDirective(as,u.sourceMapUrl,u.metadata)}return o},configurable:!1})}function TE(i,s){const o=i&&i.name,u=`ng:///${o}/\u0275dir.js`,c=er(),g=sy(i,s);return g.typeSourceSpan=c.createParseSourceSpan("Directive",o,u),g.usesInheritance&&oy(i),{metadata:g,sourceMapUrl:u}}function si(i,s){let o=null;Object.defineProperty(i,Qe,{get:()=>{if(null===o){const u=TE(i,s),c=er();o=c.compileFactory(as,`ng:///${i.name}/\u0275fac.js`,{name:u.metadata.name,type:u.metadata.type,typeArgumentCount:0,deps:Na(i),target:c.FactoryTarget.Directive})}return o},configurable:!1})}function SE(i){return Object.getPrototypeOf(i.prototype)===Object.prototype}function sy(i,s){const o=bs(),u=o.ownPropMetadata(i);return{name:i.name,type:i,selector:void 0!==s.selector?s.selector:null,host:s.host||Oi,propMetadata:u,inputs:s.inputs||G,outputs:s.outputs||G,queries:AE(i,u,ay),lifecycle:{usesOnChanges:o.hasLifecycleHook(i,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!SE(i),exportAs:Rw(s.exportAs),providers:s.providers||null,viewQueries:AE(i,u,uy)}}function oy(i){const s=Object.prototype;let o=Object.getPrototypeOf(i.prototype).constructor;for(;o&&o!==s;)!kt(o)&&!Tn(o)&&Hp(o)&&$p(o,null),o=Object.getPrototypeOf(o)}function Hl(i){return"string"==typeof i?ql(i):X(i)}function xw(i,s){return{propertyName:i,predicate:Hl(s.selector),descendants:s.descendants,first:s.first,read:s.read?s.read:null,static:!!s.static,emitDistinctChangesOnly:!!s.emitDistinctChangesOnly}}function AE(i,s,o){const u=[];for(const c in s)if(s.hasOwnProperty(c)){const g=s[c];g.forEach(y=>{if(o(y)){if(!y.selector)throw new Error(`Can't construct a query for the property "${c}" of "${ne(i)}" since the query selector wasn't defined.`);if(g.some(Gl))throw new Error("Cannot combine @Input decorators with query decorators");u.push(xw(c,y))}})}return u}function Rw(i){return void 0===i?null:ql(i)}function ay(i){const s=i.ngMetadataName;return"ContentChild"===s||"ContentChildren"===s}function uy(i){const s=i.ngMetadataName;return"ViewChild"===s||"ViewChildren"===s}function Gl(i){return"Input"===i.ngMetadataName}function ql(i){return i.split(",").map(s=>s.trim())}const Wh=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function Hp(i){const s=bs();if(Wh.some(u=>s.hasLifecycleHook(i,u)))return!0;const o=s.propMetadata(i);for(const u in o){const c=o[u];for(let g=0;g<c.length;g++){const y=c[g],E=y.ngMetadataName;if(Gl(y)||ay(y)||uy(y)||"Output"===E||"HostBinding"===E||"HostListener"===E)return!0}}return!1}function ME(i,s){let o=null,u=null;Object.defineProperty(i,Qe,{get:()=>{if(null===u){const c=ly(i,s),g=er();u=g.compileFactory(as,`ng:///${c.name}/\u0275fac.js`,{name:c.name,type:c.type,typeArgumentCount:0,deps:Na(i),target:g.FactoryTarget.Pipe})}return u},configurable:!1}),Object.defineProperty(i,Ae,{get:()=>{if(null===o){const c=ly(i,s);o=er().compilePipe(as,`ng:///${c.name}/\u0275pipe.js`,c)}return o},configurable:!1})}function ly(i,s){return{type:i,name:i.name,pipeName:s.name,pure:void 0===s.pure||s.pure}}const cy=Ho("Directive",(i={})=>i,void 0,void 0,(i,s)=>$p(i,s)),Ow=Ho("Component",(i={})=>Object.assign({changeDetection:Cn.Default},i),cy,void 0,(i,s)=>$l(i,s)),YD=Ho("Pipe",i=>Object.assign({pure:!0},i),void 0,void 0,(i,s)=>ME(i,s)),Nw=hi("Input",i=>({bindingPropertyName:i})),Pw=hi("Output",i=>({bindingPropertyName:i})),xE=hi("HostBinding",i=>({hostPropertyName:i})),Gp=hi("HostListener",(i,s)=>({eventName:i,args:s})),dy=Ho("NgModule",i=>i,void 0,void 0,(i,s)=>js(i,s));function hy(...i){}const RE=new In("Application Initializer");let Kh=(()=>{class i{constructor(o){this.appInits=o,this.resolve=hy,this.reject=hy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const g=this.appInits[c]();if(l_(g))o.push(g);else if(ed(g)){const y=new Promise((E,C)=>{g.subscribe({complete:E,error:C})});o.push(y)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(Y(RE,8))},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),i})();const kw=new In("AppId"),fy={provide:kw,useFactory:function Fw(){return`${qp()}${qp()}${qp()}`},deps:[]};function qp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const OE=new In("Platform Initializer"),Lw=new In("Platform ID"),py=new In("appBootstrapListener"),XD=new In("Application Packages Root URL");let NE=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),i})();const Ed=new In("LocaleId"),zp=new In("DefaultCurrencyCode"),gy=new In("Translations"),Vw=new In("TranslationsFormat");var ar=(()=>((ar=ar||{})[ar.Error=0]="Error",ar[ar.Warning=1]="Warning",ar[ar.Ignore=2]="Ignore",ar))();class PE{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let Zh=(()=>{class i{compileModuleSync(o){return new Pn(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),g=To(an(o).declarations).reduce((y,E)=>{const C=Tn(E);return C&&y.push(new Ul(C)),y},[]);return new PE(u,g)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),i})();const my=new In("compilerOptions");class Uw{}const zl=(()=>Promise.resolve(0))();function Wl(i){"undefined"==typeof Zone?zl.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class oi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kn(!1),this.onMicrotaskEmpty=new kn(!1),this.onStable=new kn(!1),this.onError=new kn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function jw(){let i=vt.requestAnimationFrame,s=vt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Zl(i){const s=()=>{!function Bw(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(vt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Lu(i),i.isCheckStableRunning=!0,Kl(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Lu(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,g,y,E)=>{try{return yy(i),o.invokeTask(c,g,y,E)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||i.shouldCoalesceRunChangeDetection)&&s(),kE(i)}},onInvoke:(o,u,c,g,y,E,C)=>{try{return yy(i),o.invoke(c,g,y,E,C)}finally{i.shouldCoalesceRunChangeDetection&&s(),kE(i)}},onHasTask:(o,u,c,g)=>{o.hasTask(c,g),u===c&&("microTask"==g.change?(i._hasPendingMicrotasks=g.microTask,Lu(i),Kl(i)):"macroTask"==g.change&&(i.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,u,c,g)=>(o.handleError(c,g),i.runOutsideAngular(()=>i.onError.emit(g)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!oi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(oi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,u){return this._inner.run(s,o,u)}runTask(s,o,u,c){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+c,s,eb,hy,hy);try{return g.runTask(y,o,u)}finally{g.cancelTask(y)}}runGuarded(s,o,u){return this._inner.runGuarded(s,o,u)}runOutsideAngular(s){return this._outer.run(s)}}const eb={};function Kl(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Lu(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function yy(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function kE(i){i._nesting--,Kl(i)}class $w{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kn,this.onMicrotaskEmpty=new kn,this.onStable=new kn,this.onError=new kn}run(s,o,u){return s.apply(o,u)}runGuarded(s,o,u){return s.apply(o,u)}runOutsideAngular(s){return s()}runTask(s,o,u,c){return s.apply(o,u)}}let Hw=(()=>{class i{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{oi.assertNotInAngularZone(),Wl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Wl(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:g,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,c){return[]}}return i.\u0275fac=function(o){return new(o||i)(Y(oi))},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),i})(),FE=(()=>{class i{constructor(){this._applications=new Map,Ql.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return Ql.findTestabilityInTree(this,o,u)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),i})();class tb{addToWindow(s){}findTestabilityInTree(s,o,u){return null}}function vy(i){Ql=i}let Oo,Ql=new tb;function Gw(i,s,o){const u=new Pn(o);return Promise.resolve(u)}function LE(i){return i.isBoundToModule}const za=new In("AllowMultipleToken");class _y{constructor(s,o){this.name=s,this.token=o}}function qw(i){if(Oo&&!Oo.destroyed&&!Oo.injector.get(za,!1))throw new pe(400,"");Oo=i.get(Qh);const s=i.get(OE,null);return s&&s.forEach(o=>o()),Oo}function VE(i,s,o=[]){const u=`Platform: ${s}`,c=new In(u);return(g=[])=>{let y=Id();if(!y||y.injector.get(za,!1))if(i)i(o.concat(g).concat({provide:c,useValue:!0}));else{const E=o.concat(g).concat({provide:c,useValue:!0},{provide:Pv,useValue:"platform"});qw(io.create({providers:E,name:u}))}return Ey()}}function Ey(i){const s=Id();if(!s)throw new pe(401,"");return s}function UE(){Oo&&!Oo.destroyed&&Oo.destroy()}function Id(){return Oo&&!Oo.destroyed?Oo:null}let Qh=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const E=function jE(i,s){let o;return o="noop"===i?new $w:("zone.js"===i?void 0:i)||new oi({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),C=[{provide:oi,useValue:E}];return E.run(()=>{const M=io.create({providers:C,parent:this.injector,name:o.moduleType.name}),O=o.create(M),U=O.injector.get(Rc,null);if(!U)throw new pe(402,"");return E.runOutsideAngular(()=>{const K=E.onError.subscribe({next:ee=>{U.handleError(ee)}});O.onDestroy(()=>{Iy(this._modules,O),K.unsubscribe()})}),function nb(i,s,o){try{const u=o();return l_(u)?u.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(U,E,()=>{const K=O.injector.get(Kh);return K.runInitializers(),K.donePromise.then(()=>(q_(O.injector.get(Ed,mr)||mr),this._moduleDoBootstrap(O),O))})})}bootstrapModule(o,u=[]){const c=zw({},u);return Gw(0,0,o).then(g=>this.bootstrapModuleFactory(g,c))}_moduleDoBootstrap(o){const u=o.injector.get(wd);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new pe(403,"");o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pe(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(Y(io))},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),i})();function zw(i,s){return Array.isArray(s)?s.reduce(zw,i):Object.assign(Object.assign({},i),s)}let wd=(()=>{class i{constructor(o,u,c,g,y){this._zone=o,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=g,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new V.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),C=new V.y(M=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{oi.assertNotInAngularZone(),Wl(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const U=this._zone.onUnstable.subscribe(()=>{oi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{O.unsubscribe(),U.unsubscribe()}});this.isStable=(0,oe.T)(E,C.pipe((0,te.B)()))}bootstrap(o,u){if(!this._initStatus.done)throw new pe(405,"");let c;c=o instanceof Km?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(c.componentType);const g=LE(c)?void 0:this._injector.get(Ha),E=c.create(io.NULL,[],u||c.selector,g),C=E.location.nativeElement,M=E.injector.get(Hw,null),O=M&&E.injector.get(FE);return M&&O&&O.registerApplication(C,M),E.onDestroy(()=>{this.detachView(E.hostView),Iy(this.components,E),O&&O.unregisterApplication(C)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new pe(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Iy(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(py,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(o){return new(o||i)(Y(oi),Y(io),Y(Rc),Y(Fp),Y(Kh))},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),i})();function Iy(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}let BE=!0,wy=!1;function rb(){return wy=!0,BE}function Zw(){if(wy)throw new Error("Cannot enable prod mode after platform setup.");BE=!1}function ib(i){const s=_r(i);if(!s)throw Yw(i);return new Pn(s)}function Qw(i){const s=_r(i);if(!s)throw Yw(i);return s}function Yw(i){return new Error(`No module with ID ${i} loaded`)}let Cd=(()=>{class i{}return i.__NG_ELEMENT_ID__=Dd,i})();function Dd(i){return function $E(i,s,o){if(qn(i)&&!o){const u=We(i.index,s);return new Ou(u,u)}return 47&i.type?new Ou(s[16],s):null}(An(),ke(),16==(16&i))}class Wp extends Cd{}class Jw extends Wp{}class ob{constructor(s,o){this.name=s,this.callback=o}}function HE(i){return i.map(s=>s.nativeElement)}class GE{constructor(s){this.nativeNode=s}get parent(){const s=this.nativeNode.parentNode;return s?new bd(s):null}get injector(){return pi(this.nativeNode)}get componentInstance(){const s=this.nativeNode;return s&&(Bv(s)||fi(s))}get context(){return Bv(this.nativeNode)||iI(this.nativeNode)}get listeners(){return $v(this.nativeNode).filter(s=>"dom"===s.type)}get references(){return function oI(i){const s=bi(i);return null===s?{}:(void 0===s.localRefs&&(s.localRefs=function th(i,s){const o=i[1].data[s];if(o&&o.localNames){const u={};let c=o.index+1;for(let g=0;g<o.localNames.length;g+=2)u[o.localNames[g]]=i[c],c++;return u}return null}(s.lView,s.nodeIndex)),s.localRefs||{})}(this.nativeNode)}get providerTokens(){return function Tl(i){const s=bi(i);if(null===s)return[];const u=s.lView[1],c=u.data[s.nodeIndex],g=[],E=c.directiveEnd;for(let C=1048575&c.providerIndexes;C<E;C++){let M=u.data[C];nm(M)&&(M=M.type),g.push(M)}return g}(this.nativeNode)}}class bd extends GE{constructor(s){super(s)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const s=bi(this.nativeNode);return null!==s?s.lView[1].data[s.nodeIndex].value:this.nativeNode.nodeName}get properties(){const s=bi(this.nativeNode);if(null===s)return{};const o=s.lView,u=o[1].data,c=u[s.nodeIndex],g={};return function ab(i,s){if(i){let o=Object.getPrototypeOf(i);const u=Node.prototype;for(;null!==o&&o!==u;){const c=Object.getOwnPropertyDescriptors(o);for(let g in c)if(!g.startsWith("__")&&!g.startsWith("on")){const y=i[g];qE(y)&&(s[g]=y)}o=Object.getPrototypeOf(o)}}}(this.nativeElement,g),function ub(i,s,o,u){let c=s.propertyBindings;if(null!==c)for(let g=0;g<c.length;g++){const y=c[g],C=u[y].split("\ufffd"),M=C[0];if(C.length>1){let O=C[1];for(let U=1;U<C.length-1;U++)O+=Z(o[y+U-1])+C[U+1];i[M]=O}else i[M]=o[y]}}(g,c,o,u),g}get attributes(){const s={},o=this.nativeElement;if(!o)return s;const u=bi(o);if(null===u)return{};const g=u.lView[1].data[u.nodeIndex].attrs,y=[];if(g){let C=0;for(;C<g.length;){const M=g[C];if("string"!=typeof M)break;s[M]=g[C+1],y.push(M.toLowerCase()),C+=2}}const E=o.attributes;for(let C=0;C<E.length;C++){const M=E[C],O=M.name.toLowerCase();-1===y.indexOf(O)&&(s[O]=M.value)}return s}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const s={},u=this.nativeElement.className;return("string"!=typeof u?u.baseVal.split(" "):u.split(" ")).forEach(g=>s[g]=!0),s}get childNodes(){const s=this.nativeNode.childNodes,o=[];for(let u=0;u<s.length;u++)o.push(ZE(s[u]));return o}get children(){const s=this.nativeElement;if(!s)return[];const o=s.children,u=[];for(let c=0;c<o.length;c++)u.push(ZE(o[c]));return u}query(s){return this.queryAll(s)[0]||null}queryAll(s){const o=[];return Xw(this,s,o,!0),o}queryAllNodes(s){const o=[];return Xw(this,s,o,!1),o}triggerEventHandler(s,o){const u=this.nativeNode,c=[];this.listeners.forEach(g=>{if(g.name===s){const y=g.callback;y.call(u,o),c.push(y)}}),"function"==typeof u.eventListeners&&u.eventListeners(s).forEach(g=>{if(-1!==g.toString().indexOf("__ngUnwrap__")){const y=g("__ngUnwrap__");return-1===c.indexOf(y)&&y.call(u,o)}})}}function qE(i){return"string"==typeof i||"boolean"==typeof i||"number"==typeof i||null===i}function Xw(i,s,o,u){const c=bi(i.nativeNode);null!==c?Td(c.lView[1].data[c.nodeIndex],c.lView,s,o,u,i.nativeNode):zE(i.nativeNode,s,o,u)}function Td(i,s,o,u,c,g){const y=function z(i,s){const o=null===i?-1:i.index;return-1!==o?vn(s[o]):null}(i,s);if(11&i.type){if(Gr(y,o,u,c,g),qn(i)){const C=We(i.index,s);C&&C[1].firstChild&&Td(C[1].firstChild,C,o,u,c,g)}else i.child&&Td(i.child,s,o,u,c,g),y&&zE(y,o,u,c);const E=s[i.index];wi(E)&&Cy(E,o,u,c,g)}else if(4&i.type){const E=s[i.index];Gr(E[7],o,u,c,g),Cy(E,o,u,c,g)}else if(16&i.type){const E=s[16],M=E[6].projection[i.projection];if(Array.isArray(M))for(let O of M)Gr(O,o,u,c,g);else if(M){const O=E[3];Td(O[1].data[M.index],O,o,u,c,g)}}else i.child&&Td(i.child,s,o,u,c,g);if(g!==y){const E=4&i.flags?i.projectionNext:i.next;E&&Td(E,s,o,u,c,g)}}function Cy(i,s,o,u,c){for(let g=10;g<i.length;g++){const y=i[g],E=y[1].firstChild;E&&Td(E,y,s,o,u,c)}}function Gr(i,s,o,u,c){if(c!==i){const g=Dy(i);if(!g)return;(u&&g instanceof bd&&s(g)&&-1===o.indexOf(g)||!u&&s(g)&&-1===o.indexOf(g))&&o.push(g)}}function zE(i,s,o,u){const c=i.childNodes,g=c.length;for(let y=0;y<g;y++){const E=c[y],C=Dy(E);C&&((u&&C instanceof bd&&s(C)&&-1===o.indexOf(C)||!u&&s(C)&&-1===o.indexOf(C))&&o.push(C),zE(E,s,o,u))}}const KE="__ng_debug__";function ZE(i){return i instanceof Node?(i.hasOwnProperty(KE)||(i[KE]=i.nodeType==Node.ELEMENT_NODE?new bd(i):new GE(i)),i[KE]):null}const Dy=ZE,eC=function QE(i){return null},Kp=GE,by=bd;class Ty{constructor(){}supports(s){return ep(s)}create(s){return new Sy(s)}}const JE=(i,s)=>s;class Sy{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||JE}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,u=this._removalsHead,c=0,g=null;for(;o||u;){const y=!u||o&&o.currentIndex<rC(u,c,g)?o:u,E=rC(y,c,g),C=y.currentIndex;if(y===u)c--,u=u._nextRemoved;else if(o=o._next,null==y.previousIndex)c++;else{g||(g=[]);const M=E-c,O=C-c;if(M!=O){for(let K=0;K<M;K++){const ee=K<g.length?g[K]:g[K]=0,Se=ee+K;O<=Se&&Se<M&&(g[K]=ee+1)}g[y.previousIndex]=O-M}}E!==C&&s(y,E,C)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!ep(s))throw new pe(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,g,y,o=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)g=s[E],y=this._trackByFn(E,g),null!==o&&Object.is(o.trackById,y)?(u&&(o=this._verifyReinsertion(o,g,y,E)),Object.is(o.item,g)||this._addIdentityChange(o,g)):(o=this._mismatch(o,g,y,E),u=!0),o=o._next}else c=0,function tp(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[Hc()]();let u;for(;!(u=o.next()).done;)s(u.value)}}(s,E=>{y=this._trackByFn(c,E),null!==o&&Object.is(o.trackById,y)?(u&&(o=this._verifyReinsertion(o,E,y,c)),Object.is(o.item,E)||this._addIdentityChange(o,E)):(o=this._mismatch(o,E,y,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,u,c){let g;return null===s?g=this._itTail:(g=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,g,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,g,c)):s=this._addAfter(new nC(o,u),g,c),s}_verifyReinsertion(s,o,u,c){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?s=this._reinsertAfter(g,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,g=s._nextRemoved;return null===c?this._removalsHead=g:c._nextRemoved=g,null===g?this._removalsTail=c:g._prevRemoved=c,this._insertAfter(s,o,u),this._addToMoves(s,u),s}_moveAfter(s,o,u){return this._unlink(s),this._insertAfter(s,o,u),this._addToMoves(s,u),s}_addAfter(s,o,u){return this._insertAfter(s,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,u){const c=null===o?this._itHead:o._next;return s._next=c,s._prev=o,null===c?this._itTail=s:c._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new XE),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,u=s._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new XE),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class nC{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class cb{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const o=s._prevDup,u=s._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class XE{constructor(){this.map=new Map}put(s){const o=s.trackById;let u=this.map.get(o);u||(u=new cb,this.map.set(o,u)),u.add(s)}get(s,o){const c=this.map.get(s);return c?c.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rC(i,s,o){const u=i.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+s+c}class iC{constructor(){}supports(s){return s instanceof Map||Qv(s)}create(){return new db}}class db{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||Qv(s)))throw new pe(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const g=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,g)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const u=s._prev;return o._next=s,o._prev=u,s._prev=o,u&&(u._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,o);const g=c._prev,y=c._next;return g&&(g._next=y),y&&(y._prev=g),c._next=null,c._prev=null,c}const u=new sC(s);return this._records.set(s,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(u=>o(s[u],u))}}class sC{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Zp(){return new Yl([new Ty])}let Yl=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||Zp()),deps:[[i,new ns,new _n]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new pe(901,"")}}return i.\u0275prov=tn({token:i,providedIn:"root",factory:Zp}),i})();function e0(){return new Ay([new iC])}let Ay=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||e0()),deps:[[i,new ns,new _n]]}}find(o){const u=this.factories.find(g=>g.supports(o));if(u)return u;throw new pe(901,"")}}return i.\u0275prov=tn({token:i,providedIn:"root",factory:e0}),i})();const hb=[new iC],aC=new Yl([new Ty]),uC=new Ay(hb),t0=VE(null,"core",[{provide:Lw,useValue:"unknown"},{provide:Qh,deps:[io]},{provide:FE,deps:[]},{provide:NE,deps:[]}]),r0=[{provide:wd,useClass:wd,deps:[oi,io,Rc,Fp,Kh]},{provide:aw,deps:[oi],useFactory:function lC(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(o){s.push(o)}}},{provide:Kh,useClass:Kh,deps:[[new _n,RE]]},{provide:Zh,useClass:Zh,deps:[]},fy,{provide:Yl,useFactory:function Yh(){return aC},deps:[]},{provide:Ay,useFactory:function n0(){return uC},deps:[]},{provide:Ed,useFactory:function xy(i){return i||function Qp(){return"undefined"!=typeof $localize&&$localize.locale||mr}()},deps:[[new Zn(Ed),new _n,new ns]]},{provide:zp,useValue:"USD"}];let s0=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(Y(wd))},i.\u0275mod=nr({type:i}),i.\u0275inj=yi({providers:r0}),i})();const o0=!0;function Jl(i){return er().compileDirectiveDeclaration(as,`ng:///${i.type.name}/\u0275fac.js`,i)}function cC(i){var s,o;oE(i.type,i.decorators,null!==(s=i.ctorParameters)&&void 0!==s?s:null,null!==(o=i.propDecorators)&&void 0!==o?o:null)}function pb(i){return er().compileComponentDeclaration(as,`ng:///${i.type.name}/\u0275cmp.js`,i)}function a0(i){return er(function gb(i){switch(i){case Nn.Directive:return"directive";case Nn.Component:return"component";case Nn.Injectable:return"injectable";case Nn.Pipe:return"pipe";case Nn.NgModule:return"NgModule"}}(i.target)).compileFactoryDeclaration(as,`ng:///${i.type.name}/\u0275fac.js`,i)}function u0(i){return er().compileInjectableDeclaration(as,`ng:///${i.type.name}/\u0275prov.js`,i)}function mb(i){return er().compileInjectorDeclaration(as,`ng:///${i.type.name}/\u0275inj.js`,i)}function l0(i){return er().compileNgModuleDeclaration(as,`ng:///${i.type.name}/\u0275mod.js`,i)}function Ry(i){return er().compilePipeDeclaration(as,`ng:///${i.type.name}/\u0275pipe.js`,i)}},3942:(ut,Ie,F)=>{"use strict";F.d(Ie,{Z:()=>pe});var I=F(2090),h=F(4859),V=F(9681),oe=F(1877);class te{constructor(Z,ne){this._delegate=Z,this.firebase=ne,(0,V._addComponent)(Z,new h.wA("app-compat",()=>this,"PUBLIC")),this.container=Z.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this._delegate.automaticDataCollectionEnabled=Z}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Z=>{this._delegate.checkDestroyed(),Z()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(Z,ne=V._DEFAULT_ENTRY_NAME){var he;this._delegate.checkDestroyed();const be=this._delegate.container.getProvider(Z);return!be.isInitialized()&&"EXPLICIT"===(null===(he=be.getComponent())||void 0===he?void 0:he.instantiationMode)&&be.initialize(),be.getImmediate({identifier:ne})}_removeServiceInstance(Z,ne=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Z).clearInstance(ne)}_addComponent(Z){(0,V._addComponent)(this._delegate,Z)}_addOrOverwriteComponent(Z){(0,V._addOrOverwriteComponent)(this._delegate,Z)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new I.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function ce(){const Me=function ae(Me){const Z={},ne={__esModule:!0,initializeApp:function _e(nt,wt={}){const re=V.initializeApp(nt,wt);if((0,I.r3)(Z,re.name))return Z[re.name];const Ee=new Me(re,ne);return Z[re.name]=Ee,Ee},app:be,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function Oe(nt){const wt=nt.name,re=wt.replace("-compat","");if(V._registerComponent(nt)&&"PUBLIC"===nt.type){const Ee=(De=be())=>{if("function"!=typeof De[re])throw ue.create("invalid-app-argument",{appName:wt});return De[re]()};void 0!==nt.serviceProps&&(0,I.ZB)(Ee,nt.serviceProps),ne[re]=Ee,Me.prototype[re]=function(...De){return this._getService.bind(this,wt).apply(this,nt.multipleInstances?De:[])}}return"PUBLIC"===nt.type?ne[re]:null},removeApp:function he(nt){delete Z[nt]},useAsService:function lt(nt,wt){return"serverAuth"===wt?null:wt},modularAPIs:V}};function be(nt){if(!(0,I.r3)(Z,nt=nt||V._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:nt});return Z[nt]}return ne.default=ne,Object.defineProperty(ne,"apps",{get:function ze(){return Object.keys(Z).map(nt=>Z[nt])}}),be.App=Me,ne}(te);return Me.INTERNAL=Object.assign(Object.assign({},Me.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function Z(ne){(0,I.ZB)(Me,ne)},createSubscribe:I.ne,ErrorFactory:I.LL,deepExtend:I.ZB}),Me}(),H=new oe.Yd("@firebase/app-compat");if((0,I.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Me=self.firebase.SDK_VERSION;Me&&Me.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const pe=$;!function le(Me){(0,V.registerVersion)("@firebase/app-compat","0.1.19",Me)}()},9681:(ut,Ie,F)=>{"use strict";F.r(Ie),F.d(Ie,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Ar,_DEFAULT_ENTRY_NAME:()=>pt,_addComponent:()=>cr,_addOrOverwriteComponent:()=>tn,_apps:()=>Hn,_clearComponents:()=>vi,_components:()=>Xt,_getProvider:()=>yi,_registerComponent:()=>wr,_removeServiceInstance:()=>bn,deleteApp:()=>ct,getApp:()=>Fe,getApps:()=>dr,initializeApp:()=>_i,onLog:()=>Yn,registerVersion:()=>Wt,setLogLevel:()=>ds});var I=F(5861),h=F(4859),V=F(1877),oe=F(2090),te=F(2940);class fe{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(Ke=>{if(function ue(xe){const Te=xe.getComponent();return"VERSION"===(null==Te?void 0:Te.type)}(Ke)){const dt=Ke.getImmediate();return`${dt.library}/${dt.version}`}return null}).filter(Ke=>Ke).join(" ")}}const ae="@firebase/app",$=new V.Yd("@firebase/app"),pt="[DEFAULT]",_t={[ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Hn=new Map,Xt=new Map;function cr(xe,Te){try{xe.container.addComponent(Te)}catch(Ke){$.debug(`Component ${Te.name} failed to register with FirebaseApp ${xe.name}`,Ke)}}function tn(xe,Te){xe.container.addOrOverwriteComponent(Te)}function wr(xe){const Te=xe.name;if(Xt.has(Te))return $.debug(`There were multiple attempts to register component ${Te}.`),!1;Xt.set(Te,xe);for(const Ke of Hn.values())cr(Ke,xe);return!0}function yi(xe,Te){const Ke=xe.container.getProvider("heartbeat").getImmediate({optional:!0});return Ke&&Ke.triggerHeartbeat(),xe.container.getProvider(Te)}function bn(xe,Te,Ke=pt){yi(xe,Te).clearInstance(Ke)}function vi(){Xt.clear()}const Qt=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class cs{constructor(Te,Ke,dt){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},Ke),this._name=Ke.name,this._automaticDataCollectionEnabled=Ke.automaticDataCollectionEnabled,this._container=dt,this.container.addComponent(new h.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw Qt.create("app-deleted",{appName:this._name})}}const Ar="9.6.8";function _i(xe,Te={}){"object"!=typeof Te&&(Te={name:Te});const Ke=Object.assign({name:pt,automaticDataCollectionEnabled:!1},Te),dt=Ke.name;if("string"!=typeof dt||!dt)throw Qt.create("bad-app-name",{appName:String(dt)});const Pt=Hn.get(dt);if(Pt){if((0,oe.vZ)(xe,Pt.options)&&(0,oe.vZ)(Ke,Pt.config))return Pt;throw Qt.create("duplicate-app",{appName:dt})}const Ct=new h.H0(dt);for(const nr of Xt.values())Ct.addComponent(nr);const gn=new cs(xe,Ke,Ct);return Hn.set(dt,gn),gn}function Fe(xe=pt){const Te=Hn.get(xe);if(!Te)throw Qt.create("no-app",{appName:xe});return Te}function dr(){return Array.from(Hn.values())}function ct(xe){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,I.Z)(function*(xe){const Te=xe.name;Hn.has(Te)&&(Hn.delete(Te),yield Promise.all(xe.container.getProviders().map(Ke=>Ke.delete())),xe.isDeleted=!0)})).apply(this,arguments)}function Wt(xe,Te,Ke){var dt;let Pt=null!==(dt=_t[xe])&&void 0!==dt?dt:xe;Ke&&(Pt+=`-${Ke}`);const Ct=Pt.match(/\s|\//),gn=Te.match(/\s|\//);if(Ct||gn){const nr=[`Unable to register library "${Pt}" with version "${Te}":`];return Ct&&nr.push(`library name "${Pt}" contains illegal characters (whitespace or "/")`),Ct&&gn&&nr.push("and"),gn&&nr.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void $.warn(nr.join(" "))}wr(new h.wA(`${Pt}-version`,()=>({library:Pt,version:Te}),"VERSION"))}function Yn(xe,Te){if(null!==xe&&"function"!=typeof xe)throw Qt.create("invalid-log-argument");(0,V.Am)(xe,Te)}function ds(xe){(0,V.Ub)(xe)}const Cn="firebase-heartbeat-store";let on=null;function zr(){return on||(on=(0,te.openDb)("firebase-heartbeat-database",1,xe=>{0===xe.oldVersion&&xe.createObjectStore(Cn)}).catch(xe=>{throw Qt.create("storage-open",{originalErrorMessage:xe.message})})),on}function gt(){return(gt=(0,I.Z)(function*(xe){try{return(yield zr()).transaction(Cn).objectStore(Cn).get(En(xe))}catch(Te){throw Qt.create("storage-get",{originalErrorMessage:Te.message})}})).apply(this,arguments)}function Et(xe,Te){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,I.Z)(function*(xe,Te){try{const dt=(yield zr()).transaction(Cn,"readwrite");return yield dt.objectStore(Cn).put(Te,En(xe)),dt.complete}catch(Ke){throw Qt.create("storage-set",{originalErrorMessage:Ke.message})}})).apply(this,arguments)}function vt(){return(vt=(0,I.Z)(function*(xe){try{const Ke=(yield zr()).transaction(Cn,"readwrite");return yield Ke.objectStore(Cn).delete(En(xe)),Ke.complete}catch(Te){throw Qt.create("storage-delete",{originalErrorMessage:Te.message})}})).apply(this,arguments)}function En(xe){return`${xe.name}!${xe.options.appId}`}class G{constructor(Te){this.container=Te,this._heartbeatsCache=null;const Ke=this.container.getProvider("app").getImmediate();this._storage=new Ae(Ke),this._heartbeatsCachePromise=this._storage.read().then(dt=>(this._heartbeatsCache=dt,dt))}triggerHeartbeat(){var Te=this;return(0,I.Z)(function*(){const dt=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pt=function W(){return(new Date).toISOString().substring(0,10)}();if(null===Te._heartbeatsCache&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise),!Te._heartbeatsCache.some(Ct=>Ct.date===Pt))return Te._heartbeatsCache.push({date:Pt,userAgent:dt}),Te._heartbeatsCache=Te._heartbeatsCache.filter(Ct=>{const gn=new Date(Ct.date).valueOf();return Date.now()-gn<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,I.Z)(function*(){if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null===Te._heartbeatsCache)return"";const{heartbeatsToSend:Ke,unsentEntries:dt}=function Q(xe,Te=1024){const Ke=[];let dt=xe.slice();for(const Pt of xe){const Ct=Ke.find(gn=>gn.userAgent===Pt.userAgent);if(Ct){if(Ct.dates.push(Pt.date),ie(Ke)>Te){Ct.dates.pop();break}}else if(Ke.push({userAgent:Pt.userAgent,dates:[Pt.date]}),ie(Ke)>Te){Ke.pop();break}dt=dt.slice(1)}return{heartbeatsToSend:Ke,unsentEntries:dt}}(Te._heartbeatsCache),Pt=(0,oe.h$)(JSON.stringify({version:2,heartbeats:Ke}));return dt.length>0?(Te._heartbeatsCache=dt,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache=null,Te._storage.deleteAll()),Pt})()}}class Ae{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,I.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,I.Z)(function*(){if(yield Te._canUseIndexedDBPromise){const dt=yield function $t(xe){return gt.apply(this,arguments)}(Te.app);return(null==dt?void 0:dt.heartbeats)||[]}return[]})()}overwrite(Te){var Ke=this;return(0,I.Z)(function*(){if(yield Ke._canUseIndexedDBPromise)return Et(Ke.app,{heartbeats:Te})})()}add(Te){var Ke=this;return(0,I.Z)(function*(){if(yield Ke._canUseIndexedDBPromise){const Pt=yield Ke.read();return Et(Ke.app,{heartbeats:[...Pt,...Te]})}})()}delete(Te){var Ke=this;return(0,I.Z)(function*(){if(yield Ke._canUseIndexedDBPromise){const Pt=yield Ke.read();return Et(Ke.app,{heartbeats:Pt.filter(Ct=>!Te.includes(Ct))})}})()}deleteAll(){var Te=this;return(0,I.Z)(function*(){if(yield Te._canUseIndexedDBPromise)return function hs(xe){return vt.apply(this,arguments)}(Te.app)})()}}function ie(xe){return(0,oe.h$)(JSON.stringify({version:2,heartbeats:xe})).length}!function Qe(xe){wr(new h.wA("platform-logger",Te=>new fe(Te),"PRIVATE")),wr(new h.wA("heartbeat",Te=>new G(Te),"PRIVATE")),Wt(ae,"0.7.18",xe),Wt(ae,"0.7.18","esm2017"),Wt("fire-js","")}("")},4859:(ut,Ie,F)=>{"use strict";F.d(Ie,{wA:()=>V,H0:()=>ae});var I=F(5861),h=F(2090);class V{constructor($,H,X){this.name=$,this.instanceFactory=H,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const oe="[DEFAULT]";class te{constructor($,H){this.name=$,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const H=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(H)){const X=new h.BH;if(this.instancesDeferred.set(H,X),this.isInitialized(H)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:H});$e&&X.resolve($e)}catch($e){}}return this.instancesDeferred.get(H).promise}getImmediate($){var H;const X=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),$e=null!==(H=null==$?void 0:$.optional)&&void 0!==H&&H;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(le){if($e)return null;throw le}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ue(ce){return"EAGER"===ce.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(H){}for(const[H,X]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(H);try{const le=this.getOrInitializeService({instanceIdentifier:$e});X.resolve(le)}catch(le){}}}}clearInstance($=oe){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,I.Z)(function*(){const H=Array.from($.instances.values());yield Promise.all([...H.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...H.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=oe){return this.instances.has($)}getOptions($=oe){return this.instancesOptions.get($)||{}}initialize($={}){const{options:H={}}=$,X=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:X,options:H});for(const[le,pe]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(le)&&pe.resolve($e);return $e}onInit($,H){var X;const $e=this.normalizeInstanceIdentifier(H),le=null!==(X=this.onInitCallbacks.get($e))&&void 0!==X?X:new Set;le.add($),this.onInitCallbacks.set($e,le);const pe=this.instances.get($e);return pe&&$(pe,$e),()=>{le.delete($)}}invokeOnInitCallbacks($,H){const X=this.onInitCallbacks.get(H);if(X)for(const $e of X)try{$e($,H)}catch(le){}}getOrInitializeService({instanceIdentifier:$,options:H={}}){let X=this.instances.get($);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=$,ce===oe?void 0:ce),options:H}),this.instances.set($,X),this.instancesOptions.set($,H),this.invokeOnInitCallbacks(X,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,X)}catch($e){}var ce;return X||null}normalizeInstanceIdentifier($=oe){return this.component?this.component.multipleInstances?$:oe:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ae{constructor($){this.name=$,this.providers=new Map}addComponent($){const H=this.getProvider($.name);if(H.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);H.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const H=new te($,this);return this.providers.set($,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(ut,Ie,F)=>{"use strict";F.d(Ie,{in:()=>h,Yd:()=>ue,Ub:()=>ae,Am:()=>ce});const I=[];var h=(()=>{return($=h||(h={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",h;var $})();const V={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},oe=h.INFO,te={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},fe=($,H,...X)=>{if(H<$.logLevel)return;const $e=(new Date).toISOString(),le=te[H];if(!le)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[le](`[${$e}]  ${$.name}:`,...X)};class ue{constructor(H){this.name=H,this._logLevel=oe,this._logHandler=fe,this._userLogHandler=null,I.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in h))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?V[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...H),this._logHandler(this,h.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...H),this._logHandler(this,h.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,h.INFO,...H),this._logHandler(this,h.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,h.WARN,...H),this._logHandler(this,h.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...H),this._logHandler(this,h.ERROR,...H)}}function ae($){I.forEach(H=>{H.setLogLevel($)})}function ce($,H){for(const X of I){let $e=null;H&&H.level&&($e=V[H.level]),X.userLogHandler=null===$?null:(le,pe,...Me)=>{const Z=Me.map(ne=>{if(null==ne)return null;if("string"==typeof ne)return ne;if("number"==typeof ne||"boolean"==typeof ne)return ne.toString();if(ne instanceof Error)return ne.message;try{return JSON.stringify(ne)}catch(he){return null}}).filter(ne=>ne).join(" ");pe>=(null!=$e?$e:le.logLevel)&&$({level:h[pe].toLowerCase(),message:Z,args:Me,type:le.name})}}}},5861:(ut,Ie,F)=>{"use strict";function I(V,oe,te,fe,ue,ae,ce){try{var $=V[ae](ce),H=$.value}catch(X){return void te(X)}$.done?oe(H):Promise.resolve(H).then(fe,ue)}function h(V){return function(){var oe=this,te=arguments;return new Promise(function(fe,ue){var ae=V.apply(oe,te);function ce(H){I(ae,fe,ue,ce,$,"next",H)}function $(H){I(ae,fe,ue,ce,$,"throw",H)}ce(void 0)})}}F.d(Ie,{Z:()=>h})}},ut=>{ut(ut.s=747)}]);